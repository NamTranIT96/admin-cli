(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["21b6c7e4"],{1331:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),r=(0,a.regex)("integer",/^-?[0-9]*$/);t.default=r},"2a12":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),r=function(e){return(0,a.withParams)({type:"maxLength",max:e},(function(t){return!(0,a.req)(t)||(0,a.len)(t)<=e}))};t.default=r},3360:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),r=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,a.withParams)({type:"and"},(function(){for(var e=this,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t.length>0&&t.reduce((function(t,i){return t&&i.apply(e,a)}),!0)}))};t.default=r},"3a54":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),r=(0,a.regex)("alphaNum",/^[a-zA-Z0-9]*$/);t.default=r},"45b8":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),r=(0,a.regex)("numeric",/^[0-9]*$/);t.default=r},"46bc":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),r=function(e){return(0,a.withParams)({type:"maxValue",max:e},(function(t){return!(0,a.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+e}))};t.default=r},5265:function(e,t,i){"use strict";var a=i("f3f4"),r=i.n(a);r.a},"5d75":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),r=/(^$|^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/,n=(0,a.regex)("email",r);t.default=n},"5db3":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),r=function(e){return(0,a.withParams)({type:"minLength",min:e},(function(t){return!(0,a.req)(t)||(0,a.len)(t)>=e}))};t.default=r},6235:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),r=(0,a.regex)("alpha",/^[a-zA-Z]*$/);t.default=r},6417:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),r=function(e){return(0,a.withParams)({type:"not"},(function(t,i){return!(0,a.req)(t)||!e.call(this,t,i)}))};t.default=r},"64c8":function(e,t,i){"use strict";var a=i("9a56"),r=i.n(a);r.a},"772d":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),r=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i,n=(0,a.regex)("url",r);t.default=n},"78ef":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"withParams",{enumerable:!0,get:function(){return a.default}}),t.regex=t.ref=t.len=t.req=void 0;var a=r(i("8750"));function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var s=function(e){if(Array.isArray(e))return!!e.length;if(void 0===e||null===e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===n(e)){for(var t in e)return!0;return!1}return!!String(e).length};t.req=s;var o=function(e){return Array.isArray(e)?e.length:"object"===n(e)?Object.keys(e).length:String(e).length};t.len=o;var l=function(e,t,i){return"function"===typeof e?e.call(t,i):i[e]};t.ref=l;var c=function(e,t){return(0,a.default)({type:e},(function(e){return!s(e)||t.test(e)}))};t.regex=c},8750:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="web"===Object({NODE_ENV:"production",CLIENT:!0,SERVER:!1,DEV:!1,PROD:!0,MODE:"pwa",VUE_ROUTER_MODE:"hash",VUE_ROUTER_BASE:"",APP_URL:"undefined",SERVICE_WORKER_FILE:"service-worker.js"}).BUILD?i("cb69").withParams:i("0234").withParams,r=a;t.default=r},"91d3":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return(0,a.withParams)({type:"macAddress"},(function(t){if(!(0,a.req)(t))return!0;if("string"!==typeof t)return!1;var i="string"===typeof e&&""!==e?t.split(e):12===t.length||16===t.length?t.match(/.{2}/g):null;return null!==i&&(6===i.length||8===i.length)&&i.every(n)}))};t.default=r;var n=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)}},"9a56":function(e,t,i){},a018:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-dialog",{attrs:{persistent:"",maximized:!0,"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.trigger_edit_price_option,callback:function(t){e.trigger_edit_price_option=t},expression:"trigger_edit_price_option"}},[i("q-card",{staticStyle:{"background-color":"#ececec"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6 offset-md-3 bg-white step-step-1-wrapper"},[i("div",{staticStyle:{"text-align":"right"}},[i("q-btn",{attrs:{icon:"close",size:"md",color:"grey",flat:""},on:{click:function(t){return e.closePopUp()}}})],1),i("div",[i("div",{staticClass:"text-title"},[e._v("Edit option price")]),i("div",{staticClass:"desc-text q-mt-sm"},[e._v("Add attributes that apply to this option")]),i("q-separator",{staticClass:"q-mt-lg"}),i("div",{staticClass:"font-16 q-pb-sm q-mt-lg"},[e._v("Title")]),i("div",{staticClass:"search-attraction"},[i("el-input",{class:{"input-error":e.$v.info_option_price.title.$error},attrs:{size:"large",placeholder:"Input title"},model:{value:e.$v.info_option_price.$model.title,callback:function(t){e.$set(e.$v.info_option_price.$model,"title",t)},expression:"$v.info_option_price.$model.title"}}),i("div",{staticClass:"error-wrapper"},[e.$v.info_option_price.title.$error?i("div",{staticClass:"error-item"},[e._v("Title is required")]):e._e()])],1),i("div",{staticClass:"font-16 q-pb-sm q-mt-lg"},[e._v("Description")]),i("div",{staticClass:"search-attraction q-pb-lg"},[i("el-input",{class:{"input-error":e.$v.info_option_price.description.$error},attrs:{type:"textarea",autosize:{minRows:4,maxRows:7},size:"large",placeholder:"Input description"},model:{value:e.$v.info_option_price.$model.description,callback:function(t){e.$set(e.$v.info_option_price.$model,"description",t)},expression:"$v.info_option_price.$model.description"}}),i("div",{staticClass:"error-wrapper"},[e.$v.info_option_price.description.$error?i("div",{staticClass:"error-item"},[e._v("Title is required")]):e._e()])],1),i("q-separator",{staticClass:"q-mt-lg"}),i("div",{staticClass:"button-footer-wrapper flex items-center q-mt-lg"},[i("div",{staticClass:"q-mr-lg"},[i("q-btn",{attrs:{outline:"",color:"primary",size:"lg",label:"Cancel"},on:{click:function(t){return e.closePopUp()}}})],1),i("div",[i("q-btn",{attrs:{color:"primary",size:"lg",label:"Save"},on:{click:function(t){return e.savePriceOption()}}})],1)]),i("div",{staticClass:"button-footer-wrapper-mobile flex justify-between items-center q-mt-lg"},[i("div",[i("q-btn",{attrs:{outline:"",color:"primary",size:"md",label:"Cancel"},on:{click:function(t){return e.closePopUp()}}})],1),i("div",[i("q-btn",{attrs:{color:"primary",size:"md",label:"Save"},on:{click:function(t){return e.savePriceOption()}}})],1)])],1)])])])],1)},r=[],n=i("b5ae"),s={name:"edit-price-option-page",props:{trigger_edit_price_option:{type:Boolean,default:!1},info_price_option:{type:Object,default:{}}},watch:{info_price_option:function(e){this.info_option_price.title=this.info_price_option.title,this.info_option_price.description=this.info_price_option.description}},data:function(){return{info_option_price:{title:"",description:""}}},validations:{info_option_price:{title:{required:n["required"]},description:{required:n["required"]}}},methods:{checkValidate:function(){return this.$v.info_option_price.description.$touch(),this.$v.info_option_price.title.$touch(),!this.$v.info_option_price.description.$error&&!this.$v.info_option_price.title.$error},closePopUp:function(){this.$emit("update:trigger_edit_price_option",!1)},savePriceOption:function(){var e=this;if(e.checkValidate()&&e.info_price_option.id){var t=localStorage.getItem("user_token_fisheye_client"),i={id:e.info_price_option.id,name:e.info_option_price.title,description:e.info_option_price.description};this.$axios.put("/api/Products/UpdatePriceOption",JSON.stringify(i),{headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then((function(t){e.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Update Successfully"}),e.closePopUp(),e.$emit("reloadInfo")})).catch((function(t){t.response.data?e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:t.response.data}):e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}}},components:{},mounted:function(){this.info_option_price.title=this.info_price_option.title,this.info_option_price.description=this.info_price_option.description}},o=s,l=i("2877"),c=i("fe09"),p=Object(l["a"])(o,a,r,!1,null,"cb2e455c",null);t["a"]=p.exports;p.options.components=Object.assign({QDialog:c["k"],QCard:c["e"],QBtn:c["c"],QSeparator:c["C"]},p.options.components||{})},aa82:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),r=function(e){return(0,a.withParams)({type:"requiredIf",prop:e},(function(t,i){return!(0,a.ref)(e,this,i)||(0,a.req)(t)}))};t.default=r},b5ae:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"alpha",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"alphaNum",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"numeric",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"between",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"email",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ipAddress",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"macAddress",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"maxLength",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"minLength",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"required",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"requiredIf",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"requiredUnless",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"sameAs",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"url",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"or",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"and",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"not",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"minValue",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"maxValue",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"integer",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(t,"decimal",{enumerable:!0,get:function(){return x.default}}),t.helpers=void 0;var a=P(i("6235")),r=P(i("3a54")),n=P(i("45b8")),s=P(i("ec11")),o=P(i("5d75")),l=P(i("c99d")),c=P(i("91d3")),p=P(i("2a12")),d=P(i("5db3")),u=P(i("d4f4")),m=P(i("aa82")),_=P(i("e652")),f=P(i("b6cb")),v=P(i("772d")),g=P(i("d294")),b=P(i("3360")),h=P(i("6417")),y=P(i("eb66")),C=P(i("46bc")),q=P(i("1331")),x=P(i("c301")),k=w(i("78ef"));function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};a.get||a.set?Object.defineProperty(t,i,a):t[i]=e[i]}return t.default=e,t}function P(e){return e&&e.__esModule?e:{default:e}}t.helpers=k},b6cb:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),r=function(e){return(0,a.withParams)({type:"sameAs",eq:e},(function(t,i){return t===(0,a.ref)(e,this,i)}))};t.default=r},c301:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),r=(0,a.regex)("decimal",/^[-]?\d*(\.\d+)?$/);t.default=r},c99d:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),r=(0,a.withParams)({type:"ipAddress"},(function(e){if(!(0,a.req)(e))return!0;if("string"!==typeof e)return!1;var t=e.split(".");return 4===t.length&&t.every(n)}));t.default=r;var n=function(e){if(e.length>3||0===e.length)return!1;if("0"===e[0]&&"0"!==e)return!1;if(!e.match(/^\d+$/))return!1;var t=0|+e;return t>=0&&t<=255}},cb1b:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-dialog",{attrs:{persistent:"",maximized:!0,"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.trigger_edit_price,callback:function(t){e.trigger_edit_price=t},expression:"trigger_edit_price"}},[i("q-card",{staticStyle:{"background-color":"#ececec"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6 offset-md-3 bg-white step-step-1-wrapper"},[i("div",{staticStyle:{"text-align":"right"}},[i("q-btn",{attrs:{icon:"close",size:"md",color:"grey",flat:""},on:{click:function(t){return e.closePopUp()}}})],1),2==e.step_step?i("div",[i("div",{staticClass:"text-title"},[e._v("Edit Price: Step 1 of 2")]),i("div",{staticClass:"desc-text q-mt-sm"},[e._v("Edit a schedule")]),i("q-separator",{staticClass:"q-mt-lg"}),i("div",{staticClass:"font-16 q-pb-sm q-mt-lg"},[e._v("When does your price change begin?")]),i("div",{staticClass:"search-attraction"},[i("el-date-picker",{class:{"input-error":e.$v.item_price_to_edit.startTime.$error},attrs:{"picker-options":e.pickerOptions,"popper-class":"popper-pickdate-step-step-2",format:"dd-MM-yyyy",type:"date",placeholder:"Enter a day"},model:{value:e.$v.item_price_to_edit.startTime.$model,callback:function(t){e.$set(e.$v.item_price_to_edit.startTime,"$model",t)},expression:"$v.item_price_to_edit.startTime.$model"}}),i("div",{staticClass:"error-wrapper"},[e.$v.item_price_to_edit.startTime.$error?i("div",{staticClass:"error-item"},[e._v("Date begin is required")]):e._e()])],1),e.have_price_change_end?e._e():i("div",{staticClass:"sub-text-3-custom q-pb-sm q-mt-lg",on:{click:function(t){e.have_price_change_end=!0}}},[e._v("Give this price change an end date (optional)")]),e.have_price_change_end?i("div",[i("div",{staticClass:"font-16 q-pb-sm q-mt-lg"},[e._v("When does your price change end?")]),i("div",{staticClass:"search-attraction"},[i("el-date-picker",{attrs:{"picker-options":e.pickerOptions2,"popper-class":"popper-pickdate-step-step-2",format:"dd-MM-yyyy",type:"date",placeholder:"Enter a day"},model:{value:e.item_price_to_edit.endTime,callback:function(t){e.$set(e.item_price_to_edit,"endTime",t)},expression:"item_price_to_edit.endTime"}})],1)]):e._e(),i("q-separator",{staticClass:"q-mt-lg"}),i("div",{staticClass:"button-footer-wrapper flex justify-between items-center q-mt-lg"},[i("div",{staticClass:"q-mr-lg"},[i("q-btn",{attrs:{outline:"",color:"primary",size:"lg",label:"Cancel"},on:{click:function(t){return e.closePopUp()}}})],1),i("div",{staticClass:"flex"},[i("div",{staticClass:"round-cicle active q-mr-sm"}),i("div",{staticClass:"round-cicle"})]),i("div",[i("q-btn",{attrs:{color:"primary",size:"lg",label:"Next"},on:{click:function(t){return e.gotoStepStep3()}}})],1)]),i("div",{staticClass:"button-footer-wrapper-mobile flex justify-between items-center q-mt-lg"},[i("div",[i("q-btn",{attrs:{outline:"",color:"primary",size:"md",label:"Cancel"},on:{click:function(t){return e.closePopUp()}}})],1),i("div",[i("q-btn",{attrs:{color:"primary",size:"md",label:"Next"},on:{click:function(t){return e.gotoStepStep3()}}})],1)])],1):e._e(),3==e.step_step?i("div",{staticClass:"step-3-wrapper"},[i("div",{staticClass:"text-title"},[e._v("Step 2 of 2")]),i("div",{staticClass:"desc-text q-mt-sm"},[e._v("Add another price")]),i("q-separator",{staticClass:"q-mt-lg"}),i("div",{staticClass:"font-16 q-pb-sm q-mt-lg"},[i("span",{staticClass:"q-mr-md"},[i("b",[e._v("Maximum spots")])]),i("el-input-number",{staticClass:"input-custom-width-2",attrs:{size:"medium",min:0,"controls-position":"right"},model:{value:e.item_price_to_edit.maxSpot,callback:function(t){e.$set(e.item_price_to_edit,"maxSpot",t)},expression:"item_price_to_edit.maxSpot"}})],1),i("div",{staticClass:"font-16 q-pb-sm q-mt-lg"},[i("strong",[e._v("Pricing")])]),i("div",{staticClass:"q-pb-md"},[i("q-toggle",{attrs:{label:"Enable tiered pricing"},model:{value:e.enable_tier_pricing,callback:function(t){e.enable_tier_pricing=t},expression:"enable_tier_pricing"}})],1),i("div",{staticClass:"q-pt-lg q-pl-md q-pr-md q-pb-md table-pricing-person"},[i("div",{staticClass:"flex q-mb-md"},[i("div",{staticClass:"w-150-px"}),e.enable_tier_pricing?i("div",{staticClass:"w-250-px"},[e._v("Min - max per booking")]):e._e(),i("div",[e._v("Suggested retail price")])]),e._l(e.item_price_to_edit.pricings,(function(t,a){return i("div",{key:a,staticClass:"flex q-mb-md items-center"},[t.isActive?i("div",{staticClass:"flex items-center w-100"},[i("div",{staticClass:"w-150-px"},[i("q-checkbox",{attrs:{label:t.name},model:{value:t.isActive,callback:function(i){e.$set(t,"isActive",i)},expression:"item.isActive"}})],1),t.isActive?i("div",{staticClass:"flex items-center",staticStyle:{width:"calc(100% - 150px)"}},[e._l(t.tierPricings,(function(a,r){return i("div",{key:r,staticClass:"w-100 flex items-center q-mb-xs"},[i("div",{staticClass:"w-100 flex items-center"},[e.enable_tier_pricing?i("div",{staticClass:"flex items-center w-250-px"},[i("div",[i("el-input-number",{staticClass:"input-custom-width",attrs:{size:"small",min:0,max:e.max_traveller,"controls-position":"right"},model:{value:a.min,callback:function(t){e.$set(a,"min",t)},expression:"item_tier.min"}})],1),i("div",{staticClass:"q-ma-sm"},[e._v("-")]),i("div",[i("el-input-number",{staticClass:"input-custom-width",attrs:{size:"small",min:0,max:e.max_traveller,"controls-position":"right"},model:{value:a.max,callback:function(t){e.$set(a,"max",t)},expression:"item_tier.max"}})],1)]):e._e(),i("div",{staticStyle:{width:"calc(85% - 250px)"}},[i("div",{staticClass:"flex w-100 items-center"},[i("div",[i("money",e._b({staticClass:"input-number-custom-2",model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item_tier.value"}},"money",e.money_option,!1))],1)])]),e.enable_tier_pricing&&0!=r?i("div",{staticStyle:{width:"15%"}},[i("q-btn",{staticClass:"q-ml-lg",attrs:{icon:"delete",color:"primary",size:"sm"},on:{click:function(i){return e.deleteTier(t,r)}}})],1):e._e()]),t.tierPricings&&t.tierPricings[r-1]?i("div",{staticClass:"w-100 error-wrapper"},[t.tierPricings[r].min<=t.tierPricings[r-1].max?i("div",{staticClass:"error-item"},[e._v("\n                        Please enter a minimum passenger amount one greater\n                        than the previous tier's max.\n                      ")]):e._e(),a.min>a.max?i("div",{staticClass:"error-item"},[e._v("\n                        Please enter a maximum passenger amount greater than\n                        or equal to the minimum.\n                      ")]):e._e()]):e._e()])})),e.enable_tier_pricing?i("div",{staticClass:"sub-text-3-custom q-mt-sm",staticStyle:{width:"initial"},on:{click:function(i){return e.addNewTier(t)}}},[e._v("+ Add another tier")]):e._e()],2):e._e(),t.isActive?e._e():i("div",[e._v("Not available.")])]):e._e()])}))],2),i("div",{staticClass:"font-16 q-pb-sm q-mt-lg"},[i("strong",[e._v("Select the days these prices apply")])]),i("div",{staticClass:"q-mb-lg"},[i("q-checkbox",{attrs:{dense:"",label:"Select all"},model:{value:e.select_all_day_apply,callback:function(t){e.select_all_day_apply=t},expression:"select_all_day_apply"}})],1),i("div",{staticClass:"list_date_of_week flex items-center"},e._l(e.list_date_of_week,(function(t,a){return i("div",{key:a},[t.isVisible?i("div",{staticClass:"day_item q-pa-sm q-mr-sm q-mb-sm",class:{active:t.isChecked},on:{click:function(i){return e.chooseDayOfWeek(t)}}},[e._v(e._s(t.name))]):e._e()])})),0),i("div",{staticClass:"font-16 q-pb-sm q-mt-lg"},[i("strong",[e._v("Add the times when these prices apply")])]),i("div",[i("strong",[e._v("Note:")]),e._v(" To enter your pickup time and information,\n            go to Meeting and Pickup.\n          ")]),i("div",{staticClass:"list-interval q-mt-lg flex"},e._l(e.list_interval_time,(function(t,a){return i("div",{key:a,staticClass:"item-interval q-mr-md flex"},[i("el-select",{staticClass:"select-range-time",attrs:{"popper-class":"popper-choose-range-time",placeholder:"0:00am"},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item_interval.value"}},e._l(e.options_range_time,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e.list_interval_time.length>1?i("div",{staticClass:"close-wrapper flex items-center justify-center",on:{click:function(t){return e.removeTimeInterVal(a)}}},[e._v("X")]):e._e()],1)})),0),i("div",{staticClass:"q-mt-md"},[i("div",{staticClass:"sub-text-3-custom",staticStyle:{width:"fit-content"},on:{click:function(t){return e.addNewIntervalTime()}}},[e._v("+ Add at regular intervals")])]),i("q-separator",{staticClass:"q-mt-lg"}),i("div",{staticClass:"button-footer-wrapper flex justify-between items-center q-mt-lg"},[i("div",[i("q-btn",{attrs:{outline:"",color:"primary",size:"lg",label:"Back"},on:{click:function(t){e.step_step=2}}})],1),i("div",{staticClass:"flex"},[i("div",{staticClass:"round-cicle q-mr-sm"}),i("div",{staticClass:"round-cicle active"})]),i("div",[i("q-btn",{attrs:{color:"primary",size:"lg",label:"Save"},on:{click:function(t){return e.savePrice()}}})],1)]),i("div",{staticClass:"button-footer-wrapper-mobile flex justify-between items-center q-mt-lg"},[i("div",[i("q-btn",{attrs:{outline:"",color:"primary",size:"md",label:"Back"},on:{click:function(t){e.step_step=2}}})],1),i("div",{staticClass:"flex"},[i("div",{staticClass:"round-cicle q-mr-sm"}),i("div",{staticClass:"round-cicle active"})]),i("div",[i("q-btn",{attrs:{color:"primary",size:"md",label:"Save"},on:{click:function(t){return e.savePrice()}}})],1)])],1):e._e()])])])],1)},r=[],n=(i("8e6e"),i("8a81"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("7f7f"),i("c47a")),s=i.n(n),o=(i("c5f6"),i("b5ae")),l=i("e71f"),c=i("2f62");function p(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?p(i,!0).forEach((function(t){s()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):p(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var u={name:"Edit-Price-page",props:{trigger_edit_price:{type:Boolean,default:{}},item_price_edit:{type:Object,default:{}},max_traveller:{type:Number,default:0}},filters:{},computed:d({},Object(c["b"])({current_branch_id:"login/getCurrentBranchId",regional_branch:"login/getInfoRegionalBranch"})),watch:{regional_branch:function(e){e&&e.mainCurrency&&(this.money_option=Object(l["a"])(parseInt(e.mainCurrency)),this.$forceUpdate(),1==parseInt(e.mainCurrency)&&(this.option_filter={symbol:"",thousandsSeparator:",",fractionCount:0,fractionSeparator:".",display_symbol:"VND"}),2==parseInt(e.mainCurrency)&&(this.option_filter={symbol:"",thousandsSeparator:",",fractionCount:2,fractionSeparator:".",display_symbol:"$"}),this.$forceUpdate())},item_price_edit:{handler:function(e,t){""!=this.item_price_edit.endTime&&null!=this.item_price_edit.endTime&&void 0!=this.item_price_edit.endTime&&(this.have_price_change_end=!0),this.$set(this,"item_price_to_edit",JSON.parse(JSON.stringify(this.item_price_edit))),this.resetForm(),this.initDataEdit()},deep:!0},select_all_day_apply:function(e){this.changeSelectAllDay()}},validations:{item_price_to_edit:{startTime:{required:o["required"]}}},data:function(){var e=this;return{option_filter:{symbol:"",thousandsSeparator:",",fractionCount:0,fractionSeparator:".",display_symbol:"VND"},money_option:{},select_all_day_apply:!1,list_obj_price:[{name:"Senior",checked:!1,allow_binding:!1,list_tier:[{value:0,min:0,max:0}]},{name:"Adult",checked:!1,allow_binding:!1,list_tier:[{value:0,min:0,max:0}]},{name:"Youth",checked:!1,allow_binding:!1,list_tier:[{value:0,min:0,max:0}]},{name:"Child",checked:!1,allow_binding:!1,list_tier:[{value:0,min:0,max:0}]},{name:"Infant",checked:!1,allow_binding:!1,list_tier:[{value:0,min:0,max:0}]}],list_date_of_week:[{name:"Sun",isChecked:!1,isVisible:!0,id:0},{name:"Mon",isChecked:!0,isVisible:!0,id:1},{name:"Tue",isChecked:!1,isVisible:!0,id:2},{name:"Wed",isChecked:!1,isVisible:!0,id:3},{name:"Thu",isChecked:!1,isVisible:!0,id:4},{name:"Fri",isChecked:!1,isVisible:!0,id:5},{name:"Sat",isChecked:!1,isVisible:!0,id:6}],item_price_to_edit:{id:-1,startTime:"",endTime:"",hasEndDate:"",pricings:"",maxSpot:"",daysApply:"",timeApply:"",priceOptionId:-1},enable_tier_pricing:!1,have_price_change_end:!1,triggerOpenDialogEditPriceOption:!1,step_step:2,options_range_time:[{value:"12:00am",label:"12:00am"},{value:"12:30am",label:"12:30am"},{value:"01:00am",label:"01:00am"},{value:"01:30am",label:"01:30am"},{value:"02:00am",label:"02:00am"},{value:"02:30am",label:"02:30am"},{value:"03:00am",label:"03:00am"},{value:"03:30am",label:"03:30am"},{value:"04:00am",label:"04:00am"},{value:"04:30am",label:"04:30am"},{value:"05:00am",label:"05:00am"},{value:"05:30am",label:"05:30am"},{value:"06:00am",label:"06:00am"},{value:"06:30am",label:"06:30am"},{value:"07:00am",label:"07:00am"},{value:"07:30am",label:"07:30am"},{value:"08:00am",label:"08:00am"},{value:"08:30am",label:"08:30am"},{value:"09:00am",label:"09:00am"},{value:"09:30am",label:"09:30am"},{value:"10:00am",label:"10:00am"},{value:"10:30am",label:"10:30am"},{value:"11:00am",label:"11:00am"},{value:"11:30am",label:"11:30am"},{value:"12:00pm",label:"12:00pm"},{value:"12:30pm",label:"12:30pm"},{value:"01:00pm",label:"01:00pm"},{value:"01:30pm",label:"01:30pm"},{value:"02:00pm",label:"02:00pm"},{value:"02:30pm",label:"02:30pm"},{value:"03:00pm",label:"03:00pm"},{value:"03:30pm",label:"03:30pm"},{value:"04:00pm",label:"04:00pm"},{value:"04:30pm",label:"04:30pm"},{value:"05:00pm",label:"05:00pm"},{value:"05:30pm",label:"05:30pm"},{value:"06:00pm",label:"06:00pm"},{value:"06:30pm",label:"06:30pm"},{value:"07:00pm",label:"07:00pm"},{value:"07:30pm",label:"07:30pm"},{value:"08:00pm",label:"08:00pm"},{value:"08:30pm",label:"08:30pm"},{value:"09:00pm",label:"09:00pm"},{value:"09:30pm",label:"09:30pm"},{value:"10:00pm",label:"10:00pm"},{value:"10:30pm",label:"10:30pm"},{value:"11:00pm",label:"11:00pm"},{value:"11:30pm",label:"11:30pm"}],value_range_time:"",current_option_price_edit:{},list_interval_time:[{value:""}],pickerOptions:{disabledDate:function(e){var t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),e.getTime()<t.getTime()}},pickerOptions2:{disabledDate:function(t){return""!=e.item_price_to_edit.startTime?t.getTime()<e.item_price_to_edit.startTime:t.getTime()<Date.now()}},current_product_edited:{},list_price_option:[]}},methods:{resetForm:function(){var e=this;e.step_step=2},closePopUp:function(){this.$emit("update:trigger_edit_price",!1)},savePrice:function(){var e=this,t=localStorage.getItem("user_token_fisheye_client"),i=this.item_price_to_edit;"string"!=typeof i.startTime&&null!=i.startTime&&i.startTime.setHours(12),"string"!=typeof i.endTime&&null!=i.endTime&&i.endTime.setHours(12);var a=[];e.list_date_of_week.forEach((function(e){if(e.isChecked)return a.push(e.name)})),e.list_obj_price.map((function(e){return{name:e.name,isActive:e.checked,tierPricings:e.list_tier}})),i.daysApply=a,i.timeApply=e.list_interval_time.map((function(e){return e.value})),i.priceId=i.id,i.pricings.forEach((function(e){delete e["id"],delete e["priceId"],e.tierPricings.forEach((function(e){delete e["id"],delete e["pricingId"]}))})),this.$axios.put("/api/Products/UpdatePrice",JSON.stringify(i),{headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then((function(t){e.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Update Successfully"}),e.closePopUp(),e.$emit("reloadInfo")})).catch((function(t){t.response.data?e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:t.response.data}):e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))},getFinalPriceToSave:function(){var e=this,t={daysApply:[],timeApply:[],startTime:"",endTime:"",pricings:[],maxSpot:e.max_spots},i=[],a=[];return e.list_date_of_week.forEach((function(e){if(e.isChecked)return i.push(e.name)})),a=e.list_obj_price.map((function(e){return{name:e.name,isActive:e.checked,tierPricings:e.list_tier}})),t.daysApply=i,t.timeApply=e.list_interval_time.map((function(e){return e.value})),t.startTime=e.info_option_price.date_begin,t.endTime=e.info_option_price.date_end,t.pricings=a,t},removeTimeInterVal:function(e){this.list_interval_time.splice(e,1)},deleteTier:function(e,t){e.tierPricings.splice(t,1)},addNewIntervalTime:function(){this.list_interval_time.push({value:""})},addNewTier:function(e){var t={value:0,min:0,max:0};e.tierPricings.push(t),this.$forceUpdate()},changeSelectAllDay:function(){this.select_all_day_apply?this.list_date_of_week.forEach((function(e){e.isChecked=!0})):this.list_date_of_week.forEach((function(e){e.isChecked=!1})),this.$forceUpdate()},chooseDayOfWeek:function(e){e.isChecked=!e.isChecked},checkValidateGotoStep3:function(){return this.$v.item_price_to_edit.startTime.$touch(),!this.$v.item_price_to_edit.startTime.$error},getDates:function(e,t){var i=new Array,a=new Date(e);if(null!=t&&""!=t&&void 0!=t){while(a<=new Date(t))i.push(new Date(a)),a=a.addDays(1);return i}},getInfoDateOfWeek:function(){if(""!=this.item_price_to_edit.endTime&&null!=this.item_price_to_edit.endTime&&void 0!=this.item_price_to_edit.endTime){var e=this.item_price_to_edit.startTime,t=this.item_price_to_edit.endTime,i=this.getDates(e,t),a=[];i.forEach((function(e){-1==a.indexOf(e.getDay())&&a.push(e.getDay())})),this.list_date_of_week.forEach((function(e){-1!=a.indexOf(e.id)?e.isVisible=!0:e.isVisible=!1}))}},gotoStepStep3:function(){var e=this;e.checkValidateGotoStep3()&&(this.getInfoDateOfWeek(),this.step_step=3)},handleChange:function(e){console.log(e)},gotoStep3:function(){this.$router.push("/products/create/content/inclusionsExclusions")},openDialogCreateProductStep3:function(){this.trigger_edit_priceOption=!0},checkHaveMultiTier:function(){var e=this;this.item_price_to_edit.pricings&&this.item_price_to_edit.pricings.forEach((function(t){t.tierPricings.length>1&&(e.enable_tier_pricing=!0)}))},initDayApply:function(){var e=this;e.item_price_to_edit.daysApply&&(e.item_price_to_edit.daysApply.forEach((function(t){e.list_date_of_week.forEach((function(e){e.name==t&&(e.isChecked=!0)}))})),e.list_interval_time=[],e.item_price_to_edit.timeApply.forEach((function(t){var i={value:t};e.list_interval_time.push(i)})))},initDataEdit:function(){this.checkHaveMultiTier(),this.initDayApply()}},mounted:function(){Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t},""!=this.item_price_edit.endTime&&null!=this.item_price_edit.endTime&&void 0!=this.item_price_edit.endTime&&(this.have_price_change_end=!0),this.$set(this,"item_price_to_edit",JSON.parse(JSON.stringify(this.item_price_edit))),this.resetForm(),this.initDataEdit()}},m=u,_=(i("5265"),i("2877")),f=i("fe09"),v=Object(_["a"])(m,a,r,!1,null,"ca99478e",null);t["a"]=v.exports;v.options.components=Object.assign({QDialog:f["k"],QCard:f["e"],QBtn:f["c"],QSeparator:f["C"],QToggle:f["N"],QCheckbox:f["h"]},v.options.components||{})},cb69:function(e,t,i){"use strict";(function(e){function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.withParams=void 0;var a="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},r=function(e,t){return"object"===i(e)&&void 0!==t?t:e((function(){}))},n=a.vuelidate?a.vuelidate.withParams:r;t.withParams=n}).call(this,i("c8ba"))},d294:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),r=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,a.withParams)({type:"or"},(function(){for(var e=this,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t.length>0&&t.reduce((function(t,i){return t||i.apply(e,a)}),!1)}))};t.default=r},d4f4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),r=(0,a.withParams)({type:"required"},a.req);t.default=r},d690:function(e,t,i){"use strict";i.r(t);var a,r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",{staticClass:"page-create-product-wrapper"},[i("div",{staticClass:"q-pa-lg content-of-each-step"},[i("div",{staticClass:"step-1"},[i("q-card",{staticClass:"card-step-1 w-100-per-mobile"},[i("q-card-section",[i("div",{staticClass:"step-1-content"},[i("div",{staticClass:"text-main q-pt-lg q-pl-lg q-pr-lg"},[e._v("Create your schedules and prices")]),0==e.list_price_option.length?i("div",[i("div",{staticClass:"sub-text-1 q-pt-lg q-pl-lg q-pr-lg"},[i("strong",[e._v("Start by creating your first option")])]),i("div",{staticClass:"text-sub q-pt-lg q-pl-lg q-pr-lg"},[i("strong",[e._v("Step 1:")]),e._v(" Add attributes that apply to your\n                first option\n              ")]),i("div",{staticClass:"text-sub q-pt-lg q-pl-lg q-pr-lg"},[i("strong",[e._v("Step 2:")]),e._v(" Enter dates to create a schedule for\n                your first option\n              ")]),i("div",{staticClass:"text-sub q-pt-lg q-pl-lg q-pr-lg"},[i("strong",[e._v("Step 3:")]),e._v(" Add prices, days, and times for your\n                first option\n              ")]),i("div",{staticClass:"q-pa-lg"},[i("q-btn",{staticClass:"q-mt-lg w-100-per-mobile",attrs:{color:"primary",label:"Create option price",size:"lg","no-caps":""},on:{click:function(t){return e.openDialogCreateProductStep3()}}})],1)]):i("div",[i("div",{staticClass:"list-option-price-wrapper q-pl-lg q-pr-lg"},e._l(e.list_price_option,(function(t,a){return i("div",{key:a,staticClass:"item-option-price-wrapper q-pa-md q-mt-lg"},[i("div",{staticClass:"title-wrapper"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-10"},[i("div",{staticClass:"main-title"},[e._v(e._s(t.name))]),i("div",{staticClass:"des-title q-mt-xs"},[e._v(e._s(t.description))])]),i("div",{staticClass:"col-2 text-right"},[i("q-btn",{attrs:{icon:"edit",color:"primary",size:"md",label:"Edit","no-caps":"",outline:""},on:{click:function(i){return e.triggerOpenModalEditOptionPrice(t)}}})],1)])]),i("div",{staticClass:"list-pricing q-mt-lg"},[e._l(t.prices,(function(t,a){return i("div",{key:a,staticClass:"item-pricing q-pa-md q-mt-md"},[i("div",{staticClass:"time-price-wrapper"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-1"},[i("q-icon",{attrs:{name:"date_range",color:"primary",size:"sm"}})],1),i("div",{staticClass:"col-10 range-date-wrapper"},[e._v("\n                            "+e._s(e._f("getDateStartEnd")(t.startTime))+" -\n                            "+e._s(e._f("getDateStartEnd")(t.endTime))+"\n                          ")]),i("div",{staticClass:"col-1 text-right"},[i("q-btn",{attrs:{icon:"edit",color:"primary",flat:"",size:"md",dense:""},on:{click:function(i){return e.triggerOpenModalEditPrice(t)}}})],1)]),i("q-separator",{staticClass:"q-mt-md q-mb-md"}),i("div",{staticClass:"row"},[i("div",{staticClass:"col-1"}),i("div",{staticClass:"col-10 day-week-wrapper"},[e._v(e._s(t.daysApply.join(", ")))]),i("div",{staticClass:"col-1 text-right"})]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-1"}),i("div",{staticClass:"col-11 time-apply-wrapper"},[e._v(e._s(t.timeApply.join(", ")))])]),i("div",{staticClass:"info-list-pricing-wrapper"},e._l(t.pricings,(function(t,a){return i("div",{key:a,staticClass:"row"},[t.isActive?i("div",{staticClass:"col-1"}):e._e(),t.isActive?i("div",{staticClass:"col-11"},[e._v("\n                              "+e._s(t.name)+" :\n                              "+e._s(e.getStringDetailPrice(t.tierPricings))+"\n                            ")]):e._e()])})),0)],1)])})),i("div",{staticClass:"q-mt-lg"},[i("div",{staticClass:"sub-text-3-custom",on:{click:function(i){return e.addPriceToPriceOption(t)}}},[e._v("Add a pricing schedule")])]),i("q-separator",{staticClass:"q-mt-md q-mb-md"}),i("div",{staticStyle:{"font-size":"12px",color:"#8a8585"}},[e._v("Note: prices above are suggested retail prices")])],2)])})),0),i("div",{staticClass:"add-other-option-wrapper q-pa-lg"},[i("div",{staticClass:"flex q-pa-lg items-center",staticStyle:{border:"1px solid #cecece"}},[i("div",{staticClass:"content-part",staticStyle:{width:"70%"}},[i("div",[e._v("Add another option")]),i("div",[e._v("\n                      An option is a unique version of your product that\n                      offers specific languages, starting points, or\n                      customizations.\n                    ")])]),i("div",{staticClass:"button-part text-right",staticStyle:{width:"30%"}},[i("q-btn",{attrs:{color:"primary",icon:"add",outline:"",label:"Add option",size:"md","no-caps":""},on:{click:function(t){return e.openDialogCreateProductStep3()}}})],1)])]),i("div",{staticClass:"button-finish-create-wrapper q-pl-lg q-pr-lg q-mt-lg text-center"},[i("q-btn",{attrs:{icon:"done",label:"Finish Create",color:"primary",size:"lg","no-caps":""},on:{click:function(t){return e.finishCreate()}}})],1)])])])],1)],1)]),i("q-dialog",{attrs:{persistent:"",maximized:!0,"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.triggerOpenDialogAddPriceOption,callback:function(t){e.triggerOpenDialogAddPriceOption=t},expression:"triggerOpenDialogAddPriceOption"}},[i("q-card",{staticStyle:{"background-color":"#ececec"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6 offset-md-3 bg-white step-step-1-wrapper"},[i("div",{staticStyle:{"text-align":"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",size:"md",color:"grey",flat:""}})],1),1==e.step_step?i("div",[i("div",{staticClass:"text-title"},[e._v("Step 1 of 3")]),i("div",{staticClass:"desc-text q-mt-sm"},[e._v("Add attributes that apply to this option")]),i("q-separator",{staticClass:"q-mt-lg"}),i("div",{staticClass:"font-16 q-pb-sm q-mt-lg"},[e._v("Title")]),i("div",{staticClass:"search-attraction"},[i("el-input",{class:{"input-error":e.$v.info_option_price.title.$error},attrs:{size:"large",placeholder:"Input title"},model:{value:e.$v.info_option_price.$model.title,callback:function(t){e.$set(e.$v.info_option_price.$model,"title",t)},expression:"$v.info_option_price.$model.title"}}),i("div",{staticClass:"error-wrapper"},[e.$v.info_option_price.title.$error?i("div",{staticClass:"error-item"},[e._v("Title is required")]):e._e()])],1),i("div",{staticClass:"font-16 q-pb-sm q-mt-lg"},[e._v("Description")]),i("div",{staticClass:"search-attraction q-pb-lg"},[i("el-input",{class:{"input-error":e.$v.info_option_price.description.$error},attrs:{type:"textarea",autosize:{minRows:4,maxRows:7},size:"large",placeholder:"Input description"},model:{value:e.$v.info_option_price.$model.description,callback:function(t){e.$set(e.$v.info_option_price.$model,"description",t)},expression:"$v.info_option_price.$model.description"}}),i("div",{staticClass:"error-wrapper"},[e.$v.info_option_price.description.$error?i("div",{staticClass:"error-item"},[e._v("Title is required")]):e._e()])],1),i("q-separator",{staticClass:"q-mt-lg"}),i("div",{staticClass:"button-footer-wrapper flex justify-between items-center q-mt-lg"},[i("div",[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{outline:"",color:"primary",size:"lg",label:"Cancel"}})],1),i("div",{staticClass:"flex"},[i("div",{staticClass:"round-cicle active q-mr-sm"}),i("div",{staticClass:"round-cicle q-mr-sm"}),i("div",{staticClass:"round-cicle"})]),i("div",[i("q-btn",{attrs:{color:"primary",size:"lg",label:"Next"},on:{click:function(t){return e.gotoStepStep2()}}})],1)]),i("div",{staticClass:"button-footer-wrapper-mobile flex justify-between items-center q-mt-lg"},[i("div",[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{outline:"",color:"primary",size:"md",label:"Cancel"}})],1),i("div",{staticClass:"flex"},[i("div",{staticClass:"round-cicle active q-mr-sm"}),i("div",{staticClass:"round-cicle q-mr-sm"}),i("div",{staticClass:"round-cicle"})]),i("div",[i("q-btn",{attrs:{color:"primary",size:"md",label:"Next"},on:{click:function(t){return e.gotoStepStep2()}}})],1)])],1):e._e(),2==e.step_step?i("div",[i("div",{staticClass:"text-title"},[e._v("Step 2 of 3")]),i("div",{staticClass:"desc-text q-mt-sm"},[e._v("Create a schedule for this option")]),i("q-separator",{staticClass:"q-mt-lg"}),i("div",{staticClass:"font-16 q-pb-sm q-mt-lg"},[e._v("When does your price change begin?")]),i("div",{staticClass:"search-attraction"},[i("el-date-picker",{class:{"input-error":e.$v.info_option_price.date_begin.$error},attrs:{"picker-options":e.pickerOptions,"popper-class":"popper-pickdate-step-step-2",type:"date",placeholder:"Enter a day",format:"dd-MM-yyyy"},model:{value:e.$v.info_option_price.$model.date_begin,callback:function(t){e.$set(e.$v.info_option_price.$model,"date_begin",t)},expression:"$v.info_option_price.$model.date_begin"}}),i("div",{staticClass:"error-wrapper"},[e.$v.info_option_price.date_begin.$error?i("div",{staticClass:"error-item"},[e._v("Date begin is required")]):e._e()])],1),e.have_price_change_end?e._e():i("div",{staticClass:"sub-text-3-custom q-pb-sm q-mt-lg",on:{click:function(t){e.have_price_change_end=!0}}},[e._v("Give this price change an end date (optional)")]),e.have_price_change_end?i("div",[i("div",{staticClass:"font-16 q-pb-sm q-mt-lg"},[e._v("When does your price change end?")]),i("div",{staticClass:"search-attraction"},[i("el-date-picker",{attrs:{"picker-options":e.pickerOptions2,"popper-class":"popper-pickdate-step-step-2",format:"dd-MM-yyyy",type:"date",placeholder:"Enter a day"},model:{value:e.info_option_price.date_end,callback:function(t){e.$set(e.info_option_price,"date_end",t)},expression:"info_option_price.date_end"}})],1)]):e._e(),i("q-separator",{staticClass:"q-mt-lg"}),i("div",{staticClass:"button-footer-wrapper flex justify-between items-center q-mt-lg"},[i("div",[i("q-btn",{attrs:{outline:"",color:"primary",size:"lg",label:"Back"},on:{click:function(t){e.step_step=1}}})],1),i("div",{staticClass:"flex"},[i("div",{staticClass:"round-cicle q-mr-sm"}),i("div",{staticClass:"round-cicle active q-mr-sm"}),i("div",{staticClass:"round-cicle"})]),i("div",[i("q-btn",{attrs:{color:"primary",size:"lg",label:"Next"},on:{click:function(t){return e.gotoStepStep3()}}})],1)]),i("div",{staticClass:"button-footer-wrapper-mobile flex justify-between items-center q-mt-lg"},[i("div",[i("q-btn",{attrs:{outline:"",color:"primary",size:"md",label:"Back"},on:{click:function(t){e.step_step=1}}})],1),i("div",{staticClass:"flex"},[i("div",{staticClass:"round-cicle q-mr-sm"}),i("div",{staticClass:"round-cicle active q-mr-sm"}),i("div",{staticClass:"round-cicle"})]),i("div",[i("q-btn",{attrs:{color:"primary",size:"md",label:"Next"},on:{click:function(t){return e.gotoStepStep3()}}})],1)])],1):e._e(),3==e.step_step?i("div",{staticClass:"step-3-wrapper"},[i("div",{staticClass:"text-title"},[e._v("Step 3 of 3")]),i("div",{staticClass:"desc-text q-mt-sm"},[e._v("Add another price")]),i("q-separator",{staticClass:"q-mt-lg"}),i("div",{staticClass:"font-16 q-pb-sm q-mt-lg"},[i("span",{staticClass:"q-mr-md"},[i("b",[e._v("Maximum spots")])]),i("el-input-number",{staticClass:"input-custom-width-2",attrs:{size:"medium",min:0,"controls-position":"right"},model:{value:e.max_spots,callback:function(t){e.max_spots=t},expression:"max_spots"}})],1),i("div",{staticClass:"font-16 q-pb-sm q-mt-lg"},[i("strong",[e._v("Pricing")])]),i("div",{staticClass:"q-pb-md"},[i("q-toggle",{attrs:{label:"Enable tiered pricing"},model:{value:e.enable_tier_pricing,callback:function(t){e.enable_tier_pricing=t},expression:"enable_tier_pricing"}})],1),i("div",{staticClass:"q-pt-lg q-pl-md q-pr-md q-pb-md table-pricing-person"},[i("div",{staticClass:"flex q-mb-md"},[i("div",{staticClass:"w-150-px"}),e.enable_tier_pricing?i("div",{staticClass:"w-250-px"},[e._v("Min - max per booking")]):e._e(),i("div",[e._v("Suggested retail price")])]),e._l(e.list_obj_price,(function(t,a){return i("div",{key:a,staticClass:"flex q-mb-md items-center"},[t.allow_binding?i("div",{staticClass:"flex items-center w-100"},[i("div",{staticClass:"w-150-px"},[i("q-checkbox",{attrs:{label:t.name},model:{value:t.checked,callback:function(i){e.$set(t,"checked",i)},expression:"item.checked"}})],1),t.checked?i("div",{staticClass:"flex items-center",staticStyle:{width:"calc(100% - 150px)"}},[e._l(t.list_tier,(function(a,r){return i("div",{key:r,staticClass:"w-100 flex items-center q-mb-xs"},[i("div",{staticClass:"w-100 flex items-center"},[e.enable_tier_pricing?i("div",{staticClass:"flex items-center w-250-px"},[i("div",[i("el-input-number",{staticClass:"input-custom-width",attrs:{size:"small",min:0,max:e.max_traveller,"controls-position":"right"},model:{value:a.min,callback:function(t){e.$set(a,"min",t)},expression:"item_tier.min"}})],1),i("div",{staticClass:"q-ma-sm"},[e._v("-")]),i("div",[i("el-input-number",{staticClass:"input-custom-width",attrs:{size:"small",min:0,max:e.max_traveller,"controls-position":"right"},model:{value:a.max,callback:function(t){e.$set(a,"max",t)},expression:"item_tier.max"}})],1)]):e._e(),i("div",{staticStyle:{width:"calc(85% - 250px)"}},[i("div",{staticClass:"flex w-100 items-center"},[i("div",[i("money",e._b({staticClass:"input-number-custom-2",model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item_tier.value"}},"money",e.money_option,!1))],1)])]),e.enable_tier_pricing&&0!=r?i("div",{staticStyle:{width:"15%"}},[i("q-btn",{staticClass:"q-ml-lg",attrs:{icon:"delete",color:"primary",size:"sm"},on:{click:function(i){return e.deleteTier(t,r)}}})],1):e._e()]),i("div",{staticClass:"w-100 error-wrapper"},[t.list_tier[r-1]&&t.list_tier[r].min<=t.list_tier[r-1].max?i("div",{staticClass:"error-item"},[e._v("\n                          Please enter a minimum passenger amount one greater\n                          than the previous tier's max.\n                        ")]):e._e(),a.min>a.max?i("div",{staticClass:"error-item"},[e._v("\n                          Please enter a maximum passenger amount greater than\n                          or equal to the minimum.\n                        ")]):e._e()])])})),e.enable_tier_pricing?i("div",{staticClass:"sub-text-3-custom q-mt-sm",staticStyle:{width:"initial"},on:{click:function(i){return e.addNewTier(t)}}},[e._v("+ Add another tier")]):e._e()],2):e._e(),t.checked?e._e():i("div",[e._v("Not available.")])]):e._e()])}))],2),i("div",{staticClass:"font-16 q-pb-sm q-mt-lg"},[i("strong",[e._v("Select the days these prices apply")])]),i("div",{staticClass:"q-mb-lg"},[i("q-checkbox",{attrs:{dense:"",label:"Select all"},model:{value:e.select_all_day_apply,callback:function(t){e.select_all_day_apply=t},expression:"select_all_day_apply"}})],1),i("div",{staticClass:"list_date_of_week flex items-center"},e._l(e.list_date_of_week,(function(t,a){return i("div",{key:a},[t.isVisible?i("div",{staticClass:"day_item q-pa-sm q-mr-sm q-mb-sm",class:{active:t.isChecked},on:{click:function(i){return e.chooseDayOfWeek(t)}}},[e._v(e._s(t.name))]):e._e()])})),0),i("div",{staticClass:"font-16 q-pb-sm q-mt-lg"},[i("strong",[e._v("Add the times when these prices apply")])]),i("div",[i("strong",[e._v("Note:")]),e._v(" To enter your pickup time and\n              information, go to Meeting and Pickup.\n            ")]),i("div",{staticClass:"list-interval q-mt-lg flex"},e._l(e.list_interval_time,(function(t,a){return i("div",{key:a,staticClass:"item-interval q-mr-md flex"},[i("el-select",{staticClass:"select-range-time",attrs:{"popper-class":"popper-choose-range-time",placeholder:"0:00am"},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item_interval.value"}},e._l(e.options_range_time,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e.list_interval_time.length>1?i("div",{staticClass:"close-wrapper flex items-center justify-center",on:{click:function(t){return e.removeTimeInterVal(a)}}},[e._v("X")]):e._e()],1)})),0),i("div",{staticClass:"q-mt-md"},[i("div",{staticClass:"sub-text-3-custom",staticStyle:{width:"fit-content"},on:{click:function(t){return e.addNewIntervalTime()}}},[e._v("+ Add at regular intervals")])]),i("q-separator",{staticClass:"q-mt-lg"}),i("div",{staticClass:"button-footer-wrapper flex justify-between items-center q-mt-lg"},[i("div",[i("q-btn",{attrs:{outline:"",color:"primary",size:"lg",label:"Back"},on:{click:function(t){e.step_step=2}}})],1),i("div",{staticClass:"flex"},[i("div",{staticClass:"round-cicle q-mr-sm"}),i("div",{staticClass:"round-cicle q-mr-sm"}),i("div",{staticClass:"round-cicle active"})]),i("div",[i("q-btn",{attrs:{color:"primary",size:"lg",label:"Save"},on:{click:function(t){return e.saveOptionPrice()}}})],1)]),i("div",{staticClass:"button-footer-wrapper-mobile flex justify-between items-center q-mt-lg"},[i("div",[i("q-btn",{attrs:{outline:"",color:"primary",size:"md",label:"Back"},on:{click:function(t){e.step_step=2}}})],1),i("div",{staticClass:"flex"},[i("div",{staticClass:"round-cicle q-mr-sm"}),i("div",{staticClass:"round-cicle q-mr-sm"}),i("div",{staticClass:"round-cicle active"})]),i("div",[i("q-btn",{attrs:{color:"primary",size:"md",label:"Save"},on:{click:function(t){return e.saveOptionPrice()}}})],1)])],1):e._e()])])])],1),i("q-dialog",{attrs:{persistent:"",maximized:!0,"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.triggerOpenDialogAddPrice,callback:function(t){e.triggerOpenDialogAddPrice=t},expression:"triggerOpenDialogAddPrice"}},[i("q-card",{staticStyle:{"background-color":"#ececec"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6 offset-md-3 bg-white step-step-1-wrapper"},[i("div",{staticStyle:{"text-align":"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",size:"md",color:"grey",flat:""}})],1),2==e.step_step?i("div",[i("div",{staticClass:"text-title"},[e._v("Step 1 of 2")]),i("div",{staticClass:"desc-text q-mt-sm"},[e._v("Create a schedule for this option")]),i("q-separator",{staticClass:"q-mt-lg"}),i("div",{staticClass:"font-16 q-pb-sm q-mt-lg"},[e._v("When does your price change begin?")]),i("div",{staticClass:"search-attraction"},[i("el-date-picker",{class:{"input-error":e.$v.info_option_price.date_begin.$error},attrs:{"picker-options":e.pickerOptions,"popper-class":"popper-pickdate-step-step-2",type:"date",placeholder:"Enter a day",format:"dd-MM-yyyy"},model:{value:e.$v.info_option_price.$model.date_begin,callback:function(t){e.$set(e.$v.info_option_price.$model,"date_begin",t)},expression:"$v.info_option_price.$model.date_begin"}}),i("div",{staticClass:"error-wrapper"},[e.$v.info_option_price.date_begin.$error?i("div",{staticClass:"error-item"},[e._v("Date begin is required")]):e._e()])],1),e.have_price_change_end?e._e():i("div",{staticClass:"sub-text-3-custom q-pb-sm q-mt-lg",on:{click:function(t){e.have_price_change_end=!0}}},[e._v("Give this price change an end date (optional)")]),e.have_price_change_end?i("div",[i("div",{staticClass:"font-16 q-pb-sm q-mt-lg"},[e._v("When does your price change end?")]),i("div",{staticClass:"search-attraction"},[i("el-date-picker",{attrs:{"picker-options":e.pickerOptions2,"popper-class":"popper-pickdate-step-step-2",type:"date",format:"dd-MM-yyyy",placeholder:"Enter a day"},model:{value:e.info_option_price.date_end,callback:function(t){e.$set(e.info_option_price,"date_end",t)},expression:"info_option_price.date_end"}})],1)]):e._e(),i("q-separator",{staticClass:"q-mt-lg"}),i("div",{staticClass:"button-footer-wrapper flex justify-between items-center q-mt-lg"},[i("div",[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{outline:"",color:"primary",size:"lg",label:"Cancel"}})],1),i("div",{staticClass:"flex"},[i("div",{staticClass:"round-cicle active q-mr-sm"}),i("div",{staticClass:"round-cicle"})]),i("div",[i("q-btn",{attrs:{color:"primary",size:"lg",label:"Next"},on:{click:function(t){return e.gotoStepStep3()}}})],1)]),i("div",{staticClass:"button-footer-wrapper-mobile flex justify-between items-center q-mt-lg"},[i("div",[i("q-btn",{attrs:{outline:"",color:"primary",size:"md",label:"Back"},on:{click:function(t){e.step_step=1}}})],1),i("div",{staticClass:"flex"},[i("div",{staticClass:"round-cicle active q-mr-sm"}),i("div",{staticClass:"round-cicle"})]),i("div",[i("q-btn",{attrs:{color:"primary",size:"md",label:"Next"},on:{click:function(t){return e.gotoStepStep3()}}})],1)])],1):e._e(),3==e.step_step?i("div",{staticClass:"step-3-wrapper"},[i("div",{staticClass:"text-title"},[e._v("Step 2 of 2")]),i("div",{staticClass:"desc-text q-mt-sm"},[e._v("Add another price")]),i("q-separator",{staticClass:"q-mt-lg"}),i("div",{staticClass:"font-16 q-pb-sm q-mt-lg"},[i("span",{staticClass:"q-mr-md"},[i("b",[e._v("Maximum spots")])]),i("el-input-number",{staticClass:"input-custom-width-2",attrs:{size:"medium",min:0,"controls-position":"right"},model:{value:e.max_spots,callback:function(t){e.max_spots=t},expression:"max_spots"}})],1),i("div",{staticClass:"font-16 q-pb-sm q-mt-lg"},[i("strong",[e._v("Pricing")])]),i("div",{staticClass:"q-pb-md"},[i("q-toggle",{attrs:{label:"Enable tiered pricing"},model:{value:e.enable_tier_pricing,callback:function(t){e.enable_tier_pricing=t},expression:"enable_tier_pricing"}})],1),i("div",{staticClass:"q-pt-lg q-pl-md q-pr-md q-pb-md table-pricing-person"},[i("div",{staticClass:"flex q-mb-md"},[i("div",{staticClass:"w-150-px"}),e.enable_tier_pricing?i("div",{staticClass:"w-250-px"},[e._v("Min - max per booking")]):e._e(),i("div",[e._v("Suggested retail price")])]),e._l(e.list_obj_price,(function(t,a){return i("div",{key:a,staticClass:"flex q-mb-md items-center"},[t.allow_binding?i("div",{staticClass:"flex items-center w-100"},[i("div",{staticClass:"w-150-px"},[i("q-checkbox",{attrs:{label:t.name},model:{value:t.checked,callback:function(i){e.$set(t,"checked",i)},expression:"item.checked"}})],1),t.checked?i("div",{staticClass:"flex items-center",staticStyle:{width:"calc(100% - 150px)"}},[e._l(t.list_tier,(function(a,r){return i("div",{key:r,staticClass:"w-100 flex items-center q-mb-xs"},[i("div",{staticClass:"w-100 flex items-center"},[e.enable_tier_pricing?i("div",{staticClass:"flex items-center w-250-px"},[i("div",[i("el-input-number",{staticClass:"input-custom-width",attrs:{size:"small",min:0,max:e.max_traveller,"controls-position":"right"},model:{value:a.min,callback:function(t){e.$set(a,"min",t)},expression:"item_tier.min"}})],1),i("div",{staticClass:"q-ma-sm"},[e._v("-")]),i("div",[i("el-input-number",{staticClass:"input-custom-width",attrs:{size:"small",min:0,max:e.max_traveller,"controls-position":"right"},model:{value:a.max,callback:function(t){e.$set(a,"max",t)},expression:"item_tier.max"}})],1)]):e._e(),i("div",{staticStyle:{width:"calc(85% - 250px)"}},[i("div",{staticClass:"flex w-100 items-center"},[i("div",[i("money",e._b({staticClass:"input-number-custom-2",model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"item_tier.value"}},"money",e.money_option,!1))],1)])]),e.enable_tier_pricing&&0!=r?i("div",{staticStyle:{width:"15%"}},[i("q-btn",{staticClass:"q-ml-lg",attrs:{icon:"delete",color:"primary",size:"sm"},on:{click:function(i){return e.deleteTier(t,r)}}})],1):e._e()]),i("div",{staticClass:"w-100 error-wrapper"},[t.list_tier[r-1]&&t.list_tier[r].min<=t.list_tier[r-1].max?i("div",{staticClass:"error-item"},[e._v("\n                          Please enter a minimum passenger amount one greater\n                          than the previous tier's max.\n                        ")]):e._e(),a.min>a.max?i("div",{staticClass:"error-item"},[e._v("\n                          Please enter a maximum passenger amount greater than\n                          or equal to the minimum.\n                        ")]):e._e()])])})),e.enable_tier_pricing?i("div",{staticClass:"sub-text-3-custom q-mt-sm",staticStyle:{width:"initial"},on:{click:function(i){return e.addNewTier(t)}}},[e._v("+ Add another tier")]):e._e()],2):e._e(),t.checked?e._e():i("div",[e._v("Not available.")])]):e._e()])}))],2),i("div",{staticClass:"font-16 q-pb-sm q-mt-lg"},[i("strong",[e._v("Select the days these prices apply")])]),i("div",{staticClass:"q-mb-lg"},[i("q-checkbox",{attrs:{dense:"",label:"Select all"},model:{value:e.select_all_day_apply,callback:function(t){e.select_all_day_apply=t},expression:"select_all_day_apply"}})],1),i("div",{staticClass:"list_date_of_week flex items-center"},e._l(e.list_date_of_week,(function(t,a){return i("div",{key:a},[t.isVisible?i("div",{staticClass:"day_item q-pa-sm q-mr-sm q-mb-sm",class:{active:t.isChecked},on:{click:function(i){return e.chooseDayOfWeek(t)}}},[e._v(e._s(t.name))]):e._e()])})),0),i("div",{staticClass:"font-16 q-pb-sm q-mt-lg"},[i("strong",[e._v("Add the times when these prices apply")])]),i("div",[i("strong",[e._v("Note:")]),e._v(" To enter your pickup time and\n              information, go to Meeting and Pickup.\n            ")]),i("div",{staticClass:"list-interval q-mt-lg flex"},e._l(e.list_interval_time,(function(t,a){return i("div",{key:a,staticClass:"item-interval q-mr-md flex"},[i("el-select",{staticClass:"select-range-time",attrs:{"popper-class":"popper-choose-range-time",placeholder:"0:00am"},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item_interval.value"}},e._l(e.options_range_time,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e.list_interval_time.length>1?i("div",{staticClass:"close-wrapper flex items-center justify-center",on:{click:function(t){return e.removeTimeInterVal(a)}}},[e._v("X")]):e._e()],1)})),0),i("div",{staticClass:"q-mt-md"},[i("div",{staticClass:"sub-text-3-custom",staticStyle:{width:"fit-content"},on:{click:function(t){return e.addNewIntervalTime()}}},[e._v("+ Add at regular intervals")])]),i("q-separator",{staticClass:"q-mt-lg"}),i("div",{staticClass:"button-footer-wrapper flex justify-between items-center q-mt-lg"},[i("div",[i("q-btn",{attrs:{outline:"",color:"primary",size:"lg",label:"Back"},on:{click:function(t){e.step_step=2}}})],1),i("div",{staticClass:"flex"},[i("div",{staticClass:"round-cicle q-mr-sm"}),i("div",{staticClass:"round-cicle active"})]),i("div",[i("q-btn",{attrs:{color:"primary",size:"lg",label:"Save"},on:{click:function(t){return e.savePrice()}}})],1)]),i("div",{staticClass:"button-footer-wrapper-mobile flex justify-between items-center q-mt-lg"},[i("div",[i("q-btn",{attrs:{outline:"",color:"primary",size:"md",label:"Back"},on:{click:function(t){e.step_step=2}}})],1),i("div",{staticClass:"flex"},[i("div",{staticClass:"round-cicle q-mr-sm"}),i("div",{staticClass:"round-cicle active"})]),i("div",[i("q-btn",{attrs:{color:"primary",size:"md",label:"Save"},on:{click:function(t){return e.savePrice()}}})],1)])],1):e._e()])])])],1),i("update-price-option",{attrs:{trigger_edit_price_option:e.triggerOpenDialogEditPriceOption,info_price_option:e.info_option_price},on:{"update:trigger_edit_price_option":[function(t){e.triggerOpenDialogEditPriceOption=t},function(t){e.triggerOpenDialogEditPriceOption=t}],reloadInfo:function(t){return e.getInfoProductEdit()}}}),i("update-price",{attrs:{trigger_edit_price:e.triggerOpenDialogEditPrice,item_price_edit:e.item_price_edit,max_traveller:e.max_traveller},on:{"update:trigger_edit_price":function(t){e.triggerOpenDialogEditPrice=t},reloadInfo:function(t){return e.getInfoProductEdit()}}})],1)},n=[],s=(i("8e6e"),i("8a81"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("7f7f"),i("c5f6"),i("c47a")),o=i.n(s),l=i("b5ae"),c=i("a018"),p=i("cb1b"),d=i("e71f"),u=i("2f62");function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function _(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(i,!0).forEach((function(t){o()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var f=(a={name:"create-product-page",computed:_({},Object(u["b"])({current_branch_id:"login/getCurrentBranchId",regional_branch:"login/getInfoRegionalBranch"})),filters:{getDateStartEnd:function(e){if(e&&""!=e){var t=new Date(e);return t.toLocaleDateString()}return"Now"}},props:{props_id_product:{type:Number,default:-1}},watch:{props_id_product:function(e){-1!=this.props_id_product&&this.props_id_product&&(this.product_id=this.props_id_product,this.$emit("getProductId",this.props_id_product),this.getInfoProductEdit())},regional_branch:function(e){e&&e.mainCurrency&&(this.money_option=Object(d["a"])(parseInt(e.mainCurrency)),this.$forceUpdate(),1==parseInt(e.mainCurrency)&&(this.option_filter={symbol:"",thousandsSeparator:",",fractionCount:0,fractionSeparator:".",display_symbol:"VND"}),2==parseInt(e.mainCurrency)&&(this.option_filter={symbol:"",thousandsSeparator:",",fractionCount:2,fractionSeparator:".",display_symbol:"$"}),this.$forceUpdate())}},data:function(){var e=this;return{option_filter:{symbol:"",thousandsSeparator:",",fractionCount:0,fractionSeparator:".",display_symbol:"VND"},money_option:{},max_spots:20,select_all_day_apply:!1,list_obj_price:[{name:"Senior",checked:!1,allow_binding:!1,list_tier:[{value:0,min:0,max:0}]},{name:"Adult",checked:!1,allow_binding:!1,list_tier:[{value:0,min:0,max:0}]},{name:"Youth",checked:!1,allow_binding:!1,list_tier:[{value:0,min:0,max:0}]},{name:"Child",checked:!1,allow_binding:!1,list_tier:[{value:0,min:0,max:0}]},{name:"Infant",checked:!1,allow_binding:!1,list_tier:[{value:0,min:0,max:0}]}],list_date_of_week:[{name:"Sun",isChecked:!1,isVisible:!0,id:0},{name:"Mon",isChecked:!0,isVisible:!0,id:1},{name:"Tue",isChecked:!1,isVisible:!0,id:2},{name:"Wed",isChecked:!1,isVisible:!0,id:3},{name:"Thu",isChecked:!1,isVisible:!0,id:4},{name:"Fri",isChecked:!1,isVisible:!0,id:5},{name:"Sat",isChecked:!1,isVisible:!0,id:6}],info_option_price:{title:"",description:"",date_begin:"",date_end:""},item_price_edit:{id:-1,startTime:"",endTime:"",hasEndDate:"",pricings:"",maxSpot:"",daysApply:"",timeApply:"",priceOptionId:-1},enable_tier_pricing:!1,have_price_change_end:!1,triggerOpenDialogAddPriceOption:!1,triggerOpenDialogAddPrice:!1,triggerOpenDialogEditPriceOption:!1,triggerOpenDialogEditPrice:!1,step_step:1,step_create_price:1,options_range_time:[{value:"12:00am",label:"12:00am"},{value:"12:30am",label:"12:30am"},{value:"01:00am",label:"01:00am"},{value:"01:30am",label:"01:30am"},{value:"02:00am",label:"02:00am"},{value:"02:30am",label:"02:30am"},{value:"03:00am",label:"03:00am"},{value:"03:30am",label:"03:30am"},{value:"04:00am",label:"04:00am"},{value:"04:30am",label:"04:30am"},{value:"05:00am",label:"05:00am"},{value:"05:30am",label:"05:30am"},{value:"06:00am",label:"06:00am"},{value:"06:30am",label:"06:30am"},{value:"07:00am",label:"07:00am"},{value:"07:30am",label:"07:30am"},{value:"08:00am",label:"08:00am"},{value:"08:30am",label:"08:30am"},{value:"09:00am",label:"09:00am"},{value:"09:30am",label:"09:30am"},{value:"10:00am",label:"10:00am"},{value:"10:30am",label:"10:30am"},{value:"11:00am",label:"11:00am"},{value:"11:30am",label:"11:30am"},{value:"12:00pm",label:"12:00pm"},{value:"12:30pm",label:"12:30pm"},{value:"01:00pm",label:"01:00pm"},{value:"01:30pm",label:"01:30pm"},{value:"02:00pm",label:"02:00pm"},{value:"02:30pm",label:"02:30pm"},{value:"03:00pm",label:"03:00pm"},{value:"03:30pm",label:"03:30pm"},{value:"04:00pm",label:"04:00pm"},{value:"04:30pm",label:"04:30pm"},{value:"05:00pm",label:"05:00pm"},{value:"05:30pm",label:"05:30pm"},{value:"06:00pm",label:"06:00pm"},{value:"06:30pm",label:"06:30pm"},{value:"07:00pm",label:"07:00pm"},{value:"07:30pm",label:"07:30pm"},{value:"08:00pm",label:"08:00pm"},{value:"08:30pm",label:"08:30pm"},{value:"09:00pm",label:"09:00pm"},{value:"09:30pm",label:"09:30pm"},{value:"10:00pm",label:"10:00pm"},{value:"10:30pm",label:"10:30pm"},{value:"11:00pm",label:"11:00pm"},{value:"11:30pm",label:"11:30pm"}],value_range_time:"",current_option_price_edit:{},list_interval_time:[{value:""}],pickerOptions:{disabledDate:function(e){var t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),e.getTime()<t.getTime()}},pickerOptions2:{disabledDate:function(t){return""!=e.info_option_price.date_begin?t.getTime()<e.info_option_price.date_begin:t.getTime()<Date.now()}},current_product_edited:{},list_price_option:[],max_traveller:0}},validations:{info_option_price:{title:{required:l["required"]},description:{required:l["required"]},date_begin:{required:l["required"]}}}},o()(a,"watch",{select_all_day_apply:function(e){this.changeSelectAllDay()}}),o()(a,"methods",{getStringDetailPrice:function(e){var t=this;if(e.length>0){var i=[];return e.forEach((function(e){var a="";a+=e.min+"-"+e.max+", "+t.$options.filters.currency(e.value,t.option_filter),i.push(a)})),i.join(" | ")}return e[0].value},triggerOpenModalEditOptionPrice:function(e){var t=this;t.triggerOpenDialogEditPriceOption=!0,t.info_option_price=e,t.info_option_price.title=e.name},triggerOpenModalEditPrice:function(e){var t=this;t.triggerOpenDialogEditPrice=!0,t.item_price_edit.id=e.id,t.item_price_edit.startTime=e.startTime,t.item_price_edit.endTime=e.endTime,t.item_price_edit.hasEndDate=e.hasEndDate,t.$set(t.item_price_edit,"pricings",e.pricings),t.item_price_edit.maxSpot=e.maxSpot,t.item_price_edit.daysApply=e.daysApply,t.item_price_edit.timeApply=e.timeApply,t.item_price_edit.priceOptionId=e.priceOptionId},finishCreate:function(){var e=this;this.updateStep(),setTimeout((function(){e.$router.push("/products")}),500)},resetFormAddNewPriceOption:function(){var e=this;e.step_step=1,e.$v.$reset(),e.resetFormAddPrice()},resetFormAddPrice:function(){var e=this;e.info_option_price={title:"",description:"",date_begin:"",date_end:""},e.max_spots=20,e.enable_tier_pricing=!1,e.select_all_day_apply=!1,e.list_interval_time=[{value:""}],e.list_obj_price=[{name:"Senior",checked:!1,allow_binding:!1,list_tier:[{value:0,min:0,max:0}]},{name:"Adult",checked:!1,allow_binding:!1,list_tier:[{value:0,min:0,max:0}]},{name:"Youth",checked:!1,allow_binding:!1,list_tier:[{value:0,min:0,max:0}]},{name:"Child",checked:!1,allow_binding:!1,list_tier:[{value:0,min:0,max:0}]},{name:"Infant",checked:!1,allow_binding:!1,list_tier:[{value:0,min:0,max:0}]}],e.initDataToCreatePriceOption()},addPriceToPriceOption:function(e){var t=this;t.resetFormAddPrice(),t.current_option_price_edit=e,t.step_step=2,t.triggerOpenDialogAddPrice=!0},initDataToCreatePriceOption:function(){var e=this,t=this.current_product_edited.ageGroup.ageTiers.filter((function(e){return"Senior"==e.name}))[0],i=this.current_product_edited.ageGroup.ageTiers.filter((function(e){return"Adult"==e.name}))[0],a=this.current_product_edited.ageGroup.ageTiers.filter((function(e){return"Youth"==e.name}))[0],r=this.current_product_edited.ageGroup.ageTiers.filter((function(e){return"Child"==e.name}))[0],n=this.current_product_edited.ageGroup.ageTiers.filter((function(e){return"Infant"==e.name}))[0];this.list_obj_price.forEach((function(s){"Senior"==s.name&&(s.list_tier[0].min=0,s.list_tier[0].max=e.current_product_edited.ageGroup.maximumTravelers,s.checked=t.isActive,s.allow_binding=t.isActive),"Adult"==s.name&&(s.list_tier[0].min=0,s.list_tier[0].max=e.current_product_edited.ageGroup.maximumTravelers,s.checked=i.isActive,s.allow_binding=i.isActive),"Youth"==s.name&&(s.list_tier[0].min=0,s.list_tier[0].max=e.current_product_edited.ageGroup.maximumTravelers,s.checked=a.isActive,s.allow_binding=a.isActive),"Child"==s.name&&(s.list_tier[0].min=0,s.list_tier[0].max=e.current_product_edited.ageGroup.maximumTravelers,s.checked=r.isActive,s.allow_binding=r.isActive),"Infant"==s.name&&(s.list_tier[0].min=0,s.list_tier[0].max=e.current_product_edited.ageGroup.maximumTravelers,s.checked=n.isActive,s.allow_binding=n.isActive)}))},getFinalPriceToSave:function(){var e=this,t={daysApply:[],timeApply:[],startTime:"",endTime:"",pricings:[],maxSpot:e.max_spots},i=[],a=[];return e.list_date_of_week.forEach((function(e){if(e.isChecked)return i.push(e.name)})),a=e.list_obj_price.map((function(e){return{name:e.name,isActive:e.checked,tierPricings:e.list_tier}})),t.daysApply=i,t.timeApply=e.list_interval_time.map((function(e){return e.value})),t.startTime=e.info_option_price.date_begin,t.endTime=e.info_option_price.date_end,t.pricings=a,t},savePrice:function(){var e=this,t=localStorage.getItem("user_token_fisheye_client"),i=(this.product_id,this.getFinalPriceToSave());i.priceOptionId=e.current_option_price_edit.id,0==i.daysApply.length?e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Please choose day apply"}):0==i.timeApply.length?e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Please choose time apply"}):1==i.timeApply.length&&""==i.timeApply[0]?e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Please choose time apply"}):this.$axios.post("/api/Products/AddPrice",JSON.stringify(i),{headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then((function(t){e.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Add Price Successfully"}),e.getInfoProductEdit(),e.resetFormAddNewPriceOption(),e.triggerOpenDialogAddPrice=!1})).catch((function(t){t.response.data?e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:t.response.data}):e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))},updateStep:function(){var e=this,t=localStorage.getItem("user_token_fisheye_client"),i=this.product_id,a={productId:parseInt(i),status:1};9==e.current_product_edited.stepCreation&&(a.stepCreation=10,this.$axios.put("/api/Products/UpdateBasicInfo",JSON.stringify(a),{headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then((function(e){})).catch((function(e){})))},saveOptionPrice:function(){var e=this,t=localStorage.getItem("user_token_fisheye_client"),i=this.product_id,a=this.getFinalPriceToSave();if(0==a.daysApply.length)e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Please choose day apply"});else if(0==a.timeApply.length)e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Please choose time apply"});else if(1==a.timeApply.length&&""==a.timeApply[0])e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Please choose time apply"});else{var r={productId:parseInt(i),name:this.info_option_price.title,description:this.info_option_price.description,prices:[a]};this.$axios.post("/api/Products/AddPriceOption",JSON.stringify(r),{headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then((function(t){e.updateStep(),e.getInfoProductEdit(),e.resetFormAddNewPriceOption(),e.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Create Successfully"}),e.triggerOpenDialogAddPriceOption=!1})).catch((function(t){t.response.data?e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:t.response.data}):e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}},removeTimeInterVal:function(e){this.list_interval_time.splice(e,1)},deleteTier:function(e,t){e.list_tier.splice(t,1)},addNewIntervalTime:function(){this.list_interval_time.push({value:""})},addNewTier:function(e){var t={value:0,min:0,max:0};e.list_tier.push(t),this.$forceUpdate()},changeSelectAllDay:function(){this.select_all_day_apply?this.list_date_of_week.forEach((function(e){e.isChecked=!0})):this.list_date_of_week.forEach((function(e){e.isChecked=!1})),this.$forceUpdate()},chooseDayOfWeek:function(e){e.isChecked=!e.isChecked},checkValidateGoToStep2:function(){return this.$v.info_option_price.description.$touch(),this.$v.info_option_price.title.$touch(),!this.$v.info_option_price.description.$error&&!this.$v.info_option_price.title.$error},checkValidateGotoStep3:function(){return this.$v.info_option_price.date_begin.$touch(),!this.$v.info_option_price.date_begin.$error},gotoStepStep2:function(){this.checkValidateGoToStep2()&&(this.step_step=2)},getDates:function(e,t){var i=new Array,a=e;while(a<=t)i.push(new Date(a)),a=a.addDays(1);return i},getInfoDateOfWeek:function(){if(""!=this.info_option_price.date_end){var e=this.info_option_price.date_begin,t=this.info_option_price.date_end,i=this.getDates(e,t),a=[];i.forEach((function(e){-1==a.indexOf(e.getDay())&&a.push(e.getDay())})),this.list_date_of_week.forEach((function(e){-1!=a.indexOf(e.id)?e.isVisible=!0:e.isVisible=!1}))}},gotoStepStep3:function(){var e=this;e.checkValidateGotoStep3()&&(this.getInfoDateOfWeek(),this.step_step=3)},handleChange:function(e){console.log(e)},gotoStep3:function(){this.$router.push("/products/create/content/inclusionsExclusions")},openDialogCreateProductStep3:function(){this.triggerOpenDialogAddPriceOption=!0},initDataEdit:function(){if(this.current_product_edited.priceOptions.length>0&&(this.list_price_option=this.current_product_edited.priceOptions),this.current_product_edited.ageGroup)this.max_traveller=this.current_product_edited.ageGroup.maximumTravelers,this.initDataToCreatePriceOption();else{var e=this.product_id;this.$router.push("/products/create/schedulePricing/travelerDetails/"+e)}},getInfoProductEdit:function(){var e=this,t=this.product_id;if(t){var i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/Products/GetProductDetail/"+t,{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(t){e.current_product_edited=t.data,e.initDataEdit()})).catch((function(t){t.response.data?e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:t.response.data}):e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}}}),o()(a,"components",{"update-price-option":c["a"],"update-price":p["a"]}),o()(a,"mounted",(function(){Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t};var e=this.$route.params.product_id;e&&(this.product_id=e,this.$emit("getProductId",e),this.getInfoProductEdit()),-1!=this.props_id_product&&this.props_id_product&&(this.product_id=this.props_id_product,this.$emit("getProductId",this.props_id_product),this.getInfoProductEdit())})),a),v=f,g=(i("64c8"),i("2877")),b=i("fe09"),h=Object(g["a"])(v,r,n,!1,null,"29b52a50",null);t["default"]=h.exports;h.options.components=Object.assign({QPage:b["y"],QCard:b["e"],QCardSection:b["g"],QBtn:b["c"],QIcon:b["n"],QSeparator:b["C"],QDialog:b["k"],QToggle:b["N"],QCheckbox:b["h"]},h.options.components||{}),h.options.directives=Object.assign({ClosePopup:b["a"]},h.options.directives||{})},e652:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),r=function(e){return(0,a.withParams)({type:"requiredUnless",prop:e},(function(t,i){return!!(0,a.ref)(e,this,i)||(0,a.req)(t)}))};t.default=r},e71f:function(e,t,i){"use strict";function a(e){return 1==e?{decimal:".",thousands:",",prefix:"",suffix:"",precision:0,masked:!1}:2==e?{decimal:".",thousands:",",prefix:"",suffix:"",precision:2,masked:!1}:void 0}t["a"]=a},eb66:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),r=function(e){return(0,a.withParams)({type:"minValue",min:e},(function(t){return!(0,a.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+e}))};t.default=r},ec11:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),r=function(e,t){return(0,a.withParams)({type:"between",min:e,max:t},(function(i){return!(0,a.req)(i)||(!/\s/.test(i)||i instanceof Date)&&+e<=+i&&+t>=+i}))};t.default=r},f3f4:function(e,t,i){}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["84f50280"],{"67ba":function(e,o,n){"use strict";var t=[{id:1,name:"{{product_name}}",desc:"Name of product"},{id:2,name:"{{time_start}}",desc:"Time start"},{id:3,name:"{{travel_date}}",desc:"Travel date"},{id:4,name:"{{number_traveler}}",desc:"Number of traveler"},{id:5,name:"{{total_price_booking}}",desc:"Total price booking"},{id:6,name:"{{traveler_first_name}}",desc:"Traveler first name (Lead)"},{id:7,name:"{{traveler_last_name}}",desc:"Traveler last name (Lead)"},{id:8,name:"{{traveler_phone}}",desc:"Traveler phone (Lead)"},{id:9,name:"{{traveler_email}}",desc:"Traveler email (Lead)"},{id:10,name:"{{other_traveler}}",desc:"Other traveler"},{id:11,name:"{{pickup_location}}",desc:"Pickup location"},{id:12,name:"{{nationality}}",desc:"Nationality"},{id:13,name:"{{other_request}}",desc:"Other request"},{id:14,name:"{{booking_number}}",desc:"Booking number"},{id:15,name:"{{tour_type}}",desc:"Tour type"},{id:16,name:"{{hotel_name}}",desc:"Hotel name"},{id:17,name:"{{hotel_address}}",desc:"Hotel address"},{id:18,name:"{{pickup_time_from}}",desc:"Pickup time from"},{id:19,name:"{{pickup_time_to}}",desc:"Pickup time to"},{id:20,name:"{{adult_number}}",desc:"Adult number traveller"},{id:21,name:"{{child_number}}",desc:"Child number traveller"},{id:22,name:"{{infant_number}}",desc:"Infant number traveller"},{id:23,name:"{{youth_number}}",desc:"Youth number traveller"},{id:24,name:"{{senior_number}}",desc:"Senior number traveller"},{id:25,name:"{{deposit_requested}}",desc:"Deposit requested"},{id:26,name:"{{food_notes}}",desc:"Food notes"},{id:27,name:"{{adult_price}}",desc:"Adult price of traveller"},{id:28,name:"{{child_price}}",desc:"Child price of traveller"},{id:29,name:"{{infant_price}}",desc:"Infant price of traveller"},{id:30,name:"{{youth_price}}",desc:"Youth price of traveller"},{id:31,name:"{{senior_price}}",desc:"Senior price of traveller"}];o["a"]=t},a255:function(e,o,n){"use strict";n.r(o);var t=function(){var e=this,o=e.$createElement,n=e._self._c||o;return n("div",{staticClass:"email-template-preview",staticStyle:{width:"1100px",margin:"auto"}},[e.is_edit?n("div",{staticClass:"q-mt-lg"},[n("v-editor-app",{attrs:{config:e.config},model:{value:e.final_content,callback:function(o){e.final_content=o},expression:"final_content"}})],1):n("div",{staticClass:"content q-pa-md q-mt-lg",staticStyle:{border:"1px solid #cecece","background-color":"white",height:"70vh",overflow:"auto"},attrs:{id:"content-copy"},domProps:{innerHTML:e._s(e.final_content)}}),n("div",{staticClass:"q-mt-lg text-center"},[e.is_edit?n("q-btn",{staticClass:"q-mr-md",attrs:{label:"DONE",size:"md",color:"primary",icon:"check"},on:{click:function(o){e.is_edit=!1}}}):n("q-btn",{staticClass:"q-mr-md",attrs:{label:"Edit",size:"md",color:"primary",icon:"edit"},on:{click:function(o){e.is_edit=!0}}}),e.is_edit?e._e():n("q-btn",{attrs:{label:"Copy",size:"md",color:"primary",icon:"file_copy"},on:{click:function(o){return e.copyClipboard("content-copy")}}})],1)])},i=[],a=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("456d"),n("a481"),n("7f7f"),n("6b54"),n("06db"),n("c47a")),r=n.n(a),l=n("2f62"),c=n("67ba"),s=n("e71f");function d(e,o){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);o&&(t=t.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),n.push.apply(n,t)}return n}function u(e){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?d(n,!0).forEach((function(o){r()(e,o,n[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))}))}return e}var m={name:"preview-email-tempalte-manage-page",filters:{},computed:u({},Object(l["b"])({current_user_logged_info:"login/getUserLoggedInfo",current_branch_id:"login/getCurrentBranchId",regional_branch:"login/getInfoRegionalBranch"})),watch:{regional_branch:function(e){e&&e.mainCurrency&&(this.money=Object(s["a"])(parseInt(e.mainCurrency)),1==parseInt(e.mainCurrency)&&(this.option_filter={symbol:"",thousandsSeparator:",",fractionCount:0,fractionSeparator:".",display_symbol:"VND"}),2==parseInt(e.mainCurrency)&&(this.option_filter={symbol:"",thousandsSeparator:",",fractionCount:2,fractionSeparator:".",display_symbol:"$"}),this.$forceUpdate())}},data:function(){return{option_filter:{symbol:"",thousandsSeparator:",",fractionCount:0,fractionSeparator:".",display_symbol:"VND"},is_edit:!1,id_booking:null,id_template:null,info_booking:null,info_template:null,final_content:"",list_param:c["a"],config:{uploadImgUrl:"https://familala.net/api/Media/photoOnlyUrl",uploadParams:{token:"123456798",name:"avatar"},uploadHeaders:{authorization:""},menus:["source","|","bold","underline","italic","strikethrough","eraser","forecolor","bgcolor","|","quote","fontfamily","fontsize","head","unorderlist","orderlist","alignleft","aligncenter","alignright","|","link","unlink","table","emotion","|","img","video","location","insertcode","|","undo","redo","fullscreen"],printLog:!0,lang:{bold:"Bold",underline:"Underline",italic:"Italic",forecolor:"Color",bgcolor:"Backcolor",strikethrough:"Strikethrough",eraser:"Eraser",source:"Codeview",quote:"Quote",fontfamily:"Font family",fontsize:"Font size",head:"Head",orderlist:"Ordered list",unorderlist:"Unordered list",alignleft:"Align left",aligncenter:"Align center",alignright:"Align right",link:"Insert link",linkTarget:"Open mode",text:"Text",submit:"Submit",cancel:"Cancel",unlink:"Unlink",table:"Table",emotion:"Emotions",img:"Image",uploadImg:"Upload",linkImg:"Link",video:"Video",width:"width",height:"height",location:"Location",loading:"Loading",searchlocation:"search",dynamicMap:"Dynamic",clearLocation:"Clear",langDynamicOneLocation:"Only one location in dynamic map",insertcode:"Insert Code",undo:"Undo",redo:"Redo",fullscreen:"Full screen",openLink:"open link"}}}},methods:{formatMoney:function(e){var o=this,n=o.$options.filters.currency(e,o.option_filter);return n},formatDateSystem:function(e){if(""!=e&&null!=e){var o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t="",i=new Date(e),a=o[i.getDay()],r=n[i.getMonth()],l=i.getDate().toString(),c=i.getFullYear().toString();t=a+", "+l+" "+r+" "+c;return t}return""},copyClipboard:function(e){var o=this,n=document.getElementById(e);if(document.body.createTextRange){var t=document.body.createTextRange();t.moveToElementText(n),t.select(),document.execCommand("Copy"),o.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Copy success"})}else if(window.getSelection){var i=window.getSelection();t=document.createRange();t.selectNodeContents(n),i.removeAllRanges(),i.addRange(t),document.execCommand("Copy"),o.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Copy success"})}},getInfoListContentOfBookingToAppend:function(){var e=this;this.list_param.forEach((function(o){switch(o.id){case 1:o.value=e.info_booking.product.title;break;case 2:o.value=e.info_booking.startTime;break;case 3:o.value=e.formatDateSystem(e.info_booking.travelDate);break;case 4:o.value=e.info_booking.guestQuantity;break;case 5:o.value=e.formatMoney(e.info_booking.adultNumber*e.info_booking.adultPrice+e.info_booking.childNumber*e.info_booking.childPrice+e.info_booking.infantNumber*e.info_booking.infantPrice+e.info_booking.youthNumber*e.info_booking.youthPrice+e.info_booking.seniorNumber*e.info_booking.seniorPrice);break;case 6:o.value=e.info_booking.leadTravelerFirstName;break;case 7:o.value=e.info_booking.leadTravelerLastName;break;case 8:o.value=e.info_booking.leadTravelerLastPhone;break;case 9:o.value=e.info_booking.leadTravelerLastEmail;break;case 10:o.value=e.info_booking.otherTravelerNames.join(", ");break;case 11:o.value=e.info_booking.hotelName;break;case 12:o.value=e.info_booking.nationality;break;case 13:o.value=e.info_booking.otherNotes;break;case 14:o.value=e.info_booking.bookingNumber;break;case 15:o.value=e.info_booking.tourType;break;case 16:o.value=e.info_booking.hotelName;break;case 17:o.value=e.info_booking.hotelAddress;break;case 18:o.value=e.info_booking.pickupTimeFrom;break;case 19:o.value=e.info_booking.pickupTimeTo;break;case 20:o.value=e.info_booking.adultNumber;break;case 21:o.value=e.info_booking.childNumber;break;case 22:o.value=e.info_booking.infantNumber;break;case 23:o.value=e.info_booking.youthNumber;break;case 24:o.value=e.info_booking.seniorNumber;break;case 25:o.value=e.info_booking.depositRequested;break;case 26:o.value=e.info_booking.foodNotes;break;case 27:o.value=e.formatMoney(e.info_booking.adultPrice);break;case 28:o.value=e.formatMoney(e.info_booking.childPrice);break;case 29:o.value=e.formatMoney(e.info_booking.infantPrice);break;case 30:o.value=e.formatMoney(e.info_booking.youthPrice);break;case 31:o.value=e.formatMoney(e.info_booking.seniorPrice);break;default:break}})),e.initEmailToView()},getInfoBooking:function(){var e=this,o=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/Orders/GetDetail?orderId="+this.id_booking,{headers:{Authorization:"Bearer "+o,"Content-Type":"application/json"}}).then((function(o){e.info_booking=o.data,e.getInfoListContentOfBookingToAppend()})).catch((function(e){}))},getInfoTemplate:function(){var e=this,o=localStorage.getItem("branch_id_fisheye_client"),n=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/EmailTemplates/Get?branchId="+o+"&id="+e.id_template,{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"}}).then((function(o){e.info_template=o.data.emailTemplates[0],e.getInfoBooking()})).catch((function(e){}))},initEmailToView:function(){var e=this,o=JSON.parse(JSON.stringify(e.info_template.content));e.list_param.forEach((function(e){while(-1!=o.indexOf(e.name))o=o.replace(e.name,e.value)})),this.final_content=o}},mounted:function(){var e=this.$route.params.booking_id,o=this.$route.params.template_id;e&&o&&(this.id_booking=e,this.id_template=o,this.getInfoTemplate())},components:{}},f=m,b=n("2877"),p=n("fe09"),g=Object(b["a"])(f,t,i,!1,null,"706a0377",null);o["default"]=g.exports;g.options.components=Object.assign({QBtn:p["c"]},g.options.components||{})},e71f:function(e,o,n){"use strict";function t(e){return 1==e?{decimal:".",thousands:",",prefix:"",suffix:"",precision:0,masked:!1}:2==e?{decimal:".",thousands:",",prefix:"",suffix:"",precision:2,masked:!1}:void 0}o["a"]=t}}]);
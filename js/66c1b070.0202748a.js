(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["66c1b070"],{7128:function(t,e,i){"use strict";var o=i("a732"),r=i.n(o);r.a},a732:function(t,e,i){},cc8f:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"page-create-product-wrapper"},[i("div",{staticClass:"q-pa-lg content-of-each-step"},[i("div",{staticClass:"step-1"},[i("q-card",{staticClass:"card-step-1 w-100-per-mobile"},[i("q-card-section",[i("div",{staticClass:"step-1-content"},[i("div",{staticClass:"text-main q-pt-lg q-pl-lg q-pr-lg"},[t._v("Information travelers need from you")]),i("div",{staticClass:"q-pt-lg q-pl-lg q-pr-lg q-pb-xs sub-text-1"},[t._v("Description")]),i("div",{staticClass:"q-pb-lg q-pl-lg q-pr-lg q-pt-xs"},t._l(t.list_option_description,(function(e,o){return i("div",{key:o,staticClass:"q-mt-sm"},[i("el-input",{attrs:{size:"large",placeholder:"Accessibility wheelchair, heath.."},model:{value:e.name,callback:function(i){t.$set(e,"name",i)},expression:"item.name"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-close"},on:{click:function(i){return t.removeItem(e)}},slot:"append"})],1)],1)})),0),i("div",{staticClass:"sub-text-3 q-pl-lg q-pr-lg"},[i("div",{staticStyle:{width:"fit-content"},on:{click:function(e){return t.addMoreDescription()}}},[t._v("+ Add another")])]),i("div",{staticClass:"q-pa-lg"},[i("q-btn",{staticClass:"q-mt-lg w-100-per-mobile",attrs:{color:"primary",label:"Save & continue",size:"lg","no-caps":""},on:{click:function(e){return t.gotoStep5()}}})],1)])])],1)],1)])])},r=[],s=(i("7f7f"),i("c5f6"),{name:"create-product-page",filters:{},props:{props_id_product:{type:Number,default:-1}},watch:{props_id_product:function(t){-1!=this.props_id_product&&this.props_id_product&&(this.product_id=this.props_id_product,this.$emit("getProductId",this.props_id_product),this.getInfoProductEdit())}},data:function(){return{list_option_description:[{name:""}],current_product_edited:{},product_id:-1}},methods:{addMoreDescription:function(){var t={name:""};this.list_option_description.push(t)},gotoStep5:function(){var t=this,e=localStorage.getItem("user_token_fisheye_client"),i=this.product_id,o={productId:parseInt(i),travelerInformation:t.list_option_description.map((function(t){return t.name}))};7==t.current_product_edited.stepCreation&&(o.stepCreation=8),this.$axios.put("/api/Products/UpdateBasicInfo",JSON.stringify(o),{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}).then((function(e){t.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Update Successfully"}),-1!=t.props_id_product&&t.props_id_product?t.$emit("done"):t.$router.push("/products/create/schedulePricing/travelerDetails/"+i)})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))},removeItem:function(t){var e=this,i=e.list_option_description.indexOf(t);-1!=i&&e.list_option_description.splice(i,1),e.$forceUpdate()},initDataEdit:function(){this.current_product_edited.travelerInformation&&(this.list_option_description=this.current_product_edited.travelerInformation.map((function(t){return{name:t}})))},getInfoProductEdit:function(){var t=this,e=this.product_id;if(e){var i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/Products/GetProductDetail/"+e,{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(e){t.current_product_edited=e.data,t.initDataEdit()})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}}},components:{},mounted:function(){var t=this.$route.params.product_id;t&&(this.product_id=t,this.$emit("getProductId",t),this.getInfoProductEdit()),-1!=this.props_id_product&&this.props_id_product&&(this.product_id=this.props_id_product,this.$emit("getProductId",this.props_id_product),this.getInfoProductEdit())}}),n=s,c=(i("7128"),i("2877")),p=i("fe09"),a=Object(c["a"])(n,o,r,!1,null,"44043373",null);e["default"]=a.exports;a.options.components=Object.assign({QPage:p["y"],QCard:p["e"],QCardSection:p["g"],QBtn:p["c"]},a.options.components||{})}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["44ac075f"],{"7a31":function(t,e,i){"use strict";var o=i("b7a8"),a=i.n(o);a.a},"887e":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"page-create-product-wrapper"},[i("div",{staticClass:"q-pa-lg content-of-each-step"},[i("div",{staticClass:"step-1"},[i("q-card",{staticClass:"card-step-1 w-100-per-mobile"},[t.basic_done_step_0?i("q-card-section",[i("div",{staticClass:"step-1-content"},[i("div",{staticClass:"text-main q-pa-lg"},[t._v("Let's start with how you price your product")]),i("div",{staticClass:"sub-text-1 q-pl-lg q-pr-lg q-pt-lg"},[t._v("\n              Define the age groups that\n              can participate\n            ")]),i("div",{staticClass:"q-pl-lg q-pr-lg q-mt-xs group-age-mobile"},[i("div",{staticClass:"flex items-center q-mt-sm"},[i("div",{staticClass:"w-200-px w-32-per-mobile"}),i("div",{staticClass:"w-68-per-mobile flex"},[i("div",{staticStyle:{width:"130px","text-align":"center"}},[t._v("Min Age")]),i("div",{staticClass:"q-ml-md q-mr-md"},[t._v("-")]),i("div",{staticStyle:{width:"130px","text-align":"center"}},[t._v("Max Age")])])]),i("div",{staticClass:"flex items-center q-mt-sm"},[i("div",{staticClass:"w-200-px w-32-per-mobile"},[i("q-checkbox",{attrs:{label:"Senior"},model:{value:t.option_ages.senior.is_choosed,callback:function(e){t.$set(t.option_ages.senior,"is_choosed",e)},expression:"option_ages.senior.is_choosed"}})],1),i("div",{staticClass:"w-68-per-mobile"},[i("el-input-number",{staticClass:"input-number-custom-width",attrs:{size:"small",disabled:!t.option_ages.senior.is_choosed,"controls-position":"right",min:0,max:100},on:{blur:function(e){return t.reInitDataOptionAge()}},model:{value:t.option_ages.senior.min_age,callback:function(e){t.$set(t.option_ages.senior,"min_age",e)},expression:"option_ages.senior.min_age"}}),i("span",{staticClass:"q-ml-md q-mr-md"},[t._v("-")]),i("el-input-number",{staticClass:"input-number-custom-width",attrs:{size:"small",disabled:!t.option_ages.senior.is_choosed,"controls-position":"right",min:0,max:100},on:{blur:function(e){return t.reInitDataOptionAge()}},model:{value:t.option_ages.senior.max_age,callback:function(e){t.$set(t.option_ages.senior,"max_age",e)},expression:"option_ages.senior.max_age"}})],1)]),t.option_ages.senior.is_choosed?i("div",{staticClass:"error-wrapper q-pl-lg q-pr-lg"},[t.option_ages.senior.min_age>t.option_ages.senior.max_age?i("div",{staticClass:"error-item"},[t._v("- Senior max age must be greater than or equal to Senior min age")]):t._e()]):t._e(),i("div",{staticClass:"flex items-center q-mt-sm"},[i("div",{staticClass:"w-200-px w-32-per-mobile"},[i("q-checkbox",{attrs:{label:"Adult"},model:{value:t.option_ages.adult.is_choosed,callback:function(e){t.$set(t.option_ages.adult,"is_choosed",e)},expression:"option_ages.adult.is_choosed"}})],1),i("div",{staticClass:"w-68-per-mobile"},[i("el-input-number",{staticClass:"input-number-custom-width",attrs:{disabled:!t.option_ages.adult.is_choosed,size:"small","controls-position":"right",min:0,max:100},on:{blur:function(e){return t.reInitDataOptionAge()}},model:{value:t.option_ages.adult.min_age,callback:function(e){t.$set(t.option_ages.adult,"min_age",e)},expression:"option_ages.adult.min_age"}}),i("span",{staticClass:"q-ml-md q-mr-md"},[t._v("-")]),i("el-input-number",{staticClass:"input-number-custom-width",attrs:{disabled:!t.option_ages.adult.is_choosed,size:"small","controls-position":"right",min:0,max:100},on:{blur:function(e){return t.reInitDataOptionAge()}},model:{value:t.option_ages.adult.max_age,callback:function(e){t.$set(t.option_ages.adult,"max_age",e)},expression:"option_ages.adult.max_age"}})],1)]),t.option_ages.adult.is_choosed?i("div",{staticClass:"error-wrapper q-pl-lg q-pr-lg"},[t.option_ages.adult.min_age>t.option_ages.adult.max_age?i("div",{staticClass:"error-item"},[t._v("- Adult max age must be greater than or equal to Adult min age")]):t._e(),t.option_ages.adult.max_age>=t.option_ages.senior.min_age&&t.option_ages.senior.is_choosed?i("div",{staticClass:"error-item"},[t._v("- Adult max age must be less than Senior min age")]):t._e()]):t._e(),i("div",{staticClass:"flex items-center q-mt-sm"},[i("div",{staticClass:"w-200-px w-32-per-mobile"},[i("q-checkbox",{attrs:{label:"Youth"},model:{value:t.option_ages.youth.is_choosed,callback:function(e){t.$set(t.option_ages.youth,"is_choosed",e)},expression:"option_ages.youth.is_choosed"}})],1),i("div",{staticClass:"w-68-per-mobile"},[i("el-input-number",{staticClass:"input-number-custom-width",attrs:{size:"small",disabled:!t.option_ages.youth.is_choosed,"controls-position":"right",min:0,max:100},on:{blur:function(e){return t.reInitDataOptionAge()}},model:{value:t.option_ages.youth.min_age,callback:function(e){t.$set(t.option_ages.youth,"min_age",e)},expression:"option_ages.youth.min_age"}}),i("span",{staticClass:"q-ml-md q-mr-md"},[t._v("-")]),i("el-input-number",{staticClass:"input-number-custom-width",attrs:{size:"small",disabled:!t.option_ages.youth.is_choosed,"controls-position":"right",min:0,max:100},on:{blur:function(e){return t.reInitDataOptionAge()}},model:{value:t.option_ages.youth.max_age,callback:function(e){t.$set(t.option_ages.youth,"max_age",e)},expression:"option_ages.youth.max_age"}})],1)]),t.option_ages.youth.is_choosed?i("div",{staticClass:"error-wrapper q-pl-lg q-pr-lg"},[t.option_ages.youth.min_age>t.option_ages.youth.max_age?i("div",{staticClass:"error-item"},[t._v("- Youth max age must be greater than or equal to Youth min age")]):t._e(),t.option_ages.youth.max_age>=t.option_ages.senior.min_age&&t.option_ages.senior.is_choosed?i("div",{staticClass:"error-item"},[t._v("- Youth max age must be less than Senior min age")]):t._e(),t.option_ages.youth.max_age>=t.option_ages.adult.min_age&&t.option_ages.adult.is_choosed?i("div",{staticClass:"error-item"},[t._v("- Youth max age must be less than Adult min age")]):t._e()]):t._e(),i("div",{staticClass:"flex items-center q-mt-sm"},[i("div",{staticClass:"w-200-px w-32-per-mobile"},[i("q-checkbox",{attrs:{label:"Child"},model:{value:t.option_ages.child.is_choosed,callback:function(e){t.$set(t.option_ages.child,"is_choosed",e)},expression:"option_ages.child.is_choosed"}})],1),i("div",{staticClass:"w-68-per-mobile"},[i("el-input-number",{staticClass:"input-number-custom-width",attrs:{size:"small",disabled:!t.option_ages.child.is_choosed,"controls-position":"right",min:0,max:100},on:{blur:function(e){return t.reInitDataOptionAge()}},model:{value:t.option_ages.child.min_age,callback:function(e){t.$set(t.option_ages.child,"min_age",e)},expression:"option_ages.child.min_age"}}),i("span",{staticClass:"q-ml-md q-mr-md"},[t._v("-")]),i("el-input-number",{staticClass:"input-number-custom-width",attrs:{size:"small",disabled:!t.option_ages.child.is_choosed,"controls-position":"right",min:0,max:100},on:{blur:function(e){return t.reInitDataOptionAge()}},model:{value:t.option_ages.child.max_age,callback:function(e){t.$set(t.option_ages.child,"max_age",e)},expression:"option_ages.child.max_age"}})],1)]),t.option_ages.child.is_choosed?i("div",{staticClass:"error-wrapper q-pl-lg q-pr-lg"},[t.option_ages.child.min_age>t.option_ages.child.max_age?i("div",{staticClass:"error-item"},[t._v("- Child max age must be greater than or equal to Child min age")]):t._e(),t.option_ages.child.max_age>=t.option_ages.senior.min_age&&t.option_ages.senior.is_choosed?i("div",{staticClass:"error-item"},[t._v("- Child max age must be less than Senior min age")]):t._e(),t.option_ages.child.max_age>=t.option_ages.adult.min_age&&t.option_ages.adult.is_choosed?i("div",{staticClass:"error-item"},[t._v("- Child max age must be less than Adult min age")]):t._e(),t.option_ages.child.max_age>=t.option_ages.youth.min_age&&t.option_ages.youth.is_choosed?i("div",{staticClass:"error-item"},[t._v("- Child max age must be less than Youth min age")]):t._e()]):t._e(),i("div",{staticClass:"flex items-center q-mt-sm"},[i("div",{staticClass:"w-200-px w-32-per-mobile"},[i("q-checkbox",{attrs:{label:"infant"},model:{value:t.option_ages.infant.is_choosed,callback:function(e){t.$set(t.option_ages.infant,"is_choosed",e)},expression:"option_ages.infant.is_choosed"}})],1),i("div",{staticClass:"w-68-per-mobile"},[i("el-input-number",{staticClass:"input-number-custom-width",attrs:{disabled:!t.option_ages.infant.is_choosed,size:"small","controls-position":"right",min:0,max:100},on:{blur:function(e){return t.reInitDataOptionAge()}},model:{value:t.option_ages.infant.min_age,callback:function(e){t.$set(t.option_ages.infant,"min_age",e)},expression:"option_ages.infant.min_age"}}),i("span",{staticClass:"q-ml-md q-mr-md"},[t._v("-")]),i("el-input-number",{staticClass:"input-number-custom-width",attrs:{size:"small",disabled:!t.option_ages.infant.is_choosed,"controls-position":"right",min:0,max:100},on:{blur:function(e){return t.reInitDataOptionAge()}},model:{value:t.option_ages.infant.max_age,callback:function(e){t.$set(t.option_ages.infant,"max_age",e)},expression:"option_ages.infant.max_age"}})],1)]),t.option_ages.infant.is_choosed?i("div",{staticClass:"error-wrapper q-pl-lg q-pr-lg"},[t.option_ages.infant.min_age>t.option_ages.infant.max_age?i("div",{staticClass:"error-item"},[t._v("- Infant max age must be greater than or equal to Infant min age")]):t._e(),t.option_ages.infant.max_age>=t.option_ages.senior.min_age&&t.option_ages.senior.is_choosed?i("div",{staticClass:"error-item"},[t._v("- Infant max age must be less than Senior min age")]):t._e(),t.option_ages.infant.max_age>=t.option_ages.adult.min_age&&t.option_ages.adult.is_choosed?i("div",{staticClass:"error-item"},[t._v("- Infant max age must be less than Adult min age")]):t._e(),t.option_ages.infant.max_age>=t.option_ages.youth.min_age&&t.option_ages.youth.is_choosed?i("div",{staticClass:"error-item"},[t._v("- Infant max age must be less than Youth min age")]):t._e(),t.option_ages.infant.max_age>=t.option_ages.child.min_age&&t.option_ages.child.is_choosed?i("div",{staticClass:"error-item"},[t._v("- Infant max age must be less than Child min age")]):t._e()]):t._e()]),t.is_not_choosed?i("div",{staticClass:"q-pl-lg error-content"},[t._v("Please define the age groups")]):t._e(),i("div",{staticClass:"sub-text-1 q-pl-lg q-pr-lg q-pt-lg q-mt-lg"},[t._v("\n              Do youth need to be accompanied by at\n              least one adult or one senior?\n            ")]),i("div",{staticClass:"q-pl-lg q-pr-lg q-pt-lg"},[i("q-option-group",{attrs:{options:t.options_radio,type:"radio"},model:{value:t.isAccompanyWithElder,callback:function(e){t.isAccompanyWithElder=e},expression:"isAccompanyWithElder"}})],1),i("div",{staticClass:"sub-text-1 q-pl-lg q-pr-lg q-pt-lg q-mt-lg"},[t._v("\n              Enter the maximum number of travelers\n              allowed in a single booking\n            ")]),i("div",{staticClass:"q-pl-lg q-pr-lg q-pt-lg"},[i("el-input-number",{attrs:{size:"small","controls-position":"right",min:1,max:100},on:{blur:function(e){return t.blurMaximumTravel()}},model:{value:t.max_number_traveler,callback:function(e){t.max_number_traveler=e},expression:"max_number_traveler"}})],1),i("div"),i("div",{staticClass:"sub-text-1 q-pl-lg q-pr-lg q-pt-lg q-pb-lg"},[i("q-btn",{attrs:{color:"primary",label:"Save & continue",size:"lg","no-caps":""},on:{click:function(e){return t.gotoScheduleStep2()}}})],1)])]):i("q-card-section",[i("div",{staticClass:"flex justify-between"},[i("div",{staticClass:"w-65-per w-100-per-mobile"},[i("div",{staticClass:"text-main q-pa-lg"},[t._v("Step 3 of 5: Schedules & pricing")]),i("div",{staticClass:"text-sub q-pl-lg q-pr-lg q-pb-lg"},[t._v("\n                In this section, you'll tell us about your\n                product's schedules and pricing options.\n              ")]),i("div",{staticClass:"q-pa-lg view-on-desk-top"},[i("q-btn",{attrs:{color:"primary",label:"Next",size:"lg","no-caps":""},on:{click:function(e){return t.gotoStep1()}}})],1)]),i("div",{staticClass:"w-30-per w-100-per-mobile text-center"},[i("img",{staticClass:"img-1",attrs:{src:"statics/images/product-content.png"}})])]),i("div",{staticClass:"q-pa-lg"},[i("q-btn",{staticClass:"w-100-per-mobile view-on-mobile",attrs:{color:"primary",label:"Next",size:"lg","no-caps":""},on:{click:function(e){return t.gotoStep1()}}})],1)])],1)],1)])])},a=[],s=(i("7f7f"),i("c5f6"),{name:"product-1-page",filters:{},props:{props_id_product:{type:Number,default:-1}},watch:{props_id_product:function(t){-1!=this.props_id_product&&this.props_id_product&&(this.product_id=this.props_id_product,this.basic_done_step_0=!0,this.$emit("getProductId",this.props_id_product),this.getInfoProductEdit())}},computed:{is_not_choosed:function(){var t=this;return!(t.option_ages.senior.is_choosed||t.option_ages.adult.is_choosed||t.option_ages.youth.is_choosed||t.option_ages.child.is_choosed||t.option_ages.infant.is_choosed)},is_error:function(){var t=this;if(t.option_ages.senior.is_choosed&&t.option_ages.senior.min_age>t.option_ages.senior.max_age)return!0;if(t.option_ages.adult.is_choosed){if(t.option_ages.adult.min_age>t.option_ages.adult.max_age)return!0;if(t.option_ages.adult.max_age>=t.option_ages.senior.min_age&&t.option_ages.senior.is_choosed)return!0}if(t.option_ages.youth.is_choosed){if(t.option_ages.youth.min_age>t.option_ages.youth.max_age)return!0;if(t.option_ages.youth.max_age>=t.option_ages.senior.min_age&&t.option_ages.senior.is_choosed)return!0;if(t.option_ages.youth.max_age>=t.option_ages.adult.min_age&&t.option_ages.adult.is_choosed)return!0}if(t.option_ages.child.is_choosed){if(t.option_ages.child.min_age>t.option_ages.child.max_age)return!0;if(t.option_ages.child.max_age>=t.option_ages.senior.min_age&&t.option_ages.senior.is_choosed)return!0;if(t.option_ages.child.max_age>=t.option_ages.adult.min_age&&t.option_ages.adult.is_choosed)return!0;if(t.option_ages.child.max_age>=t.option_ages.youth.min_age&&t.option_ages.youth.is_choosed)return!0}if(t.option_ages.infant.is_choosed){if(t.option_ages.infant.min_age>t.option_ages.infant.max_age)return!0;if(t.option_ages.infant.max_age>=t.option_ages.senior.min_age&&t.option_ages.senior.is_choosed)return!0;if(t.option_ages.infant.max_age>=t.option_ages.adult.min_age&&t.option_ages.adult.is_choosed)return!0;if(t.option_ages.infant.max_age>=t.option_ages.youth.min_age&&t.option_ages.youth.is_choosed)return!0;if(t.option_ages.infant.max_age>=t.option_ages.child.min_age&&t.option_ages.child.is_choosed)return!0}return!1}},data:function(){return{options_radio:[{label:"Yes",value:!0,color:"primary"},{label:"No",value:!1,color:"primary"}],isAccompanyWithElder:!1,max_number_traveler:0,basic_done_step_0:!1,option_ages:{senior:{min_age:null,max_age:null,is_choosed:!1},adult:{min_age:null,max_age:null,is_choosed:!1},youth:{min_age:null,max_age:null,is_choosed:!1},child:{min_age:null,max_age:null,is_choosed:!1},infant:{min_age:null,max_age:null,is_choosed:!1}},current_product_edited:"",product_id:-1}},methods:{reInitDataOptionAge:function(){void 0==this.option_ages.senior.min_age&&(this.option_ages.senior.min_age=1),void 0==this.option_ages.senior.max_age&&(this.option_ages.senior.max_age=1),void 0==this.option_ages.adult.min_age&&(this.option_ages.adult.min_age=1),void 0==this.option_ages.adult.max_age&&(this.option_ages.adult.max_age=1),void 0==this.option_ages.youth.min_age&&(this.option_ages.youth.min_age=1),void 0==this.option_ages.youth.max_age&&(this.option_ages.youth.max_age=1),void 0==this.option_ages.child.min_age&&(this.option_ages.child.min_age=1),void 0==this.option_ages.child.max_age&&(this.option_ages.child.max_age=1),void 0==this.option_ages.infant.min_age&&(this.option_ages.infant.min_age=1),void 0==this.option_ages.infant.max_age&&(this.option_ages.infant.max_age=1)},blurMaximumTravel:function(){var t=this.max_number_traveler;""!=t&&void 0!=t&&null!=t||(this.max_number_traveler=1)},gotoStep1:function(){this.basic_done_step_0=!0},getAgeTier:function(){var t=[{name:"Senior",minAge:null!=this.option_ages.senior.min_age?this.option_ages.senior.min_age:0,maxAge:null!=this.option_ages.senior.max_age?this.option_ages.senior.max_age:0,isActive:this.option_ages.senior.is_choosed},{name:"Adult",minAge:null!=this.option_ages.adult.min_age?this.option_ages.adult.min_age:0,maxAge:null!=this.option_ages.adult.max_age?this.option_ages.adult.max_age:0,isActive:this.option_ages.adult.is_choosed},{name:"Youth",minAge:null!=this.option_ages.youth.min_age?this.option_ages.youth.min_age:0,maxAge:null!=this.option_ages.youth.max_age?this.option_ages.youth.max_age:0,isActive:this.option_ages.youth.is_choosed},{name:"Child",minAge:null!=this.option_ages.child.min_age?this.option_ages.child.min_age:0,maxAge:null!=this.option_ages.child.max_age?this.option_ages.child.max_age:0,isActive:this.option_ages.child.is_choosed},{name:"Infant",minAge:null!=this.option_ages.infant.min_age?this.option_ages.infant.min_age:0,maxAge:null!=this.option_ages.infant.max_age?this.option_ages.infant.max_age:0,isActive:this.option_ages.infant.is_choosed}];return t},updateStep:function(){var t=this,e=localStorage.getItem("user_token_fisheye_client"),i=this.product_id,o={productId:parseInt(i)};8==t.current_product_edited.stepCreation&&(o.stepCreation=9,this.$axios.put("/api/Products/UpdateBasicInfo",JSON.stringify(o),{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}).then((function(t){})).catch((function(t){})))},gotoScheduleStep2:function(){if(!this.is_error&&!this.is_not_choosed){var t=this,e=localStorage.getItem("user_token_fisheye_client"),i=this.product_id,o=this.getAgeTier(),a={productId:parseInt(i),isAccompanyWithElder:this.isAccompanyWithElder,maximumTravelers:this.max_number_traveler,ageTiers:o};this.$axios.put("/api/Products/UpdateAgeGroup",JSON.stringify(a),{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}).then((function(e){t.updateStep(),t.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Update Successfully"}),-1!=t.props_id_product&&t.props_id_product?t.$emit("done"):t.$router.push("/products/create/schedulePricing/schedPriceSummary/"+i)})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}},initDataEdit:function(){if(this.current_product_edited.ageGroup){this.isAccompanyWithElder=this.current_product_edited.ageGroup.isAccompanyWithElder,this.max_number_traveler=this.current_product_edited.ageGroup.maximumTravelers;var t=this.current_product_edited.ageGroup.ageTiers.filter((function(t){return"Senior"==t.name}))[0];t&&(this.option_ages.senior.min_age=t.minAge,this.option_ages.senior.max_age=t.maxAge,this.option_ages.senior.is_choosed=t.isActive);var e=this.current_product_edited.ageGroup.ageTiers.filter((function(t){return"Adult"==t.name}))[0];e&&(this.option_ages.adult.min_age=e.minAge,this.option_ages.adult.max_age=e.maxAge,this.option_ages.adult.is_choosed=e.isActive);var i=this.current_product_edited.ageGroup.ageTiers.filter((function(t){return"Youth"==t.name}))[0];i&&(this.option_ages.youth.min_age=i.minAge,this.option_ages.youth.max_age=i.maxAge,this.option_ages.youth.is_choosed=i.isActive);var o=this.current_product_edited.ageGroup.ageTiers.filter((function(t){return"Child"==t.name}))[0];o&&(this.option_ages.child.min_age=o.minAge,this.option_ages.child.max_age=o.maxAge,this.option_ages.child.is_choosed=o.isActive);var a=this.current_product_edited.ageGroup.ageTiers.filter((function(t){return"Infant"==t.name}))[0];a&&(this.option_ages.infant.min_age=a.minAge,this.option_ages.infant.max_age=a.maxAge,this.option_ages.infant.is_choosed=a.isActive)}},getInfoProductEdit:function(){var t=this,e=this.product_id;if(e){var i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/Products/GetProductDetail/"+e,{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(e){t.current_product_edited=e.data,t.initDataEdit()})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}}},components:{},mounted:function(){var t=this.$route.params.product_id;t&&(this.product_id=t,this.$emit("getProductId",t),this.getInfoProductEdit()),-1!=this.props_id_product&&this.props_id_product&&(this.basic_done_step_0=!0,this.product_id=this.props_id_product,this.$emit("getProductId",this.props_id_product),this.getInfoProductEdit())}}),n=s,r=(i("7a31"),i("2877")),_=i("fe09"),l=Object(r["a"])(n,o,a,!1,null,"77e2114a",null);e["default"]=l.exports;l.options.components=Object.assign({QPage:_["y"],QCard:_["e"],QCardSection:_["g"],QBtn:_["c"],QCheckbox:_["h"],QOptionGroup:_["x"]},l.options.components||{})},b7a8:function(t,e,i){}}]);
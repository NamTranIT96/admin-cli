(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["056f0a4e","2b1fffea","66c1b070","2d217a1f"],{"01a4":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"page-create-product-wrapper"},[i("div",{staticClass:"q-pa-lg content-of-each-step"},[i("div",{staticClass:"step-1"},[i("q-card",{staticClass:"card-step-1 w-100-per-mobile"},[i("q-card-section",[i("div",{staticClass:"step-1-content"},[i("div",{staticClass:"text-main q-pt-lg q-pl-lg q-pr-lg"},[t._v("What’s included and not included?")]),i("div",{staticClass:"font-15 q-pl-lg q-pr-lg"},[t._v("\n              Let travelers know what is and what isn’t provided to\n              help them understand what they’re paying for.\n              Include items such as food and drinks, special equipment, and admission fees.\n            ")]),i("div",{staticClass:"sub-text-4 q-pt-lg q-pl-lg q-pr-lg"},[t._v("What's included")]),i("div",{staticClass:"q-ml-lg q-mr-lg q-mt-sm"},[i("q-separator")],1),t.list_category_include.length>0?i("div",{staticClass:"list-cate q-pl-lg q-pr-lg"},t._l(t.list_category_include,(function(e,o){return i("div",{key:o},[i("div",{staticClass:"item-cate q-pt-md q-pb-md q-pl-sm"},[t._v(t._s(e))]),i("q-separator")],1)})),0):t._e(),0==t.list_category_include.length?i("div",{staticClass:"sub-text-3 q-pl-lg q-pr-lg q-mt-lg",on:{click:function(e){return t.addInclusion()}}},[t._v("+ Add inclusion")]):i("div",{staticClass:"sub-text-3 q-pl-lg q-pr-lg q-mt-lg",on:{click:function(e){return t.addInclusion()}}},[t._v("+ Edit inclusion")]),i("div",{staticClass:"sub-text-4 q-mt-lg q-pt-lg q-pl-lg q-pr-lg"},[t._v("What's excluded")]),i("div",{staticClass:"q-ml-lg q-mr-lg q-mt-sm"},[i("q-separator")],1),t.list_category_exclude.length>0?i("div",{staticClass:"list-cate q-pl-lg q-pr-lg"},t._l(t.list_category_exclude,(function(e,o){return i("div",{key:o},[i("div",{staticClass:"item-cate q-pt-md q-pb-md q-pl-sm"},[t._v(t._s(e))]),i("q-separator")],1)})),0):t._e(),0==t.list_category_exclude.length?i("div",{staticClass:"sub-text-3 q-pl-lg q-pr-lg q-mt-lg",on:{click:function(e){return t.addExclusion()}}},[t._v("+ Add exclusion")]):i("div",{staticClass:"sub-text-3 q-pl-lg q-pr-lg q-mt-lg",on:{click:function(e){return t.addExclusion()}}},[t._v("+ Edit exclusion")]),i("div",{staticClass:"q-pa-lg"},[i("q-btn",{staticClass:"q-mt-lg w-100-per-mobile",attrs:{color:"primary",label:"Save & continue",size:"lg","no-caps":""},on:{click:function(e){return t.gotoStep4()}}})],1)])])],1)],1)]),i("q-dialog",{model:{value:t.triggerOpenInclusion,callback:function(e){t.triggerOpenInclusion=e},expression:"triggerOpenInclusion"}},[i("q-card",{staticClass:"card-dialog-step-2"},[i("q-card-section",{staticClass:"q-pa-lg"},[i("div",{staticClass:"text-h4"},[t._v("Add an inclusion")]),i("div",[t._v("Make your list precise so travelers understand the value of this experience. Don’t add more than 10 items and avoid duplicates.")])]),i("q-card-section",{staticClass:"q-pa-lg"},[i("div",{staticClass:"font-16 q-pb-sm"},[t._v("Included")]),i("div",{staticClass:"search-attraction"},[i("el-select",{staticClass:"select-category-inclustion",attrs:{"popper-class":"popper-category-inclusion",multiple:"",placeholder:"Select a category"},model:{value:t.value_select_category_inclusion,callback:function(e){t.value_select_category_inclusion=e},expression:"value_select_category_inclusion"}},t._l(t.options_category_include,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),i("div",[i("div",{staticClass:"font-16 q-pt-lg q-pb-sm"},[t._v("Other")]),i("div",{staticClass:"search-attraction flex justify-between"},[i("div",{staticStyle:{width:"85%"}},[i("el-input",{model:{value:t.input_option_other_include,callback:function(e){t.input_option_other_include=e},expression:"input_option_other_include"}})],1),i("q-btn",{staticStyle:{width:"10%"},attrs:{icon:"add",size:"md",color:"primary"},on:{click:function(e){return t.addOptionToInclude()}}})],1)])]),i("q-card-actions",{staticClass:"bg-white text-primary q-pa-lg",attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"white","text-color":"primary",label:"Cancel",size:"md"}}),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",label:"Add",size:"md"},on:{click:function(e){return t.saveInfoInCludeExClude()}}})],1)],1)],1),i("q-dialog",{model:{value:t.triggerOpenExclusion,callback:function(e){t.triggerOpenExclusion=e},expression:"triggerOpenExclusion"}},[i("q-card",{staticClass:"card-dialog-step-2"},[i("q-card-section",{staticClass:"q-pa-lg"},[i("div",{staticClass:"text-h4"},[t._v("Add an exclusion")]),i("div",[t._v("Let travelers know what’s not included in the price of this experience. Don’t add more than 10 items or those already on your inclusions list.")])]),i("q-card-section",{staticClass:"q-pa-lg"},[i("div",{staticClass:"font-16 q-pb-sm"},[t._v("Excluded")]),i("div",{staticClass:"search-attraction"},[i("el-select",{staticClass:"select-category-inclustion",attrs:{"popper-class":"popper-category-inclusion",multiple:"",placeholder:"Select a category"},model:{value:t.value_select_category_exclusion,callback:function(e){t.value_select_category_exclusion=e},expression:"value_select_category_exclusion"}},t._l(t.options_category_exclude,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),i("div",[i("div",{staticClass:"font-16 q-pt-lg q-pb-sm"},[t._v("Other")]),i("div",{staticClass:"search-attraction flex justify-between"},[i("div",{staticStyle:{width:"85%"}},[i("el-input",{model:{value:t.input_option_other_exclude,callback:function(e){t.input_option_other_exclude=e},expression:"input_option_other_exclude"}})],1),i("q-btn",{staticStyle:{width:"10%"},attrs:{icon:"add",size:"md",color:"primary"},on:{click:function(e){return t.addOptionToExclude()}}})],1)])]),i("q-card-actions",{staticClass:"bg-white text-primary q-pa-lg",attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"white","text-color":"primary",label:"Cancel",size:"md"}}),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",label:"Add",size:"md"},on:{click:function(e){return t.saveInfoInCludeExClude()}}})],1)],1)],1)],1)},r=[],s=(i("c5f6"),{name:"create-product-page",filters:{},props:{props_id_product:{type:Number,default:-1}},watch:{props_id_product:function(t){-1!=this.props_id_product&&this.props_id_product&&(this.product_id=this.props_id_product,this.$emit("getProductId",this.props_id_product),this.getInfoProductEdit())}},data:function(){return{input2:"",input_option_other_include:"",input_option_other_exclude:"",value_theme:"",value_select_category_inclusion:[],value_select_category_exclusion:[],list_category_include:[],list_category_exclude:[],options_category_include:[{label:"Food and drink",value:"Food and drink"},{label:"Use of Equipment",value:"Use of Equipment"},{label:"Transportation amenities",value:"Transportation amenities"},{label:"Fees",value:"Fees"}],options_category_exclude:[{label:"Food and drink",value:"Food and drink"},{label:"Use of Equipment",value:"Use of Equipment"},{label:"Transportation amenities",value:"Transportation amenities"},{label:"Fees",value:"Fees"}],triggerOpenInclusion:!1,triggerOpenExclusion:!1,current_product_edited:{},product_id:-1}},methods:{saveInfoInCludeExClude:function(){this.list_category_include=this.value_select_category_inclusion,this.list_category_exclude=this.value_select_category_exclusion},addOptionToInclude:function(){var t=this;""!=t.input_option_other_include&&(this.options_category_include.push({label:t.input_option_other_include,value:t.input_option_other_include}),this.value_select_category_inclusion.push(t.input_option_other_include),this.input_option_other_include="")},addOptionToExclude:function(){var t=this;""!=this.input_option_other_exclude&&(this.options_category_exclude.push({label:t.input_option_other_exclude,value:t.input_option_other_exclude}),this.value_select_category_exclusion.push(t.input_option_other_exclude),this.input_option_other_exclude="")},gotoStep4:function(){var t=this,e=localStorage.getItem("user_token_fisheye_client"),i=this.product_id,o={productId:parseInt(i),inclusionList:t.list_category_include,exclusionList:t.list_category_exclude};5==t.current_product_edited.stepCreation&&(o.stepCreation=6),this.$axios.put("/api/Products/UpdateBasicInfo",JSON.stringify(o),{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}).then((function(e){t.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Update Successfully"}),-1!=t.props_id_product&&t.props_id_product?t.$emit("done"):t.$router.push("/products/create/content/unique/"+i)})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))},addInclusion:function(){this.triggerOpenInclusion=!0},addExclusion:function(){this.triggerOpenExclusion=!0},initDataEdit:function(){this.current_product_edited.inclusionList?(this.list_category_include=this.current_product_edited.inclusionList,this.value_select_category_inclusion=this.current_product_edited.inclusionList):this.list_category_include=[],this.current_product_edited.exclusionList?(this.list_category_exclude=this.current_product_edited.exclusionList,this.value_select_category_exclusion=this.current_product_edited.exclusionList):this.list_category_exclude=[]},getInfoProductEdit:function(){var t=this,e=this.product_id;if(e){var i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/Products/GetProductDetail/"+e,{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(e){t.current_product_edited=e.data,t.initDataEdit()})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}}},components:{},mounted:function(){var t=this.$route.params.product_id;t&&(this.product_id=t,this.$emit("getProductId",t),this.getInfoProductEdit()),-1!=this.props_id_product&&this.props_id_product&&(this.product_id=this.props_id_product,this.$emit("getProductId",this.props_id_product),this.getInfoProductEdit())}}),a=s,n=(i("a677"),i("2877")),c=i("fe09"),l=Object(n["a"])(a,o,r,!1,null,"0ad8ef8c",null);e["default"]=l.exports;l.options.components=Object.assign({QPage:c["y"],QCard:c["e"],QCardSection:c["g"],QSeparator:c["C"],QBtn:c["c"],QDialog:c["k"],QCardActions:c["f"]},l.options.components||{}),l.options.directives=Object.assign({ClosePopup:c["a"]},l.options.directives||{})},"43e1":function(t,e,i){},"4e82":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"page-create-product-wrapper"},[i("div",{staticClass:"q-pa-lg content-of-each-step"},[i("div",{staticClass:"step-1"},[i("q-card",{staticClass:"card-step-1 w-100-per-mobile"},[t.basic_done_step_0?i("q-card-section",[i("div",{staticClass:"step-1-content"},[i("div",{staticClass:"text-main q-pa-lg"},[t._v("Let's get started")]),i("div",{staticClass:"sub-text-1 q-pl-lg q-pr-lg"},[t._v("\n              Select the language you will use to\n              enter your product details\n            ")]),i("div",{staticClass:"sub-text-2 q-pl-lg q-pr-lg q-mt-sm"},[t._v("\n              You must use this language to write any descriptions\n              or text about this product.\n            ")]),i("div",{staticClass:"q-pl-lg q-pr-lg q-pl-lg q-pt-sm"},[i("el-select",{attrs:{size:"large","popper-class":"z-index-8000",placeholder:"Choose language"},model:{value:t.value_language,callback:function(e){t.value_language=e},expression:"value_language"}},t._l(t.options_language,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),i("div",{staticClass:"sub-text-1 q-pl-lg q-pr-lg q-pt-lg"},[t._v("Enter your product title")]),i("div",{staticClass:"q-pl-lg q-pr-lg q-mt-xs"},[i("el-input",{class:{"input-error":t.$v.input_product_title.$error},attrs:{size:"large",placeholder:""},model:{value:t.$v.input_product_title.$model,callback:function(e){t.$set(t.$v.input_product_title,"$model",e)},expression:"$v.input_product_title.$model"}}),t.$v.input_product_title.$error?i("div",{staticClass:"error-content"},[t._v("Product title is required")]):t._e()],1),i("div",[i("div",{staticClass:"sub-text-1 q-pl-lg q-pr-lg q-pt-lg"},[t._v("Product reference code")]),i("div",{staticClass:"q-pl-lg q-pr-lg q-mt-xs"},[i("el-input",{class:{"input-error":t.$v.input_product_reference_code.$error},attrs:{size:"large",placeholder:""},model:{value:t.$v.input_product_reference_code.$model,callback:function(e){t.$set(t.$v.input_product_reference_code,"$model",e)},expression:"$v.input_product_reference_code.$model"}}),t.$v.input_product_reference_code.$error?i("div",{staticClass:"error-content"},[t._v("Product reference code is required")]):t._e()],1)]),i("div",{staticClass:"sub-text-1 q-pl-lg q-pr-lg q-pt-lg q-pb-lg"},[i("q-btn",{attrs:{color:"primary",label:"Save & continue",size:"lg","no-caps":""},on:{click:function(e){return t.gotoBasicStep2()}}})],1)])]):i("q-card-section",[i("div",{staticClass:"flex justify-between"},[i("div",{staticClass:"w-65-per w-100-per-mobile"},[i("div",{staticClass:"text-main q-pa-lg"},[t._v("Step 1 of 5: Basics")]),i("div",{staticClass:"text-sub q-pl-lg q-pr-lg q-pb-lg"},[t._v("\n                First, select the language you will use to input your product details.\n                Then create a title and select your product category. You can also add photos in this section.\n              ")]),i("div",{staticClass:"q-pa-lg view-on-desk-top"},[i("q-btn",{attrs:{color:"primary",label:"Next",size:"lg","no-caps":""},on:{click:function(e){return t.gotoStep1()}}})],1)]),i("div",{staticClass:"w-30-per w-100-per-mobile text-center"},[i("img",{staticClass:"img-1",attrs:{src:"statics/images/basics.png"}})])]),i("div",{staticClass:"q-pa-lg view-on-mobile w-100-per-mobile q-mt-lg"},[i("q-btn",{staticClass:"w-100-per-mobile",attrs:{color:"primary",label:"Next",size:"lg","no-caps":""},on:{click:function(e){return t.gotoStep1()}}})],1)])],1)],1)])])},r=[],s=(i("8e6e"),i("8a81"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("c5f6"),i("c47a")),a=i.n(s),n=i("2f62"),c=i("b5ae");function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(i,!0).forEach((function(e){a()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var p={name:"basic-1-page",computed:d({},Object(n["b"])({current_user_logged_info:"login/getUserLoggedInfo",current_branch_id:"login/getCurrentBranchId"})),props:{props_id_product:{type:Number,default:-1}},watch:{props_id_product:function(t){var e=this;-1!=this.props_id_product&&e.props_id_product&&(this.is_edit_product=!0,this.$emit("getProductId",this.props_id_product),this.getInfoCurrentProduct(this.props_id_product))}},filters:{},data:function(){return{value_transport:"",value_theme:"",value_language:"english",options_language:[{label:"Viet Nam",value:"vietnam"},{label:"English",value:"english"},{label:"China",value:"china"}],current_step:"basic_1",step_1_reference_code_choose:!1,progress:0,basic_done_step_0:!1,input_product_title:"",input_product_reference_code:"",info_current_product:{},is_edit_product:!1,product_id:-1}},validations:{input_product_title:{required:c["required"]},input_product_reference_code:{required:c["required"]}},methods:{gotoStep1:function(){this.basic_done_step_0=!0},checkValidate:function(){return this.$v.input_product_title.$touch(),this.$v.input_product_reference_code.$touch(),!this.$v.input_product_reference_code.$error&&!this.$v.input_product_title.$error},gotoBasicStep2:function(){if(this.checkValidate()){var t=this;if(this.is_edit_product){e={productId:parseInt(t.product_id),inputLanguage:t.value_language,title:t.input_product_title,referenceCode:t.input_product_reference_code},i=localStorage.getItem("user_token_fisheye_client");this.$axios.put("/api/Products/UpdateBasicInfo",JSON.stringify(e),{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(e){t.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Edit product Successfully"}),-1!=t.props_id_product&&t.props_id_product?t.$emit("done"):t.$router.push("/products/create/basic/productType/"+t.product_id)})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}else{var e={branchId:t.current_branch_id,inputLanguage:t.value_language,title:t.input_product_title,referenceCode:t.input_product_reference_code},i=localStorage.getItem("user_token_fisheye_client");this.$axios.post("/api/Products/Create",JSON.stringify(e),{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(e){t.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Create product Successfully"});var i=e.data;t.$router.push("/products/create/basic/productType/"+i)})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}}},openSectionReferenceCode:function(){this.step_1_reference_code_choose=!0},initInfoEdit:function(){this.basic_done_step_0=!0,this.value_language=this.info_current_product.inputLanguage,this.input_product_title=this.info_current_product.title,this.input_product_reference_code=this.info_current_product.referenceCode,""!=this.input_product_reference_code&&(this.step_1_reference_code_choose=!0)},getInfoCurrentProduct:function(t){var e=this,i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/Products/GetProductDetail/"+t,{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(t){e.info_current_product=t.data,e.initInfoEdit()})).catch((function(t){t.response.data?e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:t.response.data}):e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}},components:{},mounted:function(){var t=this,e=this.$route.query.product_id;e?(this.product_id=e,this.is_edit_product=!0,this.$emit("getProductId",e),this.getInfoCurrentProduct(e)):this.is_edit_product=!1,-1!=this.props_id_product&&t.props_id_product&&(this.product_id=this.props_id_product,this.is_edit_product=!0,this.$emit("getProductId",this.props_id_product),this.getInfoCurrentProduct(this.props_id_product))}},u=p,_=(i("9916"),i("2877")),g=i("fe09"),m=Object(_["a"])(u,o,r,!1,null,"4565a01e",null);e["default"]=m.exports;m.options.components=Object.assign({QPage:g["y"],QCard:g["e"],QCardSection:g["g"],QBtn:g["c"]},m.options.components||{})},"61ad":function(t,e,i){"use strict";var o=i("78a6"),r=i.n(o);r.a},"644b":function(t,e,i){"use strict";var o=i("ddf9"),r=i.n(o);r.a},"69f3":function(t,e,i){},"6ea8":function(t,e,i){"use strict";var o=i("a056"),r=i.n(o);r.a},7128:function(t,e,i){"use strict";var o=i("a732"),r=i.n(o);r.a},"73af":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",[i("q-card",{staticClass:"detail-product-wrapper"},[i("q-card-section",[i("div",{staticClass:"q-pa-md"},[i("div",{staticClass:"flex justify-between q-mb-sm items-center q-mb-lg"},[i("div",{on:{click:function(e){return t.routerToListProduct()}}},[i("q-icon",{staticStyle:{color:"#167aa5"},attrs:{name:"keyboard_arrow_left",size:"sm"}}),i("span",{staticClass:"sub-text-3-custom"},[t._v("Back to product list")])],1)]),i("div",{staticClass:"name-product q-mb-md"},[t._v(t._s(t.info_product_detail.title))]),i("div",{staticClass:"flex items-center q-mb-lg"},[i("div",{staticClass:"q-mr-md w-100-per-mobile"},[i("el-select",{staticClass:"custom-class-1",attrs:{size:"small",placeholder:"Select"},on:{change:function(e){return t.updateStatus()}},model:{value:t.info_product_detail.status,callback:function(e){t.$set(t.info_product_detail,"status",e)},expression:"info_product_detail.status"}},t._l(t.options_status,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[i("div",{staticClass:"flex items-center"},[0==e.value?i("div",{staticClass:"q-mr-md circle-draff"}):t._e(),1==e.value?i("div",{staticClass:"q-mr-md circle-active"}):t._e(),2==e.value?i("div",{staticClass:"q-mr-md circle-inactive"}):t._e(),3==e.value?i("div",{staticClass:"q-mr-md circle-inactive"}):t._e(),4==e.value?i("div",{staticClass:"q-mr-md circle-inactive"}):t._e(),i("div",{staticStyle:{float:"left"}},[t._v(t._s(e.label))])])])})),1)],1),i("div",{staticClass:"text-product-code w-100-per-mobile q-mt-sm"},[t._v("Product code: "+t._s(t.info_product_detail.referenceCode))])]),i("div",{staticClass:"info-detail-wrapper"},[i("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"Product content",name:"product_content"}},[i("div",{staticClass:"product-content-wrapper q-mt-md"},[i("div",{staticClass:"photo-session q-mb-lg"},[i("div",{staticClass:"flex items-center justify-between q-mb-md"},[i("div",{staticClass:"session-tab-name"},[t._v("Photos")]),i("div",{staticClass:"view-on-desk-top"},[i("q-btn",{attrs:{label:"Edit",size:"md",color:"primary",icon:"edit",outline:""},on:{click:function(e){return t.triggerOpenDialogEdit(1)}}})],1),i("div",{staticClass:"view-on-mobile"},[i("q-btn",{attrs:{size:"md",color:"primary",icon:"edit",flat:""},on:{click:function(e){return t.triggerOpenDialogEdit(1)}}})],1)]),i("div",{staticClass:"photo-content flex items-center"},t._l(t.info_product_detail.photos,(function(e,o){return i("div",{key:o,staticClass:"item-image-wrapper q-mr-md"},[i("img",{staticClass:"item-image",attrs:{src:t.backend_url+e}})])})),0)]),i("q-separator"),i("div",{staticClass:"product-setup-session q-mb-lg q-mt-lg"},[i("div",{staticClass:"flex items-center justify-between q-mb-md"},[i("div",{staticClass:"session-tab-name"},[t._v("Product Setup")]),i("div",{staticClass:"view-on-desk-top"},[i("q-btn",{attrs:{label:"Edit",size:"md",color:"primary",icon:"edit",outline:""},on:{click:function(e){return t.triggerOpenDialogEdit(2)}}})],1),i("div",{staticClass:"view-on-mobile"},[i("q-btn",{attrs:{size:"md",color:"primary",icon:"edit",flat:""},on:{click:function(e){return t.triggerOpenDialogEdit(2)}}})],1)]),i("div",{staticClass:"content-session"},[i("div",{staticClass:"text-title q-mb-md"},[i("strong",[t._v("Input Language:")]),t._v("\n                      "+t._s(t.info_product_detail.inputLanguage)+"\n                    ")]),i("div",{staticClass:"text-title q-mb-md"},[i("strong",[t._v("Product Title:")]),t._v("\n                      "+t._s(t.info_product_detail.title)+"\n                    ")]),i("div",{staticClass:"text-title"},[i("strong",[t._v("Product reference code:")]),t._v("\n                      "+t._s(t.info_product_detail.referenceCode)+"\n                    ")])])]),i("q-separator"),i("div",{staticClass:"product-setup-session q-mb-lg q-mt-lg"},[i("div",{staticClass:"flex items-center justify-between q-mb-md"},[i("div",{staticClass:"session-tab-name"},[t._v("Categories & themes")]),i("div",{staticClass:"view-on-desk-top"},[i("q-btn",{attrs:{label:"Edit",size:"md",color:"primary",icon:"edit",outline:""},on:{click:function(e){return t.triggerOpenDialogEdit(3)}}})],1),i("div",{staticClass:"view-on-mobile"},[i("q-btn",{attrs:{size:"md",color:"primary",icon:"edit",flat:""},on:{click:function(e){return t.triggerOpenDialogEdit(3)}}})],1)]),i("div",{staticClass:"content-session"},[i("div",{staticClass:"text-title q-mb-md"},[i("strong",[t._v("Product types:")]),t._v("\n                      Tour\n                    ")]),t.info_product_detail.transportationModes?i("div",{staticClass:"text-title q-mb-md"},[i("strong",[t._v("Transport modes:")]),t._v("\n                      "+t._s(t.info_product_detail.transportationModes.join(", "))+"\n                    ")]):t._e(),t.info_product_detail.themeName?i("div",{staticClass:"text-title q-mb-md"},[i("strong",[t._v("Themes:")]),t._v("\n                      "+t._s(t.info_product_detail.themeName.join(", "))+"\n                    ")]):t._e()])]),i("q-separator"),i("div",{staticClass:"product-setup-session q-mb-lg q-mt-lg"},[i("div",{staticClass:"flex items-center justify-between q-mb-md"},[i("div",{staticClass:"session-tab-name"},[t._v("Tour details")]),i("div",{staticClass:"view-on-desk-top"},[i("q-btn",{attrs:{label:"Edit",size:"md",color:"primary",icon:"edit",outline:""},on:{click:function(e){return t.triggerOpenDialogEdit(5)}}})],1),i("div",{staticClass:"view-on-mobile"},[i("q-btn",{attrs:{size:"md",color:"primary",icon:"edit",flat:""},on:{click:function(e){return t.triggerOpenDialogEdit(5)}}})],1)]),i("div",{staticClass:"content-session"},[i("div",{staticClass:"text-title q-mb-md"},[i("strong",[t._v("Total Duration:")]),t._v("\n                      "+t._s(t.info_product_detail.totalDurationHours)+" hours "+t._s(t.info_product_detail.totalDurationMinutes)+" minutes\n                    ")]),i("div",{staticClass:"list-duration"},t._l(t.info_product_detail.attractions,(function(e,o){return i("div",{key:o,staticClass:"item-duration"},[t._v(t._s(o+1)+". "+t._s(e.name)+", "+t._s(e.minutesToStop)+" minutes")])})),0)])]),i("q-separator"),i("div",{staticClass:"product-setup-session q-mb-lg q-mt-lg"},[i("div",{staticClass:"flex items-center justify-between q-mb-md"},[i("div",{staticClass:"session-tab-name"},[t._v("What makes this tour unique?")]),i("div",{staticClass:"view-on-desk-top"},[i("q-btn",{attrs:{label:"Edit",size:"md",color:"primary",icon:"edit",outline:""},on:{click:function(e){return t.triggerOpenDialogEdit(6)}}})],1),i("div",{staticClass:"view-on-mobile"},[i("q-btn",{attrs:{size:"md",color:"primary",icon:"edit",flat:""},on:{click:function(e){return t.triggerOpenDialogEdit(6)}}})],1)]),i("div",{staticClass:"content-session"},[i("div",{staticClass:"list-duration q-mb-md"},[i("div",[t._v(t._s(t.info_product_detail.uniqueDescription))])]),i("div",{staticClass:"text-title q-mb-md"},[i("strong",[t._v("Group type:")]),t.info_product_detail.isPrivateTour?i("span",[t._v("Private")]):i("span",[t._v("Not private (shared)")])]),i("div",{staticClass:"text-title q-mb-md"},[i("strong",[t._v("Max travelers per product:")]),t._v("\n                      "+t._s(t.info_product_detail.maximumTravelers)+"\n                    ")])])]),i("q-separator"),i("div",{staticClass:"product-setup-session q-mb-lg q-mt-lg"},[i("div",{staticClass:"flex items-center justify-between q-mb-md"},[i("div",{staticClass:"session-tab-name"},[t._v("Inclusions & exclusions")]),i("div",{staticClass:"view-on-desk-top"},[i("q-btn",{attrs:{label:"Edit",size:"md",color:"primary",icon:"edit",outline:""},on:{click:function(e){return t.triggerOpenDialogEdit(7)}}})],1),i("div",{staticClass:"view-on-mobile"},[i("q-btn",{attrs:{size:"md",color:"primary",icon:"edit",flat:""},on:{click:function(e){return t.triggerOpenDialogEdit(7)}}})],1)]),i("div",{staticClass:"content-session"},[i("div",{staticClass:"text-title q-mb-md"},[i("strong",[t._v("What's included")])]),i("div",{staticClass:"content-include"},t._l(t.info_product_detail.inclusionList,(function(e,o){return i("div",{key:o,staticClass:"item-include flex items-center q-mb-sm"},[i("div",{staticClass:"q-mr-md"},[i("q-icon",{attrs:{name:"far fa-check-circle",size:"sm",color:"primary"}})],1),i("div",[t._v(t._s(e))])])})),0),i("div",{staticClass:"text-title q-mb-md q-mt-md"},[i("strong",[t._v("What's exclude")])]),i("div",{staticClass:"content-include"},t._l(t.info_product_detail.exclusionList,(function(e,o){return i("div",{key:o,staticClass:"item-include flex items-center q-mb-sm"},[i("div",{staticClass:"q-mr-md"},[i("q-icon",{staticStyle:{color:"grey"},attrs:{name:"far fa-times-circle",size:"sm"}})],1),i("div",[t._v(t._s(e))])])})),0)])]),i("q-separator"),i("div",{staticClass:"product-setup-session q-mb-lg q-mt-lg"},[i("div",{staticClass:"flex items-center justify-between q-mb-md"},[i("div",{staticClass:"session-tab-name"},[t._v("Information travelers need from you")]),i("div",{staticClass:"view-on-desk-top"},[i("q-btn",{attrs:{label:"Edit",size:"md",color:"primary",icon:"edit",outline:""},on:{click:function(e){return t.triggerOpenDialogEdit(8)}}})],1),i("div",{staticClass:"view-on-mobile"},[i("q-btn",{attrs:{size:"md",color:"primary",icon:"edit",flat:""},on:{click:function(e){return t.triggerOpenDialogEdit(8)}}})],1)]),i("div",{staticClass:"content-session"},[i("div",{staticClass:"list-info"},t._l(t.info_product_detail.travelerInformation,(function(e,o){return i("div",{key:o,staticClass:"item-info q-mb-sm"},[t._v("- "+t._s(e))])})),0)])])],1)]),i("el-tab-pane",{attrs:{label:"Schedules & prices",name:"schedule_price"}},[i("div",{staticClass:"schedule_price_content q-mt-md"},[i("div",{staticClass:"list-option-price-wrapper"},t._l(t.list_price_option,(function(e,o){return i("div",{key:o,staticClass:"item-option-price-wrapper q-pa-md q-mt-lg"},[i("div",{staticClass:"title-wrapper"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-10"},[i("div",{staticClass:"main-title"},[t._v(t._s(e.name))]),i("div",{staticClass:"des-title q-mt-xs"},[t._v(t._s(e.description))])]),i("div",{staticClass:"col-2 text-right"},[i("q-btn",{attrs:{icon:"edit",color:"primary",size:"md","no-caps":"",outline:""},on:{click:function(i){return t.triggerOpenModalEditOptionPrice(e)}}})],1)])]),i("div",{staticClass:"list-pricing q-mt-lg"},[t._l(e.prices,(function(e,o){return i("div",{key:o,staticClass:"item-pricing q-pa-md q-mt-md"},[i("div",{staticClass:"time-price-wrapper"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-1"},[i("q-icon",{attrs:{name:"date_range",color:"primary",size:"sm"}})],1),i("div",{staticClass:"col-10 range-date-wrapper"},[t._v(t._s(t._f("getDateStartEnd")(e.startTime))+" - "+t._s(t._f("getDateStartEnd")(e.endTime)))]),i("div",{staticClass:"col-1 text-right"},[i("q-btn",{attrs:{icon:"edit",color:"primary",flat:"",size:"md",dense:""},on:{click:function(i){return t.triggerOpenModalEditPrice(e)}}})],1)]),i("q-separator",{staticClass:"q-mt-md q-mb-md"}),i("div",{staticClass:"row"},[i("div",{staticClass:"col-1"}),i("div",{staticClass:"col-10 day-week-wrapper"},[t._v(t._s(e.daysApply.join(", ")))]),i("div",{staticClass:"col-1 text-right"})]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-1"}),i("div",{staticClass:"col-11 time-apply-wrapper"},[t._v(t._s(e.timeApply.join(", ")))])]),i("div",{staticClass:"info-list-pricing-wrapper"},t._l(e.pricings,(function(e,o){return i("div",{key:o,staticClass:"row"},[e.isActive?i("div",{staticClass:"col-1"}):t._e(),e.isActive?i("div",{staticClass:"col-11"},[t._v("\n                                "+t._s(e.name)+" : "+t._s(t.getStringDetailPrice(e.tierPricings))+"\n                              ")]):t._e()])})),0)],1)])})),i("q-separator",{staticClass:"q-mt-md q-mb-md"}),i("div",{staticStyle:{"font-size":"12px",color:"#8a8585"}},[t._v("Note: prices above are suggested retail prices")])],2)])})),0),i("div",{staticClass:"add-other-option-wrapper q-pt-lg"},[i("div",{staticClass:"flex q-pa-lg items-center",staticStyle:{border:"1px solid #cecece"}},[i("div",{staticClass:"button-part text-center",staticStyle:{width:"100%"}},[i("q-btn",{attrs:{color:"primary",icon:"add",outline:"",label:"Management",size:"md","no-caps":""},on:{click:function(e){return t.triggerOpenDialogEdit(10)}}})],1)])])])]),i("el-tab-pane",{attrs:{label:"Booking details",name:"booking_detail"}},[i("div",{staticClass:"product-content-wrapper"},[i("div",{staticClass:"product-setup-session q-mb-lg q-mt-lg"},[i("div",{staticClass:"flex items-center justify-between q-mb-md"},[i("div",{staticClass:"session-tab-name"},[t._v("Pricing Type")]),i("div",{staticClass:"view-on-desk-top"},[i("q-btn",{attrs:{label:"Edit",size:"md",color:"primary",icon:"edit",outline:""},on:{click:function(e){return t.triggerOpenDialogEdit(9)}}})],1),i("div",{staticClass:"view-on-mobile"},[i("q-btn",{attrs:{size:"md",color:"primary",icon:"edit",flat:""},on:{click:function(e){return t.triggerOpenDialogEdit(9)}}})],1)]),t.info_product_detail.ageGroup?i("div",{staticClass:"content-session"},[t._l(t.info_product_detail.ageGroup.ageTiers,(function(e,o){return i("div",{key:o,staticClass:"text-title q-mb-sm"},[e.isActive?i("div",[i("strong",[t._v(t._s(e.name)+" age:")]),t._v("\n                        "+t._s(e.minAge)+" - "+t._s(e.maxAge)+"\n                      ")]):t._e()])})),i("div",{staticClass:"text-title q-mb-sm"},[i("strong",[t._v("Max travelers per booking:")]),t._v("\n                      "+t._s(t.info_product_detail.ageGroup.maximumTravelers)+"\n                    ")])],2):t._e()]),i("q-separator")],1)]),i("el-tab-pane",{attrs:{label:"Manage",name:"remove"}},[i("div",{staticClass:"q-mt-lg flex items-center justify-center"},[i("q-btn",{attrs:{color:"negative",size:"md",label:"Delete product",icon:"delete"},on:{click:function(e){return t.deleteProduct()}}})],1)])],1)],1)])])],1),i("header-mobile",{attrs:{name_header_mobile:"View Detail Products"}}),i("q-dialog",{attrs:{persistent:"",maximized:!0,"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:t.triggerDialogEditImage,callback:function(e){t.triggerDialogEditImage=e},expression:"triggerDialogEditImage"}},[i("q-card",{staticStyle:{"background-color":"#ececec"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-8 offset-md- bg-white step-step-1-wrapper",staticStyle:{margin:"auto"}},[i("div",{staticStyle:{"text-align":"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",size:"md",color:"grey",flat:""}})],1),1==t.step_info?i("div",[i("edit-image",{attrs:{props_id_product:t.id_product},on:{done:function(e){return t.editDone()}}})],1):t._e(),2==t.step_info?i("div",[i("edit-product-setup",{attrs:{props_id_product:t.id_product},on:{done:function(e){return t.editDone()}}})],1):t._e(),3==t.step_info?i("div",[i("edit-category",{attrs:{props_id_product:t.id_product},on:{done:function(e){return t.editDone()}}})],1):t._e(),4==t.step_info?i("div",[i("edit-theme",{attrs:{props_id_product:t.id_product},on:{done:function(e){return t.editDone()}}})],1):t._e(),5==t.step_info?i("div",[i("edit-tour-detail",{attrs:{props_id_product:t.id_product},on:{done:function(e){return t.editDone()}}})],1):t._e(),6==t.step_info?i("div",[i("edit-unique",{attrs:{props_id_product:t.id_product},on:{done:function(e){return t.editDone()}}})],1):t._e(),7==t.step_info?i("div",[i("edit-include-exclude",{attrs:{props_id_product:t.id_product},on:{done:function(e){return t.editDone()}}})],1):t._e(),8==t.step_info?i("div",[i("edit-need-from-you",{attrs:{props_id_product:t.id_product},on:{done:function(e){return t.editDone()}}})],1):t._e(),9==t.step_info?i("div",[i("edit-pricing-type",{attrs:{props_id_product:t.id_product},on:{done:function(e){return t.editDone()}}})],1):t._e(),10==t.step_info?i("div",[i("add-option-price",{attrs:{props_id_product:t.id_product},on:{done:function(e){return t.editDone()}}})],1):t._e()])])])],1),i("update-price-option",{attrs:{trigger_edit_price_option:t.triggerOpenDialogEditPriceOption,info_price_option:t.info_option_price},on:{"update:trigger_edit_price_option":[function(e){t.triggerOpenDialogEditPriceOption=e},function(e){t.triggerOpenDialogEditPriceOption=e}],reloadInfo:function(e){return t.getInfoProductDetail()}}}),t.info_product_detail.ageGroup?i("div",[i("update-price",{attrs:{trigger_edit_price:t.triggerOpenDialogEditPrice,item_price_edit:t.item_price_edit,max_traveller:t.info_product_detail.ageGroup.maximumTravelers},on:{"update:trigger_edit_price":function(e){t.triggerOpenDialogEditPrice=e},reloadInfo:function(e){return t.getInfoProductDetail()}}})],1):t._e()],1)},r=[],s=(i("8e6e"),i("8a81"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("7f7f"),i("c47a")),a=i.n(s),n=i("7dae"),c=i("9c58"),l=i("c80d"),d=i("4e82"),p=i("d79c"),u=i("db79"),_=i("8ed9"),g=i("77c1"),m=i("01a4"),h=i("cc8f"),v=i("887e"),f=i("d690"),b=i("a018"),q=i("cb1b"),y=i("e71f"),C=i("2f62");function x(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function $(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?x(i,!0).forEach((function(e){a()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):x(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var w={name:"products-page",computed:$({},Object(C["b"])({current_branch_id:"login/getCurrentBranchId",regional_branch:"login/getInfoRegionalBranch"})),filters:{getDateStartEnd:function(t){if(t&&""!=t){var e=new Date(t);return e.toLocaleDateString()}return"Now"}},watch:{regional_branch:function(t){t&&t.mainCurrency&&(this.money_option=Object(y["a"])(parseInt(t.mainCurrency)),this.$forceUpdate(),1==parseInt(t.mainCurrency)&&(this.option_filter={symbol:"",thousandsSeparator:",",fractionCount:0,fractionSeparator:".",display_symbol:"VND"}),2==parseInt(t.mainCurrency)&&(this.option_filter={symbol:"",thousandsSeparator:",",fractionCount:2,fractionSeparator:".",display_symbol:"$"}),this.$forceUpdate())}},data:function(){return{option_filter:{symbol:"",thousandsSeparator:",",fractionCount:0,fractionSeparator:".",display_symbol:"VND"},id_product:null,backend_url:c["a"],options_theme:[{label:"Art, Design, & Fashion",value:"1"},{label:"Entertainment",value:"2"},{label:"Food & Drink",value:"3"},{label:"Health & Fitness",value:"4"},{label:"History & Culture",value:"5"},{label:"Holidays",value:"6"}],value:"active",options_status:[{value:0,label:"Draft"},{value:1,label:"Active"},{value:2,label:"InActive"},{value:3,label:"Pending"},{value:4,label:"NotOperating"}],activeName:"product_content",info_product_detail:{},list_price_option:[],triggerDialogEditImage:!1,step_info:-1,triggerOpenDialogEditPriceOption:!1,triggerOpenDialogEditPrice:!1,info_option_price:{title:"",description:"",date_begin:"",date_end:""},item_price_edit:{id:-1,startTime:"",endTime:"",hasEndDate:"",pricings:"",maxSpot:"",daysApply:"",timeApply:"",priceOptionId:-1}}},methods:{getStringDetailPrice:function(t){var e=this;if(t.length>0){var i=[];return t.forEach((function(t){var o="";o+=t.min+"-"+t.max+", "+e.$options.filters.currency(t.value,e.option_filter),i.push(o)})),i.join(" | ")}return t[0].value},addPriceToPriceOption:function(t){},triggerOpenModalEditOptionPrice:function(t){var e=this;e.triggerOpenDialogEditPriceOption=!0,e.info_option_price=t,e.info_option_price.title=t.name},triggerOpenModalEditPrice:function(t){var e=this;e.triggerOpenDialogEditPrice=!0,e.item_price_edit.id=t.id,e.item_price_edit.startTime=t.startTime,e.item_price_edit.endTime=t.endTime,e.item_price_edit.hasEndDate=t.hasEndDate,e.$set(e.item_price_edit,"pricings",t.pricings),e.item_price_edit.maxSpot=t.maxSpot,e.item_price_edit.daysApply=t.daysApply,e.item_price_edit.timeApply=t.timeApply,e.item_price_edit.priceOptionId=t.priceOptionId},editDone:function(){3==this.step_info?this.step_info=4:(this.triggerDialogEditImage=!1,this.getInfoProductDetail())},triggerOpenDialogEdit:function(t){this.step_info=t,this.triggerDialogEditImage=!0},deleteProduct:function(){var t=this,e=localStorage.getItem("user_token_fisheye_client");this.$swal({title:"Are you sure?",text:"You will not be able to recover this data!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then((function(i){i.value&&t.$axios.delete("/api/Products/Delete/"+t.info_product_detail.id,{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}).then((function(e){t.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Delete Successfully"}),t.$router.push("/products")})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}))},routerToListProduct:function(){this.$router.push("/products")},routerToCreateProduct:function(){this.$router.push("/products/create/basic/title")},handleClick:function(t,e){console.log(t,e)},initData:function(){var t=this;t.info_product_detail.priceOptions.length>0&&(t.list_price_option=t.info_product_detail.priceOptions),t.info_product_detail.themeName=[],t.options_theme.forEach((function(e){t.info_product_detail.themes.forEach((function(i){i==e.value&&t.info_product_detail.themeName.push(e.label)}))}))},updateStatus:function(){var t=this,e=localStorage.getItem("user_token_fisheye_client"),i=this.$route.params.product_id,o={productId:parseInt(i),status:t.info_product_detail.status};this.$axios.put("/api/Products/UpdateBasicInfo",JSON.stringify(o),{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}).then((function(e){t.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Update status Successfully"})})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))},getInfoProductDetail:function(){var t=this,e=this.$route.params.product_id;if(e){var i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/Products/GetProductDetail/"+e,{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(e){t.info_product_detail=e.data,t.initData()})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}}},components:{"header-mobile":n["a"],"edit-image":l["default"],"edit-product-setup":d["default"],"edit-category":p["default"],"edit-theme":u["default"],"edit-tour-detail":_["default"],"edit-unique":g["default"],"edit-include-exclude":m["default"],"edit-need-from-you":h["default"],"edit-pricing-type":v["default"],"update-price-option":b["a"],"update-price":q["a"],"add-option-price":f["default"]},mounted:function(){var t=this.$route.params.product_id;t&&(this.$set(this,"id_product",parseInt(t)),this.getInfoProductDetail())}},k=w,I=i("2877"),P=i("fe09"),S=Object(I["a"])(k,o,r,!1,null,"89a5c1ee",null);e["default"]=S.exports;S.options.components=Object.assign({QPage:P["y"],QCard:P["e"],QCardSection:P["g"],QIcon:P["n"],QBtn:P["c"],QSeparator:P["C"],QDialog:P["k"]},S.options.components||{}),S.options.directives=Object.assign({ClosePopup:P["a"]},S.options.directives||{})},"77c1":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"page-create-product-wrapper"},[i("div",{staticClass:"q-pa-lg content-of-each-step"},[i("div",{staticClass:"step-1"},[i("q-card",{staticClass:"card-step-1 w-100-per-mobile"},[i("q-card-section",[i("div",{staticClass:"step-1-content"},[i("div",{staticClass:"text-main q-pt-lg q-pl-lg q-pr-lg"},[t._v("Why should travelers book this tour?")]),i("div",{staticClass:"q-pa-lg sub-text-1"},[t._v("Briefly describe what makes it unique")]),i("div",{staticClass:"q-pl-lg q-pr-lg q-pb-lg"},[i("el-input",{class:{"input-error":t.$v.describe_unique.$error},attrs:{type:"textarea",rows:5,placeholder:"Input describe unique"},model:{value:t.$v.describe_unique.$model,callback:function(e){t.$set(t.$v.describe_unique,"$model",e)},expression:"$v.describe_unique.$model"}}),t.$v.describe_unique.$error?i("div",{staticClass:"error-content"},[t._v("Describe unique is required")]):t._e()],1),i("div",{staticClass:"q-pl-lg q-pr-lg q-pt-lg q-pb-sm sub-text-1"},[t._v("\n              Is this a private tour?\n              "),i("q-icon",{attrs:{name:"far fa-question-circle"}})],1),i("div",{staticClass:"q-pl-lg q-pr-lg q-pb-lg"},[i("q-option-group",{attrs:{options:t.options_radio,type:"radio"},model:{value:t.is_private_tour,callback:function(e){t.is_private_tour=e},expression:"is_private_tour"}})],1),i("div",{staticClass:"q-pl-lg q-pr-lg q-pt-lg q-pb-sm sub-text-1"},[t._v("\n              Enter the maximum number of travelers who can participate\n              "),i("q-icon",{attrs:{name:"far fa-question-circle"}})],1),i("div",{staticClass:"q-pl-lg q-pr-lg q-pb-lg q-pt-sm"},[i("el-input-number",{class:{"input-error":t.$v.num_max_traveler.$error},attrs:{"controls-position":"right",min:1,max:100},model:{value:t.$v.num_max_traveler.$model,callback:function(e){t.$set(t.$v.num_max_traveler,"$model",e)},expression:"$v.num_max_traveler.$model"}}),t.$v.num_max_traveler.$error?i("div",{staticClass:"error-content"},[t._v("Maximum number of travelers is required")]):t._e()],1),i("div",{staticClass:"q-pa-lg"},[i("q-btn",{staticClass:"q-mt-lg w-100-per-mobile",attrs:{color:"primary",label:"Save & continue",size:"lg","no-caps":""},on:{click:function(e){return t.gotoStep5()}}})],1)])])],1)],1)])])},r=[],s=(i("c5f6"),i("b5ae")),a={name:"create-product-page",filters:{},props:{props_id_product:{type:Number,default:-1}},watch:{props_id_product:function(t){-1!=this.props_id_product&&this.props_id_product&&(this.product_id=this.props_id_product,this.$emit("getProductId",this.props_id_product),this.getInfoProductEdit())}},data:function(){return{num_max_traveler:1,describe_unique:"",is_private_tour:!0,options_radio:[{label:"Yes",value:!0,color:"primary"},{label:"No",value:!1,color:"primary"}],current_product_edited:{},product_id:-1}},validations:{describe_unique:{required:s["required"]},num_max_traveler:{required:s["required"]}},methods:{checkValidate:function(){return this.$v.describe_unique.$touch(),this.$v.num_max_traveler.$touch(),!this.$v.describe_unique.$error&&!this.$v.num_max_traveler.$error},gotoStep5:function(){if(this.checkValidate()){var t=this,e=localStorage.getItem("user_token_fisheye_client"),i=this.product_id,o={productId:parseInt(i),uniqueDescription:t.describe_unique,isPrivateTour:t.is_private_tour,maximumTravelers:t.num_max_traveler};6==t.current_product_edited.stepCreation&&(o.stepCreation=7),this.$axios.put("/api/Products/UpdateBasicInfo",JSON.stringify(o),{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}).then((function(e){t.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Update Successfully"}),-1!=t.props_id_product&&t.props_id_product?t.$emit("done"):t.$router.push("/products/create/content/kbyg/"+i)})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}},initDataEdit:function(){this.num_max_traveler=this.current_product_edited.maximumTravelers,this.describe_unique=this.current_product_edited.uniqueDescription,this.is_private_tour=this.current_product_edited.isPrivateTour},getInfoProductEdit:function(){var t=this,e=this.product_id;if(e){var i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/Products/GetProductDetail/"+e,{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(e){t.current_product_edited=e.data,t.initDataEdit()})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}}},components:{},mounted:function(){var t=this.$route.params.product_id;t&&(this.product_id=t,this.$emit("getProductId",t),this.getInfoProductEdit()),-1!=this.props_id_product&&this.props_id_product&&(this.product_id=this.props_id_product,this.$emit("getProductId",this.props_id_product),this.getInfoProductEdit())}},n=a,c=(i("6ea8"),i("2877")),l=i("fe09"),d=Object(c["a"])(n,o,r,!1,null,"5f6156ad",null);e["default"]=d.exports;d.options.components=Object.assign({QPage:l["y"],QCard:l["e"],QCardSection:l["g"],QIcon:l["n"],QOptionGroup:l["x"],QBtn:l["c"]},d.options.components||{})},"78a6":function(t,e,i){},"7dae":function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"w-100 header-mobile-wrapper"},[i("div",{staticClass:"h-100-per"},[i("div",{staticClass:"h-100-per"},[i("div",{staticClass:"text-header flex items-center"},[i("div",{staticClass:"q-pl-md name-product"},[t._v(t._s(t.name_header_mobile))])])])])])},r=[],s={name:"HeaderMobileCreateProduct",props:{name_header_mobile:{type:String,default:""}},data:function(){return{}},methods:{}},a=s,n=i("2877"),c=Object(n["a"])(a,o,r,!1,null,null,null);e["a"]=c.exports},"865d":function(t,e,i){"use strict";var o=i("8f43"),r=i.n(o);r.a},"8ed9":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"page-create-product-wrapper"},[i("div",{staticClass:"q-pa-lg content-of-each-step"},[i("div",{staticClass:"step-1"},[i("q-card",{staticClass:"card-step-1 w-100-per-mobile"},[i("q-card-section",[i("div",{staticClass:"step-1-content"},[i("div",{staticClass:"text-main q-pt-lg q-pl-lg q-pr-lg"},[t._v("Tell us about your tour")]),i("div",{staticClass:"text-sub q-pl-lg q-pr-lg"},[t._v("\n              Be sure to enter all key attractions in your itinerary. This\n              helps travelers find and book your experience.\n            ")]),i("div",{staticClass:"text-sub q-pa-lg q-mt-lg"},[t._v("What's the total duration of your tour from start to finish?")]),i("div",{staticClass:"q-pl-lg q-pr-lg q-pt-xs"},[i("div",{staticClass:"flex"},[i("div",{staticClass:"q-mr-md"},[i("div",[t._v("Hours")]),i("el-input-number",{attrs:{controls:!1,min:0,max:9999},on:{change:t.handleChange},model:{value:t.totalDurationHours,callback:function(e){t.totalDurationHours=e},expression:"totalDurationHours"}})],1),i("div",[i("div",[t._v("Minutes")]),i("el-input-number",{attrs:{controls:!1,min:0,max:9999},on:{change:t.handleChange},model:{value:t.totalDurationMinutes,callback:function(e){t.totalDurationMinutes=e},expression:"totalDurationMinutes"}})],1)])]),i("div",{staticClass:"text-sub q-pt-lg q-pl-lg q-pr-lg q-pb-sm q-mt-lg"},[t._v("Add all the attractions travelers see")]),i("div",{staticClass:"q-pl-lg q-pr-lg"},[i("q-separator")],1),t.list_attraction_product&&t.list_attraction_product.length>0?i("div",{staticClass:"list-attractions-wrapper q-pl-lg q-pr-lg"},t._l(t.list_attraction_product,(function(e,o){return i("div",{key:o,staticClass:"item-attractions",staticStyle:{position:"relative"}},[i("div",{staticClass:"flex q-pb-lg q-pt-lg"},[i("div",{staticStyle:{width:"30px","font-weight":"bold","font-size":"16px"}},[t._v(t._s(o+1)+".")]),i("div",{staticStyle:{width:"70%"}},[i("div",{staticClass:"name-attraction",staticStyle:{"font-weight":"bold","font-size":"16px"}},[t._v(t._s(e.name))]),i("div",{staticClass:"des-attraction"},[t._v(t._s(e.description))]),e.passByWithoutStopping?i("div",[t._v("Pass by without stopping")]):i("div",[t._v("\n                      "+t._s(e.minutesToStop)+" minutes,\n                      "),1==e.admissionFeeType?i("span",[t._v("Admission included")]):t._e(),2==e.admissionFeeType?i("span",[t._v("Admission not included")]):t._e(),3==e.admissionFeeType?i("span",[t._v("Admission is free")]):t._e()])])]),i("div",{staticClass:"button-control-wrapper",staticStyle:{position:"absolute",top:"10px",right:"0"}},[i("q-btn",{attrs:{size:"sm",flat:"",round:"",color:"primary",icon:"edit"}}),i("q-btn",{attrs:{size:"sm",flat:"",round:"",color:"primary",icon:"delete"}})],1),i("q-separator")],1)})),0):t._e(),i("div",{staticClass:"sub-text-3 q-pl-lg q-pr-lg q-mt-lg",on:{click:function(e){return t.openDialogAddAtt()}}},[t._v("+ Add an attraction")]),i("div",{staticClass:"q-pa-lg"},[i("q-btn",{staticClass:"q-mt-lg w-100-per-mobile",attrs:{color:"primary",label:"Save & continue",size:"lg","no-caps":""},on:{click:function(e){return t.gotoStep3()}}})],1)])])],1)],1)]),i("q-dialog",{staticClass:"modal-add-attraction",model:{value:t.triggerOpenDialogAddAttraction,callback:function(e){t.triggerOpenDialogAddAttraction=e},expression:"triggerOpenDialogAddAttraction"}},[i("q-card",{staticClass:"card-dialog-step-2"},[i("q-card-section",{staticClass:"q-pa-lg"},[i("div",{staticClass:"text-h4"},[t._v("Add an attraction")])]),i("q-card-section",{staticClass:"q-pa-lg"},[i("div",{staticClass:"font-16 q-pb-sm"},[t._v("Name of attraction")]),i("div",{staticClass:"search-attraction"},[i("el-input",{class:{"input-error":t.$v.info_attraction.name.$error},attrs:{size:"large",placeholder:"e.g. Ho Chi Minh City","suffix-icon":"el-icon-search"},model:{value:t.$v.info_attraction.name.$model,callback:function(e){t.$set(t.$v.info_attraction.name,"$model",e)},expression:"$v.info_attraction.name.$model"}}),t.$v.info_attraction.name.$error?i("div",{staticClass:"error-content"},[t._v("Name of attraction is required")]):t._e()],1),i("div",{staticClass:"font-16 q-pt-lg q-pb-sm"},[t._v("\n          Describe what travelers will see and do here if they book your\n          experience\n        ")]),i("div",{staticClass:"search-attraction"},[i("el-input",{class:{"input-error":t.$v.info_attraction.description.$error},attrs:{type:"textarea",rows:4,placeholder:"Enter a description about this attraction only. For example:  'Our accredited guide will meet you at the ticket booth and will accompany you up the tower, explaining what you'll see at each level.'"},model:{value:t.$v.info_attraction.description.$model,callback:function(e){t.$set(t.$v.info_attraction.description,"$model",e)},expression:"$v.info_attraction.description.$model"}}),t.$v.info_attraction.description.$error?i("div",{staticClass:"error-content"},[t._v("Description of attraction is required")]):t._e()],1),i("div",{staticClass:"font-16 q-pt-lg q-pb-sm"},[t._v("How much time do travelers typically spend here?")]),i("div",{staticClass:"q-pb-md q-pt-sm"},[i("q-checkbox",{attrs:{dense:"",label:"Pass by without stopping"},model:{value:t.info_attraction.passByWithoutStopping,callback:function(e){t.$set(t.info_attraction,"passByWithoutStopping",e)},expression:"info_attraction.passByWithoutStopping"}})],1),t.info_attraction.passByWithoutStopping?t._e():i("div",{staticClass:"hour-minute-by-pass"},[i("div",{staticClass:"flex"},[i("div",{staticClass:"w-50-per-mobile",staticStyle:{width:"12%","text-align":"right"}},[i("el-input-number",{attrs:{controls:!1,min:0,max:1e4},on:{change:t.handleChange},model:{value:t.info_attraction.minutesToStop,callback:function(e){t.$set(t.info_attraction,"minutesToStop",e)},expression:"info_attraction.minutesToStop"}})],1),i("div",{staticClass:"w-50-per-mobile",staticStyle:{width:"20%"}},[i("el-select",{attrs:{"popper-class":"popper-class-time-type",placeholder:"Select"},model:{value:t.type_time,callback:function(e){t.type_time=e},expression:"type_time"}},t._l(t.options_time,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),i("div",{staticClass:"font-16 q-pt-lg q-pb-sm"},[t._v("Is admission to this place included in the price of your tour?")]),i("div",[i("q-option-group",{attrs:{options:t.options,label:"Notifications",type:"radio"},model:{value:t.info_attraction.admissionFeeType,callback:function(e){t.$set(t.info_attraction,"admissionFeeType",e)},expression:"info_attraction.admissionFeeType"}})],1),i("div")])]),i("q-card-actions",{staticClass:"bg-white text-primary q-pl-lg q-pr-lg q-pb-lg",attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"white","text-color":"primary",label:"Cancel",size:"md"}}),i("q-btn",{attrs:{color:"primary",label:"Done",size:"md"},on:{click:function(e){return t.addAttraction()}}})],1)],1)],1)],1)},r=[],s=(i("7f7f"),i("c5f6"),i("b5ae")),a={name:"create-product-page",filters:{},props:{props_id_product:{type:Number,default:-1}},watch:{props_id_product:function(t){-1!=this.props_id_product&&this.props_id_product&&(this.product_id=this.props_id_product,this.$emit("getProductId",id_prod),this.getInfoProductEdit())}},data:function(){return{options:[{label:"Yes",value:1,color:"primary"},{label:"No",value:2,color:"primary"},{label:"N/A (Admission is free)",value:3,color:"primary"}],list_attraction_product:[],totalDurationHours:0,totalDurationMinutes:0,triggerOpenDialogAddAttraction:!1,info_attraction:{name:"",description:"",passByWithoutStopping:!1,minutesToStop:0,admissionFeeType:0},options_time:[{value:"hours",label:"Hours"}],type_time:"hours",current_product_edited:{},product_id:-1}},validations:{info_attraction:{name:{required:s["required"]},description:{required:s["required"]}}},methods:{checkValidateAttraction:function(){return this.$v.info_attraction.name.$touch(),this.$v.info_attraction.description.$touch(),!this.$v.info_attraction.name.$error&&!this.$v.info_attraction.description.$error},addAttraction:function(){if(this.checkValidateAttraction()){var t=JSON.parse(JSON.stringify(this.info_attraction));this.list_attraction_product.push(t),this.triggerOpenDialogAddAttraction=!1,this.$v.$reset()}},openDialogAddAtt:function(){this.info_attraction={name:"",description:"",passByWithoutStopping:!1,minutesToStop:0,admissionFeeType:0},this.triggerOpenDialogAddAttraction=!0},handleChange:function(t){console.log(t)},updateStep:function(){var t=this,e=localStorage.getItem("user_token_fisheye_client"),i=this.product_id,o={productId:parseInt(i)};4==t.current_product_edited.stepCreation&&(o.stepCreation=5,this.$axios.put("/api/Products/UpdateBasicInfo",JSON.stringify(o),{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}).then((function(t){})).catch((function(t){})))},gotoStep3:function(){if(0==this.list_attraction_product.length)this.$confirm("You do not have attraction for product!. Please add attraction","Error",{showCancelButton:!1,confirmButtonText:"OK",cancelButtonText:"",type:"error"}).then((function(){})).catch((function(){}));else{var t=this,e=localStorage.getItem("user_token_fisheye_client"),i=this.product_id,o={id:parseInt(i),totalDurationHours:t.totalDurationHours,totalDurationMinutes:t.totalDurationMinutes,attractions:t.list_attraction_product};this.$axios.put("/api/Products/UpdateTourDetails",JSON.stringify(o),{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}).then((function(e){t.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Update Successfully"}),t.updateStep(),-1!=t.props_id_product&&t.props_id_product?t.$emit("done"):t.$router.push("/products/create/content/inclusionsExclusions/"+i)})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}},initDataEdit:function(){this.list_attraction_product=this.current_product_edited.attractions,this.totalDurationHours=this.current_product_edited.totalDurationHours,this.totalDurationMinutes=this.current_product_edited.totalDurationMinutes},getInfoProductEdit:function(){var t=this,e=this.product_id;if(e){var i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/Products/GetProductDetail/"+e,{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(e){t.current_product_edited=e.data,t.initDataEdit()})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}}},components:{},mounted:function(){var t=this.$route.params.product_id;t&&(this.product_id=t,this.$emit("getProductId",t),this.getInfoProductEdit()),-1!=this.props_id_product&&this.props_id_product&&(this.product_id=this.props_id_product,this.$emit("getProductId",t),this.getInfoProductEdit())}},n=a,c=(i("61ad"),i("2877")),l=i("fe09"),d=Object(c["a"])(n,o,r,!1,null,"871cb12a",null);e["default"]=d.exports;d.options.components=Object.assign({QPage:l["y"],QCard:l["e"],QCardSection:l["g"],QSeparator:l["C"],QBtn:l["c"],QDialog:l["k"],QCheckbox:l["h"],QOptionGroup:l["x"],QCardActions:l["f"]},d.options.components||{}),d.options.directives=Object.assign({ClosePopup:l["a"]},d.options.directives||{})},"8f43":function(t,e,i){},9916:function(t,e,i){"use strict";var o=i("69f3"),r=i.n(o);r.a},a056:function(t,e,i){},a677:function(t,e,i){"use strict";var o=i("43e1"),r=i.n(o);r.a},a732:function(t,e,i){},c80d:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"page-create-product-wrapper"},[i("div",{staticClass:"q-pa-lg content-of-each-step"},[i("div",{staticClass:"step-1"},[i("q-card",{staticClass:"card-step-1 w-100-per-mobile"},[i("q-card-section",[i("div",{staticClass:"step-1-content"},[i("div",{staticClass:"text-main q-pt-lg q-pl-lg q-pr-lg"},[t._v("Add Photos")]),i("div",{staticClass:"sub-text-2 q-pl-lg q-pr-lg"},[t._v("\n              Use photos that highlight what’s unique about your experience\n              and show travelers having fun.\n            ")]),i("div",{staticClass:"sub-text-2 q-pl-lg q-pr-lg"},[i("strong",[t._v("Adding 1-9 photos can increase your bookings.")])]),i("div",{staticClass:"q-pl-lg q-pr-lg q-pt-lg"},[0==t.list_image_upload.length?i("div",{staticClass:"add-photo-wrapper",on:{click:function(e){t.showUploadImage=!0}}},[i("div",{staticClass:"icon-and-text-add-photo flex justify-between items-center"},[i("div",{staticClass:"w-100 text-center"},[i("div",[i("q-icon",{staticStyle:{"font-size":"4.4em"},attrs:{name:"add",color:"grey"}})],1),i("div",{staticClass:"text-add"},[t._v("Add photos")])])])]):i("div",{staticClass:"image-cover-media-main"},[i("div",{staticClass:"image-cover-wrapper"},[i("img",{attrs:{src:t.backend_url+t.list_image_upload[0]}}),i("div",{staticClass:"note-is-cover"},[t._v("Cover")]),i("div",{staticClass:"delete-wrapper",on:{click:function(e){return t.warningRemoveImage(t.list_image_upload[0])}}},[i("q-icon",{attrs:{name:"delete",color:"white",size:"sm"}})],1)]),i("div",{staticClass:"add-more-image-wrapper flex items-center"},[i("div",{staticClass:"add-photo-wrapper",on:{click:function(e){t.showUploadImage=!0}}},[i("div",{staticClass:"icon-and-text-add-photo-mobile flex justify-between items-center"},[i("div",{staticClass:"w-100 text-center"},[i("div",[i("q-icon",{staticStyle:{"font-size":"4.4em"},attrs:{name:"add",color:"grey"}})],1),i("div",{staticClass:"text-add"},[t._v("Add photos")])])])]),i("div",{staticClass:"list-image-media-wrapper flex"},t._l(t.list_image_upload,(function(e,o){return i("div",{key:o,staticClass:"item-image-wrapper"},[0!=o?i("div",{staticClass:"item-image"},[i("img",{attrs:{src:t.backend_url+e}}),i("div",{staticClass:"delete-wrapper",on:{click:function(i){return t.warningRemoveImage(e)}}},[i("q-icon",{attrs:{name:"delete",color:"white",size:"sm"}})],1),i("div",{staticClass:"set-to-cover",on:{click:function(i){return t.setCover(e)}}},[t._v("Set Cover")])]):t._e()])})),0)])]),i("my-upload",{ref:"upload_image_product",attrs:{field:"file",noCircle:!0,"lang-type":"en",width:800,height:600,url:t.backend_url+"api/Media/AddPhoto",params:t.params,headers:t.headers},on:{"crop-success":t.cropSuccess,"crop-upload-success":t.cropUploadSuccessUploadLogo,"crop-upload-fail":t.cropUploadFail},model:{value:t.showUploadImage,callback:function(e){t.showUploadImage=e},expression:"showUploadImage"}}),t.is_error?i("div",{staticClass:"q-mt-lg error-content",staticStyle:{"font-size":"20px"}},[t._v("Photo must be from 1 to 9 pictures\n              ")]):t._e()],1),i("div",{staticClass:"q-pa-lg"},[i("q-btn",{staticClass:"q-mt-lg w-100-per-mobile",attrs:{color:"primary",label:"Save & continue",size:"lg","no-caps":""},on:{click:function(e){return t.gotoProductContent()}}})],1)])])],1)],1)])])},r=[],s=(i("c5f6"),i("0b4d")),a=i("9c58"),n={name:"create-product-page",props:{props_id_product:{type:Number,default:-1}},watch:{props_id_product:function(t){-1!=this.props_id_product&&self.props_id_product&&(this.$emit("getProductId",this.props_id_product),this.getInfoProductEdit())}},filters:{},computed:{is_error:function(){return!(!(this.list_image_upload.length<1||this.list_image_upload.length>10)||!this.is_touch)}},data:function(){return{is_touch:!1,backend_url:a["a"],showUploadImage:!1,langvn:{hint:"Click hoặc kéo thả hình ảnh vào đây để tải lên",loading:"Đang tải…",noSupported:"Trình duyệt hiện tại không hổ trợ, hãy sử dụng IE10+ hoặc trình duyệt khác.",success:"Tải lên thành công",fail:"Tải lên thất bại",preview:"Xem trước",btn:{off:"Hủy",close:"Đóng",back:"Trở lại",save:"Lưu"},error:{onlyImg:"Chỉ đăng hình",outOfSize:"Hình ảnh vượt quá giới hạn kích thước: ",lowestPx:"Kích thước hình ảnh quá nhỏ, kích thước ít nhất: "}},params:{token:"123456798",name:"avatar"},headers:{},list_image_upload:[],imgDataUrl:"",current_product_edited:{}}},methods:{warningRemoveImage:function(t){var e=this;this.$confirm("Will remove this image?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){e.removeImage(t)})).catch((function(){}))},removeImage:function(t){var e=this.list_image_upload.indexOf(t);-1!=e&&this.list_image_upload.splice(e,1),this.$forceUpdate()},checkValidate:function(){var t=this;return t.is_touch=!0,this.list_image_upload.length>=1&&this.list_image_upload.length<=10},gotoProductContent:function(){if(this.checkValidate()){var t=this,e=localStorage.getItem("user_token_fisheye_client"),i=this.$route.params.product_id,o={productId:parseInt(i),photos:t.list_image_upload};2==t.current_product_edited.stepCreation&&(o.stepCreation=3),this.$axios.put("/api/Products/UpdateBasicInfo",JSON.stringify(o),{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}).then((function(e){t.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Update Successfully"}),-1!=t.props_id_product&&t.props_id_product?t.$emit("done"):t.$router.push("/products/create/content/departureAndReturn/"+i)})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}},cropUploadFail:function(t,e){console.log("-------- upload fail --------"),console.log(t),console.log("field: "+e)},cropSuccess:function(t,e){console.log("-------- crop success --------"),this.imgDataUrl=t},cropUploadSuccessUploadLogo:function(t,e){this.list_image_upload.push(t.url),this.showUploadImage=!1,this.is_touch=!1,this.$refs.upload_image_product.step=1,console.log("-------- upload success --------"),console.log(t),console.log("field: "+e)},setCover:function(t){var e=this.list_image_upload.indexOf(t);-1!=e&&(this.list_image_upload.splice(e,1),this.list_image_upload.unshift(t)),this.$forceUpdate()},initDataEdit:function(){this.current_product_edited.photos?this.list_image_upload=this.current_product_edited.photos:this.list_image_upload=[]},getInfoProductEdit:function(){var t=this,e=this.$route.params.product_id;if(e){var i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/Products/GetProductDetail/"+e,{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(e){t.current_product_edited=e.data,t.initDataEdit()})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}}},components:{"my-upload":s["a"]},mounted:function(){var t=localStorage.getItem("user_token_fisheye_client");this.headers={Authorization:"Bearer "+t};var e=this.$route.params.product_id;e&&(this.$emit("getProductId",e),this.getInfoProductEdit()),-1!=this.props_id_product&&self.props_id_product&&(this.$emit("getProductId",this.props_id_product),this.getInfoProductEdit())}},c=n,l=i("2877"),d=i("fe09"),p=Object(l["a"])(c,o,r,!1,null,"387ebaaa",null);e["default"]=p.exports;p.options.components=Object.assign({QPage:d["y"],QCard:d["e"],QCardSection:d["g"],QIcon:d["n"],QBtn:d["c"]},p.options.components||{})},cc8f:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"page-create-product-wrapper"},[i("div",{staticClass:"q-pa-lg content-of-each-step"},[i("div",{staticClass:"step-1"},[i("q-card",{staticClass:"card-step-1 w-100-per-mobile"},[i("q-card-section",[i("div",{staticClass:"step-1-content"},[i("div",{staticClass:"text-main q-pt-lg q-pl-lg q-pr-lg"},[t._v("Information travelers need from you")]),i("div",{staticClass:"q-pt-lg q-pl-lg q-pr-lg q-pb-xs sub-text-1"},[t._v("Description")]),i("div",{staticClass:"q-pb-lg q-pl-lg q-pr-lg q-pt-xs"},t._l(t.list_option_description,(function(e,o){return i("div",{key:o,staticClass:"q-mt-sm"},[i("el-input",{attrs:{size:"large",placeholder:"Accessibility wheelchair, heath.."},model:{value:e.name,callback:function(i){t.$set(e,"name",i)},expression:"item.name"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-close"},on:{click:function(i){return t.removeItem(e)}},slot:"append"})],1)],1)})),0),i("div",{staticClass:"sub-text-3 q-pl-lg q-pr-lg"},[i("div",{staticStyle:{width:"fit-content"},on:{click:function(e){return t.addMoreDescription()}}},[t._v("+ Add another")])]),i("div",{staticClass:"q-pa-lg"},[i("q-btn",{staticClass:"q-mt-lg w-100-per-mobile",attrs:{color:"primary",label:"Save & continue",size:"lg","no-caps":""},on:{click:function(e){return t.gotoStep5()}}})],1)])])],1)],1)])])},r=[],s=(i("7f7f"),i("c5f6"),{name:"create-product-page",filters:{},props:{props_id_product:{type:Number,default:-1}},watch:{props_id_product:function(t){-1!=this.props_id_product&&this.props_id_product&&(this.product_id=this.props_id_product,this.$emit("getProductId",this.props_id_product),this.getInfoProductEdit())}},data:function(){return{list_option_description:[{name:""}],current_product_edited:{},product_id:-1}},methods:{addMoreDescription:function(){var t={name:""};this.list_option_description.push(t)},gotoStep5:function(){var t=this,e=localStorage.getItem("user_token_fisheye_client"),i=this.product_id,o={productId:parseInt(i),travelerInformation:t.list_option_description.map((function(t){return t.name}))};7==t.current_product_edited.stepCreation&&(o.stepCreation=8),this.$axios.put("/api/Products/UpdateBasicInfo",JSON.stringify(o),{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}).then((function(e){t.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Update Successfully"}),-1!=t.props_id_product&&t.props_id_product?t.$emit("done"):t.$router.push("/products/create/schedulePricing/travelerDetails/"+i)})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))},removeItem:function(t){var e=this,i=e.list_option_description.indexOf(t);-1!=i&&e.list_option_description.splice(i,1),e.$forceUpdate()},initDataEdit:function(){this.current_product_edited.travelerInformation&&(this.list_option_description=this.current_product_edited.travelerInformation.map((function(t){return{name:t}})))},getInfoProductEdit:function(){var t=this,e=this.product_id;if(e){var i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/Products/GetProductDetail/"+e,{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(e){t.current_product_edited=e.data,t.initDataEdit()})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}}},components:{},mounted:function(){var t=this.$route.params.product_id;t&&(this.product_id=t,this.$emit("getProductId",t),this.getInfoProductEdit()),-1!=this.props_id_product&&this.props_id_product&&(this.product_id=this.props_id_product,this.$emit("getProductId",this.props_id_product),this.getInfoProductEdit())}}),a=s,n=(i("7128"),i("2877")),c=i("fe09"),l=Object(n["a"])(a,o,r,!1,null,"44043373",null);e["default"]=l.exports;l.options.components=Object.assign({QPage:c["y"],QCard:c["e"],QCardSection:c["g"],QBtn:c["c"]},l.options.components||{})},d79c:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"page-create-product-wrapper"},[i("div",{staticClass:"q-pa-lg content-of-each-step"},[i("div",{staticClass:"step-1"},[i("q-card",{staticClass:"card-step-1 w-100-per-mobile"},[i("q-card-section",[i("div",{staticClass:"step-1-content"},[i("div",{staticClass:"text-main q-pa-lg"},[t._v("What type of product are you creating?")]),i("div",{staticClass:"text-sub q-pl-lg q-pr-lg q-mb-lg"},[t._v("\n              Choose the broad type that best describes your product.\n              You'll be able to add more details next.\n            ")]),i("div",{staticClass:"flex q-pl-lg q-pr-lg q-pt-lg"},[i("img",{staticClass:"q-mr-md",staticStyle:{width:"60px"},attrs:{src:"statics/images/step_2.png"}}),i("div",{staticClass:"style-custom-mobile-1"},[i("div",{staticClass:"text-sub"},[t._v("Tour")]),i("div",{staticClass:"sub-text-2"},[t._v("\n                  A guided visit to one or more sites\n                  "),i("q-icon",{attrs:{name:"far fa-question-circle"}})],1)])]),i("div",{staticClass:"text-sub q-pl-lg q-pr-lg q-pt-lg"},[t._v("What's the mode of transport?")]),i("div",{staticClass:"q-pl-lg q-pr-lg q-pt-xs"},[i("el-select",{class:{"input-error":t.$v.value_transport.$error},attrs:{size:"large","popper-class":"z-index-8000",multiple:"",placeholder:"Select one (or more)"},model:{value:t.$v.value_transport.$model,callback:function(e){t.$set(t.$v.value_transport,"$model",e)},expression:"$v.value_transport.$model"}},t._l(t.options_transport,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t.$v.value_transport.$error?i("div",{staticClass:"error-content"},[t._v("Transport is required")]):t._e()],1),i("div",{staticClass:"q-pa-lg"},[i("q-btn",{staticClass:"q-mt-lg w-100-per-mobile",attrs:{color:"primary",label:"Save & continue",size:"lg","no-caps":""},on:{click:function(e){return t.gotoStep3()}}})],1)])])],1)],1)])])},r=[],s=(i("8e6e"),i("8a81"),i("ac6a"),i("cadf"),i("06db"),i("456d"),i("c5f6"),i("c47a")),a=i.n(s),n=i("2f62"),c=i("b5ae");function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(i,!0).forEach((function(e){a()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var p={name:"create-product-page",filters:{},computed:d({},Object(n["b"])({current_user_logged_info:"login/getUserLoggedInfo",current_branch_id:"login/getCurrentBranchId"})),props:{props_id_product:{type:Number,default:-1}},watch:{props_id_product:function(t){-1!=this.props_id_product&&this.props_id_product&&(this.product_id=this.props_id_product,this.$emit("getProductId",id_prod),this.getInfoProductEdit())}},data:function(){return{value_transport:[],options_transport:[{label:"Motobike",value:"motobike"},{label:"Bike",value:"bike"},{label:"Boat",value:"boat"},{label:"Car",value:"car"},{label:"Minivan",value:"minivan"},{label:"Coach",value:"coach"},{label:"Bus",value:"bus"},{label:"Speedboat",value:"speedboat"}],current_product_edited:{},product_id:-1}},validations:{value_transport:{required:c["required"]}},methods:{checkValidate:function(){return this.$v.value_transport.$touch(),!this.$v.value_transport.$error},gotoStep3:function(){if(this.checkValidate()){var t=this,e=localStorage.getItem("user_token_fisheye_client"),i=t.product_id,o={productId:parseInt(i),transportationModes:t.value_transport};0==t.current_product_edited.stepCreation&&(o.stepCreation=1),this.$axios.put("/api/Products/UpdateBasicInfo",JSON.stringify(o),{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}).then((function(e){t.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Update Successfully"}),-1!=t.props_id_product&&t.props_id_product?t.$emit("done"):t.$router.push("/products/create/basic/theme/"+i)})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}},initDataEdit:function(){this.value_transport=this.current_product_edited.transportationModes},getInfoProductEdit:function(){var t=this,e=this.product_id;if(e){var i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/Products/GetProductDetail/"+e,{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(e){t.current_product_edited=e.data,t.initDataEdit()})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}}},components:{},mounted:function(){var t=this.$route.params.product_id;t&&(this.product_id=t,this.$emit("getProductId",t),this.getInfoProductEdit()),-1!=this.props_id_product&&this.props_id_product&&(this.product_id=this.props_id_product,this.$emit("getProductId",t),this.getInfoProductEdit())}},u=p,_=(i("644b"),i("2877")),g=i("fe09"),m=Object(_["a"])(u,o,r,!1,null,"241772a4",null);e["default"]=m.exports;m.options.components=Object.assign({QPage:g["y"],QCard:g["e"],QCardSection:g["g"],QIcon:g["n"],QBtn:g["c"]},m.options.components||{})},db79:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"page-create-product-wrapper"},[i("div",{staticClass:"q-pa-lg content-of-each-step"},[i("div",{staticClass:"step-1"},[i("q-card",{staticClass:"card-step-1 w-100-per-mobile"},[i("q-card-section",[i("div",{staticClass:"step-1-content"},[i("div",{staticClass:"text-main q-pa-lg"},[t._v("Choose the themes that best describe this product")]),i("div",{staticClass:"text-sub q-pl-lg q-pr-lg"},[t._v("\n              Select up to 3 themes that highlight what your product\n              is about and help travelers know what to expect.\n            ")]),i("div",{staticClass:"q-pl-lg q-pr-lg q-pt-xs"},[i("el-select",{class:{"input-error":t.$v.value_theme.$error},attrs:{"popper-class":"z-index-8000",size:"large",multiple:"",placeholder:"Select one (or more)"},model:{value:t.$v.value_theme.$model,callback:function(e){t.$set(t.$v.value_theme,"$model",e)},expression:"$v.value_theme.$model"}},t._l(t.options_theme,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t.$v.value_theme.$error?i("div",{staticClass:"error-content"},[t._v("Theme is required")]):t._e()],1),i("div",{staticClass:"q-pa-lg"},[i("q-btn",{staticClass:"q-mt-lg w-100-per-mobile",attrs:{color:"primary",label:"Save & continue",size:"lg","no-caps":""},on:{click:function(e){return t.gotoStep4()}}})],1)])])],1)],1)])])},r=[],s=(i("c5f6"),i("b5ae")),a={name:"create-product-page",filters:{},props:{props_id_product:{type:Number,default:-1}},watch:{props_id_product:function(t){-1!=this.props_id_product&&this.props_id_product&&(this.product_id=this.props_id_product,this.$emit("getProductId",id_prod),this.getInfoProductEdit())}},data:function(){return{value_theme:[],options_theme:[{label:"Art, Design, & Fashion",value:"1"},{label:"Entertainment",value:"2"},{label:"Food & Drink",value:"3"},{label:"Health & Fitness",value:"4"},{label:"History & Culture",value:"5"},{label:"Holidays",value:"6"}],current_product_edited:{},product_id:-1}},validations:{value_theme:{required:s["required"]}},methods:{checkValidate:function(){return this.$v.value_theme.$touch(),!this.$v.value_theme.$error},gotoStep4:function(){if(this.checkValidate()){var t=this,e=localStorage.getItem("user_token_fisheye_client"),i=this.product_id,o={productId:parseInt(i),themes:t.value_theme};1==t.current_product_edited.stepCreation&&(o.stepCreation=2),this.$axios.put("/api/Products/UpdateBasicInfo",JSON.stringify(o),{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}).then((function(e){t.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Update Successfully"}),-1!=t.props_id_product&&t.props_id_product?t.$emit("done"):t.$router.push("/products/create/basic/media/"+i)})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}},initDataEdit:function(){this.value_theme=this.current_product_edited.themes},continueFinishCreating:function(t){var e=this;switch(t.stepCreation){case 0:e.$router.push("/products/create/basic/productType/"+t.id);break;case 1:e.$router.push("/products/create/basic/theme/"+t.id);break;case 2:e.$router.push("/products/create/basic/media/"+t.id);break;case 3:e.$router.push("/products/create/content/departureAndReturn/"+t.id);break;case 4:e.$router.push("/products/create/content/itinerary/"+t.id);break;case 5:e.$router.push("/products/create/content/inclusionsExclusions/"+t.id);break;case 6:e.$router.push("/products/create/content/unique/"+t.id);break;case 7:e.$router.push("/products/create/content/kbyg/"+t.id);break;case 8:e.$router.push("/products/create/schedulePricing/travelerDetails/"+t.id);break;case 9:e.$router.push("/products/create/schedulePricing/schedPriceSummary/"+t.id);break}},checkRightStep:function(){this.current_product_edited.stepCreation<=0&&this.continueFinishCreating(this.current_product_edited)},getInfoProductEdit:function(){var t=this,e=this.$route.params.product_id;if(e){var i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/Products/GetProductDetail/"+e,{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(e){t.current_product_edited=e.data,t.checkRightStep(),t.initDataEdit()})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}}},components:{},mounted:function(){var t=this.$route.params.product_id;t&&(this.product_id=t,this.$emit("getProductId",t),this.getInfoProductEdit()),-1!=this.props_id_product&&this.props_id_product&&(this.product_id=this.props_id_product,this.$emit("getProductId",t),this.getInfoProductEdit())}},n=a,c=(i("865d"),i("2877")),l=i("fe09"),d=Object(c["a"])(n,o,r,!1,null,"7e74be03",null);e["default"]=d.exports;d.options.components=Object.assign({QPage:l["y"],QCard:l["e"],QCardSection:l["g"],QBtn:l["c"]},d.options.components||{})},ddf9:function(t,e,i){}}]);
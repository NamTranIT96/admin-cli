(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["4bc4d602"],{2161:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading_booking,expression:"loading_booking"}]},[e.isCheckout?i("div",{staticClass:"checkout-wrapper q-pl-lg q-pr-lg bg-white"},[i("div",{staticClass:"q-mt-md"},[i("q-btn",{attrs:{label:"Back",icon:"keyboard_arrow_left",size:"md",color:"primary",dense:"",flat:""},on:{click:function(t){return e.backToProductPage()}}})],1),i("q-separator",{staticClass:"q-mt-md q-mb-md"}),i("div",{staticClass:"row q-mb-lg"},[i("div",{staticClass:"col-8 q-pr-md"},[i("div",{staticClass:"secure-checkout",staticStyle:{"font-size":"28px","font-weight":"500"}},[e._v("Secure Checkout")]),i("div",{staticClass:"sub-secure-checkout",staticStyle:{"font-size":"16px",color:"#55575b"}},[e._v("Checkout securely — it takes only a few minutes\n        ")]),i("div",{staticClass:"info-checkout-wrapper q-mt-lg q-pa-md",staticStyle:{border:"1px solid #e5e5e5"}},[i("div",{staticClass:"info-product-sumary flex"},[i("div",{staticClass:"image-prod w-30-per"},[i("img",{staticClass:"w-100",staticStyle:{height:"120px","object-fit":"cover"},attrs:{src:e.backend_url+e.info_product_detail.photos[0]}})]),i("div",{staticClass:"info-prod w-70-per q-pl-lg"},[i("div",{staticClass:"travel-date",staticStyle:{"font-size":"14px",color:"#55575b"}},[e._v(e._s(e._f("formatDateSystem")(e.date_picker_traveller))+"\n              ")]),i("div",{staticClass:"prod-name",staticStyle:{"font-size":"20px",color:"#2A2D32"}},[e._v("Product title: "+e._s(e.info_product_detail.title)+"\n              ")]),i("div",{staticClass:"prod-name",staticStyle:{"font-size":"17px",color:"#2A2D32"}},[e._v("Product code: "+e._s(e.info_product_detail.referenceCode)+"\n              ")])])]),i("q-separator",{staticClass:"q-mt-md q-mb-md"}),i("div",{staticClass:"traveler-detail"},[i("div",{staticClass:"text-info-detail"},[i("div",{staticStyle:{"font-size":"20px",color:"#2A2D32"}},[e._v("Traveler Details")]),i("div",{staticStyle:{"font-size":"16px",color:"#55575b"}},[e._v("Information we need to confirm your tour or activity\n              ")]),i("div",{staticClass:"q-mt-lg",staticStyle:{"font-size":"16px",color:"#2A2D32"}},[e._v("Lead Traveler (Adult)")]),i("div",{staticClass:"row q-pl-md"},[i("div",{staticClass:"col-6 q-pr-md q-mt-sm"},[i("div",[e._v("First name *")]),i("q-input",{class:{"input-error":e.$v.first_name_lead.$error},attrs:{placeholder:"Input first name",dense:!0,outlined:""},model:{value:e.$v.first_name_lead.$model,callback:function(t){e.$set(e.$v.first_name_lead,"$model",t)},expression:"$v.first_name_lead.$model"}}),e.$v.first_name_lead.$error?i("div",{staticClass:"error-content"},[e._v("First name is required\n                  ")]):e._e()],1),i("div",{staticClass:"col-6 q-mt-sm"},[i("div",[e._v("Last name *")]),i("q-input",{class:{"input-error":e.$v.last_name_lead.$error},attrs:{placeholder:"Input last name",dense:!0,outlined:""},model:{value:e.$v.last_name_lead.$model,callback:function(t){e.$set(e.$v.last_name_lead,"$model",t)},expression:"$v.last_name_lead.$model"}}),e.$v.last_name_lead.$error?i("div",{staticClass:"error-content"},[e._v("Last name is required")]):e._e()],1),i("div",{staticClass:"col-6 q-pr-md q-mt-md"},[i("div",[e._v("Phone *")]),i("q-input",{class:{"input-error":e.$v.phone_lead.$error},attrs:{placeholder:"Input lead phone",dense:!0,outlined:""},model:{value:e.$v.phone_lead.$model,callback:function(t){e.$set(e.$v.phone_lead,"$model",t)},expression:"$v.phone_lead.$model"}}),e.$v.phone_lead.$error?i("div",{staticClass:"error-content"},[e._v("Phone is required")]):e._e()],1),i("div",{staticClass:"col-12 q-mt-md"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-6 q-pr-md"},[i("div",[e._v("Email *")]),i("q-input",{class:{"input-error":e.$v.email_lead.$error},attrs:{placeholder:"Input email",dense:!0,outlined:""},model:{value:e.$v.email_lead.$model,callback:function(t){e.$set(e.$v.email_lead,"$model",t)},expression:"$v.email_lead.$model"}}),e.$v.email_lead.$error?i("div",{staticClass:"error-content"},[e._v("Email is required")]):e._e()],1),i("div",{staticClass:"col-6"},[i("div",[e._v("Confirm Email *")]),i("q-input",{class:{"input-error":e.$v.re_email_lead.$error},attrs:{placeholder:"Input confirm email",dense:!0,outlined:""},model:{value:e.$v.re_email_lead.$model,callback:function(t){e.$set(e.$v.re_email_lead,"$model",t)},expression:"$v.re_email_lead.$model"}}),e.$v.re_email_lead.$error?i("div",{staticClass:"error-content"},[e._v("Confirm email is wrong\n                      ")]):e._e()],1)])])]),i("div",{staticClass:"q-mt-lg",staticStyle:{"font-size":"16px",color:"#2A2D32"}},[e._v("Other Traveler: (Enter to add person name)\n              ")]),i("div",{staticClass:"row q-pl-md"},[i("el-select",{staticClass:"w-100 input-add-other-traveler",attrs:{multiple:"",filterable:"","allow-create":"",size:"medium","default-first-option":"",placeholder:"Input and enter to add","popper-class":"select-group-new-booking display-none"},model:{value:e.otherTravelerNames,callback:function(t){e.otherTravelerNames=t},expression:"otherTravelerNames"}},e._l(e.options,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),i("div",{staticClass:"q-mt-lg",staticStyle:{"font-size":"16px",color:"#2A2D32"}},[e._v("Pickup Location*")]),i("div",{staticClass:"row q-pl-md"},[i("div",{staticClass:"col-12"},[i("q-input",{class:{"input-error":e.$v.pickup_location.$error},attrs:{placeholder:"Input pickup location",dense:!0,outlined:""},model:{value:e.$v.pickup_location.$model,callback:function(t){e.$set(e.$v.pickup_location,"$model",t)},expression:"$v.pickup_location.$model"}}),e.$v.pickup_location.$error?i("div",{staticClass:"error-content"},[e._v("Pickup Location is required\n                  ")]):e._e()],1)]),i("div",{staticClass:"q-mt-lg",staticStyle:{"font-size":"16px",color:"#2A2D32"}},[e._v("Nationality")]),i("div",{staticClass:"row q-pl-md"},[i("el-select",{attrs:{filterable:"",size:"medium",placeholder:"Choose nationality","popper-class":"select-group-new-booking choose-nationality"},model:{value:e.nationality,callback:function(t){e.nationality=t},expression:"nationality"}},e._l(e.options_country_world,(function(e){return i("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})})),1)],1),i("div",{staticClass:"q-mt-lg",staticStyle:{"font-size":"16px",color:"#2A2D32"}},[e._v("Food note")]),i("div",{staticClass:"row q-pl-md"},[i("q-input",{staticClass:"w-100",attrs:{outlined:"",placeholder:"Food note",type:"textarea"},model:{value:e.food_note,callback:function(t){e.food_note=t},expression:"food_note"}})],1),i("div",{staticClass:"q-mt-lg",staticStyle:{"font-size":"16px",color:"#2A2D32"}},[e._v("Other request")]),i("div",{staticClass:"row q-pl-md"},[i("q-input",{staticClass:"w-100",attrs:{outlined:"",placeholder:"Vegetarian or diet foods requirement",type:"textarea"},model:{value:e.other_request,callback:function(t){e.other_request=t},expression:"other_request"}})],1)]),i("div",{staticClass:"agree-tem-wrapper q-mt-lg",staticStyle:{"background-color":"antiquewhite"}},[i("q-checkbox",{attrs:{color:"primary"},model:{value:e.checkbox_agree_terms,callback:function(t){e.checkbox_agree_terms=t},expression:"checkbox_agree_terms"}}),e._v("\n              I’ve read and accept\n              "),i("a",{attrs:{href:"https://fisheyetravel.com/terms-and-conditions/",target:"_blank"}},[e._v("the terms & conditions *")])],1)])],1)]),i("div",{staticClass:"col-4 q-pl-md",staticStyle:{"border-left":"1px solid #d5d5d5","padding-top":"90px"}},[i("div",{staticClass:"review-order-detail-wrapper q-pa-md",staticStyle:{border:"1px solid #e5e5e5","background-color":"#f2f2f2"}},[i("div",{staticStyle:{color:"#2a2d32","font-size":"20px","font-weight":"500"}},[e._v("Review Order Details")]),i("div",{staticClass:"row q-mt-lg"},[i("div",{staticClass:"col-9"},[i("div",{staticStyle:{color:"#2a2d32","font-size":"16px","font-weight":"500"}},[e._v(e._s(e.info_product_detail.title)+"\n              ")]),e.info_product_detail.transportationModes?i("div",{staticStyle:{color:"#2a2d32","font-size":"16px","font-weight":"500","text-transform":"capitalize"}},[e._v(e._s(e.info_product_detail.transportationModes.join(", "))+"\n              ")]):e._e(),i("div",{staticClass:"q-mt-md",staticStyle:{"font-size":"14px",color:"#55575b"}},[i("div",[e._v(e._s(e._f("formatDateSystem")(e.date_picker_traveller)))]),i("div",{staticClass:"q-mt-sm"},[e._v(e._s(e.order_choosed_to_book.name_option_price))]),i("div",{staticClass:"q-mt-sm"},[e._v("Time start: "+e._s(e._f("getTimeToGo")(e.order_choosed_to_book.time_goto)))]),i("div",{staticClass:"q-mt-sm"},[e._v(e._s(e._f("getDescTraveler")(e.order_choosed_to_book.pricing_tier)))])])]),i("div",{staticClass:"col-3"},[i("div",{staticClass:"text-right",staticStyle:{"font-size":"16px","font-weight":"500"}},[e._v(e._s(e._f("currency")(e.order_choosed_to_book.total_price,e.option_filter))+"\n              ")])])]),i("q-separator",{staticClass:"q-mt-lg q-mb-lg"}),0!=e.couponValue?i("div",{staticClass:"row"},[i("div",{staticClass:"col-4",staticStyle:{"font-size":"17px","font-weight":"500",color:"#2a2d32"}},[e._v("Discount:")]),0==e.couponType?i("div",{staticClass:"col-8 text-right",staticStyle:{"font-size":"17px","font-weight":"500",color:"#2a2d32"}},[e._v("- "+e._s(e._f("currency")(e.couponValue,e.option_filter))+"\n            ")]):i("div",{staticClass:"col-8 text-right",staticStyle:{"font-size":"17px","font-weight":"500",color:"#2a2d32"}},[e._v("- "+e._s(e._f("currency")(e.couponValue/100*e.order_choosed_to_book.total_price,e.option_filter))+"\n              ("+e._s(e.couponValue)+"%)\n            ")])]):e._e(),i("div",{staticClass:"row"},[i("div",{staticClass:"col-7",staticStyle:{"font-size":"20px","font-weight":"500",color:"#2a2d32"}},[e._v("Total:")]),i("div",{staticClass:"col-5 text-right",staticStyle:{"font-size":"20px","font-weight":"500",color:"#2a2d32"}},[e._v(e._s(e.getTotalPriceOrder())+"\n            ")])]),i("div",{staticClass:"q-mt-md"},[e.is_click_promo_code?i("div",[i("div",[e._v("Promo Code")]),i("div",{staticClass:"flex"},[i("div",{staticClass:"w-80-per"},[i("q-input",{attrs:{disable:0!=e.couponValue,square:"",dense:"",outlined:"",color:"secondary"},model:{value:e.promo_code,callback:function(t){e.promo_code=t},expression:"promo_code"}})],1),i("div",{staticClass:"w-20-per"},[i("q-btn",{staticClass:"btn-apply-promo",attrs:{disable:0!=e.couponValue,label:"Apply",color:"secondary"},on:{click:function(t){return e.applyPromoteCode()}}})],1)])]):i("div",{staticClass:"sub-text-3-custom",on:{click:function(t){e.is_click_promo_code=!e.is_click_promo_code}}},[e._v("Enter Promo Code\n            ")])]),i("div",{staticClass:"q-mt-lg"},[i("q-btn",{staticClass:"w-100",attrs:{label:"Book now",size:"lg",color:"negative"},on:{click:function(t){return e.finalBooking()}}})],1)],1)])])],1):i("div",{staticClass:"tour-detail-wrapper q-pl-lg q-pr-lg bg-white",staticStyle:{"box-shadow":"0 1px 5px rgba(0, 0, 0, 0.2), 0 2px 2px rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.12)"}},[i("div",{staticClass:"title-wrapper q-pt-md q-pb-lg"},[i("div",{staticClass:"text-title"},[e._v(e._s(e.info_product_detail.title))])]),i("div",{staticClass:"image-review-checkout-wrapper"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-8 gallery-wrapper",staticStyle:{border:"1px solid #dedede"}},[i("lingallery",{attrs:{iid:e.currentId,items:e.items_image},on:{"update:iid":function(t){e.currentId=t}}})],1),i("div",{staticClass:"col-4 q-pl-lg"},[i("div",{staticClass:"q-pa-lg info-to-checkout"},[i("div",{staticStyle:{"font-size":"20px"}},[e._v("Select Date and Travelers")]),i("div",{staticClass:"calendar-choosed q-mt-md",staticStyle:{position:"relative"}},[i("datepicker",{attrs:{"disabled-dates":e.disabled_date,"calendar-button-icon-content":"event","calendar-button-icon":"fa fa-calendar","calendar-class":"calendar-custom","input-class":"input-class-calendar"},model:{value:e.date_picker_traveller,callback:function(t){e.date_picker_traveller=t},expression:"date_picker_traveller"}}),i("div",{staticStyle:{position:"absolute",top:"7px",left:"10px"}},[i("q-icon",{attrs:{name:"far fa-calendar-alt",size:"sm",color:"primary"}})],1)],1),i("div",{staticClass:"q-mt-md"},[i("div",{staticStyle:{position:"relative"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.input_option_traveller,expression:"input_option_traveller"}],staticClass:"input-option-traveler w-100",attrs:{readonly:""},domProps:{value:e.input_option_traveller},on:{click:function(t){return e.openPopupChooseUser()},input:function(t){t.target.composing||(e.input_option_traveller=t.target.value)}}}),i("div",{staticStyle:{position:"absolute",top:"7px",left:"10px"}},[i("q-icon",{attrs:{name:"far fa-user",size:"sm",color:"primary"}})],1),e.info_product_detail.ageGroup?i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hidePopUp,expression:"hidePopUp"}],staticClass:"popup-choose-user-wrapper w-100",class:{"popup-show":e.show_popup_travel}},[i("div",[e._v("\n                    You can select up to\n                    "+e._s(e.info_product_detail.ageGroup.maximumTravelers)+"\n                    travelers in total.\n                  ")]),e._l(e.list_tier_age_active,(function(t,o){return i("div",{key:o,staticClass:"row q-mt-lg"},[i("div",{staticClass:"col-6"},[i("div",{staticStyle:{"font-size":"15px"}},[e._v("\n                        "+e._s(t.name)+" (age "+e._s(t.minAge)+" -\n                        "+e._s(t.maxAge)+")\n                      ")]),i("div",{staticStyle:{"font-size":"11px"}},[e._v("\n                        Minimum: "+e._s(t.min_booking)+" Maximum:\n                        "+e._s(t.max_booking)+"\n                      ")])]),i("div",{staticClass:"col-6 text-right"},[i("el-input-number",{staticClass:"input-number-custom",attrs:{size:"mini"},model:{value:t.value_user_choosed,callback:function(i){e.$set(t,"value_user_choosed",i)},expression:"item.value_user_choosed"}})],1)])})),i("div",{staticClass:"button-apply-wrapper q-mt-lg"},[i("q-btn",{staticClass:"w-100",attrs:{label:"Apply",color:"primary",size:"md"},on:{click:function(t){return e.updateTravelerBooking()}}})],1)],2):e._e()])]),i("div",{staticClass:"q-mt-lg"},[i("q-btn",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:"#list-order-suitable",expression:"'#list-order-suitable'"}],staticClass:"w-100",attrs:{size:"md",label:e.label_search,color:"primary"},on:{click:function(t){return e.generateListOrderSuitable()}}})],1)])])]),i("div",{attrs:{id:"list-order-suitable"}},[e.list_order_suitable.length>0?i("div",{staticClass:"list-order-suitable-wrapper q-mt-lg"},[i("div",{staticClass:"for-date q-pa-lg"},[i("span",{staticClass:"text-1"},[e._v("Select an option for  ")]),i("span",{staticClass:"text-2"},[e._v(e._s(e._f("formatDateSystem")(e.date_picker_traveller)))])]),e._l(e.list_order_suitable,(function(t,o){return i("div",{key:o,staticClass:"item-order-suitable q-pa-lg",class:{active:t.active}},[i("div",{staticClass:"common-and-checkbox-wrapper flex items-center"},[i("div",{staticClass:"checkbox-wrapper q-mr-lg"},[i("q-checkbox",{attrs:{dense:"",color:"primary"},nativeOn:{click:function(i){return e.changeCheckbox(t)}},model:{value:t.active,callback:function(i){e.$set(t,"active",i)},expression:"item.active"}})],1),i("div",{staticClass:"common-info-wrapper"},[i("div",{staticClass:"name-price-option"},[e._v(e._s(t.name_option_price))]),i("div",{staticClass:"total-price-order"},[i("span",{staticClass:"text-3"},[e._v("$"+e._s(e._f("currency")(t.total_price,e.option_filter))+"  ")]),i("span",{staticClass:"text-4"},[e._v("("+e._s(e.getPriceAndDesc(t.pricing_tier))+")")])]),e._m(0,!0),t.active?i("div",{staticClass:"list-time-start flex q-mt-md"},e._l(t.time_goto,(function(o,a){return i("div",{key:a},[o.info_avai?i("div",[o.info_avai.isBlocked?e._e():i("div",{staticClass:"item-time-start q-mr-md q-pa-sm text-center",class:{active:o.active},on:{click:function(i){return e.chooseTimeStartOrder(t,o)}}},[e._v(e._s(o.name)+"\n                      ")])]):e._e()])})),0):e._e(),e.temp_time_active?i("div",{staticClass:"q-mt-md"},[e.temp_time_active.info_avai?i("div",{staticStyle:{"font-size":"20px","font-weight":"bold"}},[e._v("Number available spots of tour : "+e._s(e.temp_time_active.info_avai.availableSpots)+"\n                  ")]):e._e()]):e._e()])]),t.active?i("q-separator",{staticClass:"q-mt-lg q-mb-lg"}):e._e(),t.active?i("div",{staticClass:"order-button-wrapper flex items-center justify-end"},[i("div",{staticClass:"detail-price-button w-30-per text-right",domProps:{innerHTML:e._s(e.getPriceAndDesc2(t.pricing_tier))}}),i("div",{staticClass:"total-price text-center q-pl-md q-pr-md"},[e._v("$"+e._s(e._f("currency")(t.total_price,e.option_filter))+"\n              ")]),i("div",{staticClass:"button-order w-40-per"},[i("q-btn",{staticClass:"w-100",attrs:{label:"Book now",color:"primary",size:"md","no-caps":""},on:{click:function(i){return e.choosedOrder(t)}}})],1)]):e._e()],1)}))],2):i("div",{staticClass:"list-order-suitable-wrapper q-mt-lg q-pa-lg",staticStyle:{"font-size":"20px","font-weight":"bold",color:"red"}},[e._v("Please select travel date and number of travelers\n        ")])]),i("div",{staticClass:"info-detail-product"},[i("q-separator",{staticClass:"q-mt-lg q-mb-lg"}),i("div",[i("span",{staticClass:"q-mr-md"},[i("q-icon",{attrs:{name:"watch_later",color:"primary",size:"sm"}})],1),e._v("\n          5 to 6 hours (Approx.)\n        ")]),i("q-separator",{staticClass:"q-mt-lg q-mb-lg"}),i("div",{staticClass:"over-view-wrapper"},[i("div",{staticClass:"main-title",staticStyle:{"font-size":"30px"}},[e._v("Overview")]),i("div",{staticStyle:{"font-size":"18px"}},[e._v(e._s(e.info_product_detail.uniqueDescription))])]),i("div",{staticClass:"detail-product q-mt-lg"},[i("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[i("el-collapse-item",{attrs:{title:"Tour detail",name:"1"}},[i("div",{staticClass:"include-exclude-wrapper",staticStyle:{"font-size":"18px"}},[i("div",[i("div",{staticClass:"q-mb-md"},[i("strong",[e._v("Total Duration:")]),e._v("\n                    "+e._s(e.info_product_detail.totalDurationHours)+" hours "+e._s(e.info_product_detail.totalDurationMinutes)+"\n                    minutes\n                  ")]),i("div",{staticClass:"list-duration"},e._l(e.info_product_detail.attractions,(function(t,o){return i("div",{key:o,staticClass:"item-duration"},[e._v(e._s(o+1)+". "+e._s(t.name)+", "+e._s(t.minutesToStop)+" minutes\n                    ")])})),0)])])]),i("el-collapse-item",{attrs:{title:"Include & Exclude",name:"2"}},[i("div",{staticClass:"include-exclude-wrapper",staticStyle:{"font-size":"18px"}},[i("div",[i("strong",[e._v("What's included")])]),e.info_product_detail.inclusionList?i("div",{staticClass:"include"},[e._v(e._s(e.info_product_detail.inclusionList.join(", "))+"\n                ")]):e._e(),i("div",[i("strong",[e._v("What's exclude")])]),e.info_product_detail.exclusionList?i("div",{staticClass:"exclude"},[e._v(e._s(e.info_product_detail.exclusionList.join(", "))+"\n                ")]):e._e()])]),i("el-collapse-item",{attrs:{title:"Departure & Return",name:"3"}},[i("div",{staticClass:"departure-wrapper",staticStyle:{"font-size":"18px"}},[i("div",[e._v("Departure Point")]),e.info_product_detail.startingPointAddress?i("div",[e._v(e._s(e.info_product_detail.startingPointAddress)+"\n                ")]):e._e()])]),i("el-collapse-item",{attrs:{title:"Additional Info",name:"4"}},[e.info_product_detail.travelerInformation?i("div",{staticClass:"additional-info-wrapper",staticStyle:{"font-size":"18px"}},e._l(e.info_product_detail.travelerInformation,(function(t,o){return i("div",{key:o},[e._v(e._s(t)+"\n                ")])})),0):e._e()])],1)],1)],1)])])])},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"plus-info q-mt-sm"},[i("div",[e._v("This radically different than being herded onto dozens of others and help improve the overall\n                    experience for everyone\n                  ")]),i("div",[e._v("Offered In: English")])])}],r=i("967e"),s=i.n(r),n=(i("96cf"),i("fa84")),l=i.n(n),c=(i("6b54"),i("06db"),i("7f7f"),i("c5f6"),i("9c58")),d=i("fa33"),p=i("e67d"),u=i.n(p),_=i("391a"),v=i("b5ae"),m=(i("e71f"),{name:"tour-detail-page",props:{id:{type:Number,default:null}},validations:{first_name_lead:{required:v["required"]},last_name_lead:{required:v["required"]},phone_lead:{required:v["required"]},email_lead:{required:v["required"],email:v["email"]},re_email_lead:{sameAsPassword:Object(v["sameAs"])("email_lead")},pickup_location:{required:v["required"]}},watch:{id:function(e,t){this.product_id=this.id,this.getInfoDetailProduct()}},filters:{getTimeToGo:function(e){var t=e.filter((function(e){return 1==e.active}));return t?t[0].name:""},getDescTraveler:function(e){var t=[];return e.forEach((function(e){if(e.value_user_choosed>0){var i="";i+=e.value_user_choosed+" "+e.name,t.push(i)}})),t.join(", ")}},computed:{label_search:function(){return 0==this.count_search?"Check Availability":"Update Search"},choosed_traveller:function(){var e=this,t=0;return e.list_tier_age_active.forEach((function(e){t+=e.value_user_choosed})),t>0}},data:function(){var e=new Date;return e.setDate(e.getDate()-1),{option_filter:{symbol:"",thousandsSeparator:",",fractionCount:0,fractionSeparator:".",display_symbol:"VND"},disabled_date:{to:e},isCheckout:!1,activeNames:["1","2","3","4"],date_picker_traveller:null,input_option_traveller:"Number of travelers",backend_url:c["a"],product_id:null,info_product_detail:{},items_image:[],currentId:null,lowest_price_product:99999999,options_country_world:_["a"],list_tier_age_active:[],show_popup_travel:!1,activetest:!1,list_order_suitable:[],is_click_promo_code:!1,order_choosed_to_book:null,first_name_lead:"",last_name_lead:"",phone_lead:"",email_lead:"",re_email_lead:"",pickup_location:"",nationality:"",other_request:"",food_note:"",promo_code:"",checkbox_agree_terms:!1,otherTravelerNames:[],options:[],couponValue:0,couponType:0,count_search:0,loading_booking:!1,temp_time_active:null}},methods:{getPriceAndDesc:function(e){var t=this,i=[];return e.forEach((function(e){if(e.value_user_choosed>0){var o="";o+=t.$options.filters.currency(e.pricing,t.option_filter)+" × "+e.value_user_choosed+" "+e.name,i.push(o)}})),i.join(", ")},getTotalPriceOrder:function(){var e=this;if(0==this.couponType){var t=this.order_choosed_to_book.total_price,i=this.couponValue,o=t-i;return o<0?0:e.$options.filters.currency(o,e.option_filter)}var a=this.order_choosed_to_book.total_price,r=(this.couponValue,a-a*(this.couponValue/100));return r<0?0:e.$options.filters.currency(r,e.option_filter)},applyPromoteCode:function(){var e=this,t=e.info_product_detail.branchId;if(""!=e.promo_code){var i=localStorage.getItem("user_token_fisheye_client");e.$axios.get("/api/Coupons/CheckValidCoupon?BranchId="+t+"&Code="+e.promo_code,{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(t){var i=t.data;if(i.status)if(-1!=i.productIdsApplied.indexOf(e.info_product_detail.id.toString())){var o=new Date(i.startTime),a=new Date(i.endTime),r=new Date;o.setHours(1),a.setHours(23),r>=o&&r<=a?(e.couponValue=i.value,e.couponType=i.type,e.order_choosed_to_book.coupon_value=i.value,e.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Coupon apply Successfully"})):(e.item_booking.couponCode="",e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Coupon is invalid"}))}else e.item_booking.couponCode="",e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Coupon is invalid"});else e.item_booking.couponCode="",e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Coupon is invalid"})})).catch((function(t){e.promo_code="",e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Coupon is invalid"})}))}},backToProductPage:function(){this.isCheckout=!1},checkValidate:function(){var e=this;return this.$v.first_name_lead.$touch(),this.$v.last_name_lead.$touch(),this.$v.phone_lead.$touch(),this.$v.email_lead.$touch(),this.$v.re_email_lead.$touch(),this.$v.pickup_location.$touch(),e.$v.first_name_lead.$error||e.$v.last_name_lead.$error||e.$v.phone_lead.$error||e.$v.email_lead.$error||e.$v.re_email_lead.$error||e.$v.pickup_location.$error?(e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Please view error in your form!"}),!1):!!this.checkbox_agree_terms||(e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Please read term and check the checkbox agree term and condition to continue!"}),!1)},finalBooking:function(){if(this.checkValidate()){var e=this,t="",i=e.order_choosed_to_book.time_goto.filter((function(e){return 1==e.active}));i.length>0&&(t=i[0].name);var o=0,a=e.date_picker_traveller.toISOString(),r=new Date(a);r.setHours(7);var s={productId:e.info_product_detail.id,travelDate:r,startTime:t,endTime:"",leadTravelerFirstName:e.first_name_lead,leadTravelerLastName:e.last_name_lead,leadTravelerLastPhone:e.phone_lead,leadTravelerLastEmail:e.email_lead,otherTravelerNames:e.otherTravelerNames,nationality:e.nationality,hotelName:e.pickup_location,otherNotes:e.other_request,foodNotes:e.food_note,couponCode:e.promo_code,priceOptionName:e.order_choosed_to_book.name_option_price};e.order_choosed_to_book.pricing_tier.forEach((function(e){if(o+=e.value_user_choosed,e.value_user_choosed>0)switch(e.name){case"Senior":s.seniorNumber=e.value_user_choosed,s.seniorPrice=e.pricing;break;case"Adult":s.adultNumber=e.value_user_choosed,s.adultPrice=e.pricing;break;case"Child":s.childNumber=e.value_user_choosed,s.childPrice=e.pricing;break;case"Youth":s.youthNumber=e.value_user_choosed,s.youthPrice=e.pricing;break;case"Infant":s.infantNumber=e.value_user_choosed,s.infantPrice=e.pricing;break;default:break}})),s.guestQuantity=o;var n=localStorage.getItem("user_token_fisheye_client");this.loading_booking=!0,this.$axios.post("/api/Orders/CreateForGuest",JSON.stringify(s),{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"}}).then((function(t){e.$swal("Success!","Order success. Your order will be confirm with system. Thank you!","success").then((function(t){e.loading_booking=!1,e.isCheckout=!1,e.$set(e,"order_choosed_to_book",{}),e.backToTop()}))})).catch((function(t){e.loading_booking=!1,t.response.data?e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:t.response.data}):e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}},choosedOrder:function(e){var t=this,i=null,o=!1;if(e.time_goto.forEach((function(e){e.info_avai.isBlocked||e.active&&(o=!0,i=e)})),o){var a=i.info_avai.availableSpots,r=0;e.pricing_tier.forEach((function(e){r+=e.value_user_choosed})),r>a?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Number of traveller large than available spot of tour!"}):(t.$set(this,"order_choosed_to_book",e),t.isCheckout=!0,t.backToTop())}else t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Please choose time apply"})},backToTop:function(){window.scrollTo(0,0)},chooseTimeStartOrder:function(e,t){var i=this;i.temp_time_active=JSON.parse(JSON.stringify(t)),e.time_goto.forEach((function(e){e.active=!1})),t.active=!0},changeCheckbox:function(e){this.list_order_suitable.forEach((function(e){e.active=!1})),e.active=!0,this.$forceUpdate()},getPriceAndDesc2:function(e){var t=this,i=[];e.forEach((function(e){if(e.value_user_choosed>0){var o="";o+=t.$options.filters.currency(e.pricing,t.option_filter)+" × "+e.value_user_choosed+" "+e.name,i.push(o)}}));var o=i.join("</br>"),a="("+o+")";return a},getListDayOfWeekPriceToId:function(e){var t=[];return e.forEach((function(e){switch(e){case"Sun":t.push(0);break;case"Mon":t.push(1);break;case"Tue":t.push(2);break;case"Wed":t.push(3);break;case"Thu":t.push(4);break;case"Fri":t.push(5);break;case"Sat":t.push(6);break;default:break}})),t},checkChooseTraveller:function(){var e=this,t=0;return e.list_tier_age_active.forEach((function(e){t+=e.value_user_choosed})),t>0},generateListOrderSuitable:function(){var e=this;if(this.choosed_traveller){this.count_search+=1;var t=[],i=e.date_picker_traveller;e.info_product_detail.priceOptions.forEach((function(o){o.prices.forEach((function(a){var r=e.getListDayOfWeekPriceToId(a.daysApply),s=new Date(a.startTime),n=null;if(n=null!=a.endTime?new Date(a.endTime):new Date(3456,1,1),i>=s&&i<=n){var l=i.getDay();if(-1!=r.indexOf(l)){var c=JSON.parse(JSON.stringify(e.list_tier_age_active));c.forEach((function(e){e.pricing=0,a.pricings.forEach((function(t){e.name==t.name&&t.tierPricings.forEach((function(t){t.min<=e.value_user_choosed&&t.max>=e.value_user_choosed&&(e.pricing=t.value)}))}))}));var d=0;c.forEach((function(e){d+=e.pricing*e.value_user_choosed}));var p=[];a.timeApply.forEach((function(e){var t={name:e,active:!1};p.push(t)}));var u={name_option_price:o.name,pricing_tier:c,time_goto:p,total_price:d,active:!1,price_id:a.id,product_id:e.info_product_detail.id,branch_id:e.info_product_detail.branchId};t.push(u)}}}))})),t.length>0&&(t[0].active=!0),e.list_order_suitable=t;var o=new Date(this.date_picker_traveller.toISOString());o.setHours(7),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0),e.list_order_suitable.forEach((function(t,i){t.time_goto.length>0?t.time_goto.forEach((function(a,r){e.checkAvaiAPI(t.branch_id,t.price_id,o.toISOString(),a.name).then((function(o){a.info_avai=JSON.parse(JSON.stringify(o.data)),e.$forceUpdate(),i==e.list_order_suitable.length-1&&r==t.time_goto.length-1&&setTimeout((function(){e.calculateFinalSuitable()}),500)}))})):i==e.list_order_suitable.length-1&&setTimeout((function(){e.calculateFinalSuitable()}),500)})),e.$forceUpdate(),0==t.length&&e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"No suitable booking found"})}},calculateFinalSuitable:function(){var e=this,t=[];e.list_order_suitable.forEach((function(e,i){var o=!1;e.time_goto.forEach((function(e,t){0==e.info_avai.isBlocked&&(o=!0)})),o&&t.push(e)})),e.list_order_suitable=JSON.parse(JSON.stringify(t))},checkAvaiAPI:function(){var e=l()(s.a.mark((function e(t,i,o,a){var r,n,l;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=this,n=localStorage.getItem("user_token_fisheye_client"),e.next=4,r.$axios.get("/api/Availabilities/CheckAvailability?BranchId="+t+"&PriceId="+i+"&TravelDate="+o+"&TimeApplied="+a,{headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"}});case 4:return l=e.sent,e.abrupt("return",l);case 6:case"end":return e.stop()}}),e,this)})));function t(t,i,o,a){return e.apply(this,arguments)}return t}(),updateTravelerBooking:function(){var e=this,t=[];e.list_tier_age_active.forEach((function(e){if(0!=e.value_user_choosed){var i=e.value_user_choosed+" "+e.name;t.push(i)}})),t.length>0&&(e.input_option_traveller=t.join(",  ")),e.hidePopUp()},handleChange:function(e){console.log(e)},hidePopUp:function(){this.activetest&&(this.show_popup_travel=!1,this.activetest=!1,this.updateTravelerBooking())},openPopupChooseUser:function(){var e=this;e.show_popup_travel=!0,e.$forceUpdate(),setTimeout((function(){e.activetest=!0}),300)},routerToAddress:function(e){this.$router.push(e)},initInfoImage:function(){var e=this,t=[];e.info_product_detail.photos.forEach((function(i){var o={src:e.backend_url+i,thumbnail:e.backend_url+i};t.push(o)})),e.items_image=t},getListTierAgeActive:function(){var e=this,t=[],i=JSON.parse(JSON.stringify(e.info_product_detail.ageGroup.ageTiers));i.forEach((function(e){e.isActive&&(e.value_user_choosed=0,t.push(e))})),e.info_product_detail.priceOptions.forEach((function(e){e.prices.forEach((function(e){e.pricings.forEach((function(e){t.forEach((function(t){t.min_booking||(t.min_booking=0),t.max_booking||(t.max_booking=0),t.name==e.name&&e.tierPricings.forEach((function(e){e.min<t.min_booking&&(t.min_booking=e.min),e.max>t.max_booking&&(t.max_booking=e.max)}))}))}))}))})),e.list_tier_age_active=t},initCommonInfo:function(){var e=this;e.initInfoImage(),e.getListTierAgeActive(),e.info_product_detail.priceOptions.forEach((function(t){t.prices.forEach((function(t){t.pricings.forEach((function(t){1==t.isActive&&"Adult"==t.name&&t.tierPricings.forEach((function(t){t.value<e.lowest_price_product&&(e.lowest_price_product=t.value)}))}))}))}))},getInfoDetailProduct:function(){var e=this,t=this.product_id;if(t){var i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/Products/GetProductDetail/"+t,{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(t){e.info_product_detail=t.data,e.initCommonInfo()})).catch((function(t){t.response.data?e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:t.response.data}):e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}}},mounted:function(){if(this.date_picker_traveller=new Date,this.id)this.product_id=this.id,this.getInfoDetailProduct();else{var e=this.$route.params.encryp_id,t=window.atob(e);t&&(this.product_id=parseInt(t),this.getInfoDetailProduct())}},components:{Datepicker:d["a"]},directives:{ClickOutside:u.a}}),f=m,h=(i("32e2"),i("2877")),g=i("fe09"),b=Object(h["a"])(f,o,a,!1,null,null,null);t["default"]=b.exports;b.options.components=Object.assign({QIcon:g["n"],QBtn:g["c"],QCheckbox:g["h"],QSeparator:g["C"],QInput:g["p"]},b.options.components||{}),b.options.directives=Object.assign({Scroll:g["R"]},b.options.directives||{})},"32e2":function(e,t,i){"use strict";var o=i("c7f4"),a=i.n(o);a.a},c7f4:function(e,t,i){},e71f:function(e,t,i){"use strict";function o(e){return 1==e?{decimal:".",thousands:",",prefix:"",suffix:"",precision:0,masked:!1}:2==e?{decimal:".",thousands:",",prefix:"",suffix:"",precision:2,masked:!1}:void 0}t["a"]=o}}]);
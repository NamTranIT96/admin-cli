(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["6745f16c"],{"1a2f":function(t,e,o){"use strict";var a=o("b01b"),n=o.n(a);n.a},"241e6":function(t,e,o){"use strict";var a="https://admin-travel.netlify.app/";e["a"]=a},8287:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"button-widget-wrapper flex"},[o("div",{staticClass:"col-custom-1"},[o("div",{staticClass:"q-pa-lg"},[o("div",{staticClass:"main-title"},[t._v("Product Page")]),o("div",[t._v("Detailed page where customers can find details and photos of your experience.")]),o("div",{staticClass:"trigger-1-wrapper q-mt-lg"},[o("div",{staticClass:"q-mt-lg"},[o("div",[t._v("1. Choose Product")]),o("el-select",{staticClass:"select-properties q-mt-sm",attrs:{placeholder:"Select"},on:{change:function(e){return t.changeProductSelected()}},model:{value:t.value_option_choose_product,callback:function(e){t.value_option_choose_product=e},expression:"value_option_choose_product"}},t._l(t.list_product,(function(t){return o("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1)],1)]),o("div",{staticClass:"q-mt-lg"},[o("div",[t._v("2. Generate widget")]),o("q-btn",{staticClass:"q-mt-sm",attrs:{size:"md",label:"Generate embed code",color:"primary"},on:{click:function(e){return t.openModalGenerateCode()}}})],1)])]),o("div",{staticClass:"col-custom-2"},[t.value_option_choose_product?o("div",{staticClass:"q-pa-md"},[o("detail-product",{attrs:{id:t.value_option_choose_product}})],1):t._e()]),o("q-dialog",{attrs:{"transition-show":"scale","transition-hide":"scale"},model:{value:t.open_modal_generate_js,callback:function(e){t.open_modal_generate_js=e},expression:"open_modal_generate_js"}},[o("q-card",{staticClass:"bg-primary text-white",staticStyle:{"min-width":"40vw","max-width":"85vw"}},[o("q-card-actions",{staticClass:"section-header-detail-booking"},[t._v("Generate code")]),o("q-card-actions",{staticClass:"bg-white text-black"},[o("el-input",{staticClass:"input-generate-code",attrs:{id:"input-embed-code-id",type:"textarea",rows:5},model:{value:t.text_code_js_generate,callback:function(e){t.text_code_js_generate=e},expression:"text_code_js_generate"}})],1),o("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"left"}},[o("div",[o("q-btn",{attrs:{label:"Copy embed code",color:"primary",size:"md"},on:{click:function(e){return t.copyEmbedCode()}}})],1)])],1)],1)],1)},n=[],i=(o("8e6e"),o("8a81"),o("ac6a"),o("cadf"),o("456d"),o("6b54"),o("06db"),o("a481"),o("c47a")),r=o.n(i),c=o("2f62"),s=o("2161"),d=o("241e6");function l(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,a)}return o}function p(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(o,!0).forEach((function(e){r()(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(o).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var u={name:"product-page-widget-page",computed:p({},Object(c["b"])({current_user_logged_info:"login/getUserLoggedInfo",current_branch_id:"login/getCurrentBranchId"})),watch:{current_branch_id:function(t){!isNaN(t)&&parseInt(t)>0&&this.getListProduct()}},filters:{},data:function(){return{open_modal_generate_js:!1,text_code_js_generate:"",value_option_choose_product:null,list_product:[],loading_main:!1,info_product_detail:null}},methods:{copyEmbedCode:function(){var t=document.querySelector("#input-embed-code-id");t.select();try{document.execCommand("copy")}catch(e){}},getInfoProduct:function(){var t=this,e=this.value_option_choose_product;if(e){var o=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/Products/GetProductDetail/"+e,{headers:{Authorization:"Bearer "+o,"Content-Type":"application/json"}}).then((function(e){t.info_product_detail=e.data})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}},changeProductSelected:function(){var t=this;t.getInfoProduct()},formatNameProduct:function(t){var e=t.toLowerCase().replace(/ /g,"-");return e},openModalGenerateCode:function(){var t=this;if(this.text_code_js_generate="",this.info_product_detail){var e=t.formatNameProduct(t.info_product_detail.title),o=window.btoa(t.info_product_detail.id.toString()),a="https://admin-travel.netlify.app/#/tours/"+e+"/"+o,n='<div class="calendarFisheye" target="'+a+'"></div><div class="productContentWrapperFishEye"></div><script type="text/javascript" src="'+d["a"]+'statics/js/generate_calendar.js"><\/script>';this.text_code_js_generate=n,this.open_modal_generate_js=!0}},resetStyleButton:function(){this.option_style_button={label_text:"Book now",button_radius:5,button_padding:"10px 20px",box_shadow:!1,font_size:16,button_color:"#027BE3",text_color:"#ffffff"}},getListProduct:function(){var t=this,e=localStorage.getItem("user_token_fisheye_client");-1!=this.current_branch_id&&(t.loading_main=!0,this.$axios.get("/api/Products/GetProductList?BranchId="+t.current_branch_id+"&Status=1&PageSize=1000",{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}}).then((function(e){t.list_product=e.data.products,t.loading_main=!1})).catch((function(e){t.loading_main=!1,e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})})))}},mounted:function(){this.getListProduct()},components:{"detail-product":s["default"]}},_=u,g=(o("1a2f"),o("2877")),f=o("fe09"),h=Object(g["a"])(_,a,n,!1,null,null,null);e["default"]=h.exports;h.options.components=Object.assign({QBtn:f["c"],QDialog:f["k"],QCard:f["e"],QCardActions:f["f"]},h.options.components||{})},b01b:function(t,e,o){}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["249bcead"],{"07bc":function(e,t,i){},"0d39":function(e,t,i){},1331:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),o=(0,a.regex)("integer",/^-?[0-9]*$/);t.default=o},"241e6":function(e,t,i){"use strict";var a="https://admin-travel.netlify.app/";t["a"]=a},"2a12":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),o=function(e){return(0,a.withParams)({type:"maxLength",max:e},(function(t){return!(0,a.req)(t)||(0,a.len)(t)<=e}))};t.default=o},3360:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),o=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,a.withParams)({type:"and"},(function(){for(var e=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t.length>0&&t.reduce((function(t,i){return t&&i.apply(e,a)}),!0)}))};t.default=o},"3a54":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),o=(0,a.regex)("alphaNum",/^[a-zA-Z0-9]*$/);t.default=o},"45b8":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),o=(0,a.regex)("numeric",/^[0-9]*$/);t.default=o},"46bc":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),o=function(e){return(0,a.withParams)({type:"maxValue",max:e},(function(t){return!(0,a.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+e}))};t.default=o},"4d28":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.loading_main,expression:"loading.loading_main"}],staticClass:"list-booking-desktop-wrapper view-on-desk-top"},[i("div",{staticClass:"q-pa-md"},[i("div",{staticClass:"title-and-controller flex items-center"},[i("div",{staticClass:"text-title"},[e._v("\n          Operations\n          "),i("q-icon",{staticClass:"q-mr-xs q-ml-xs",attrs:{dense:"",name:"keyboard_arrow_right",size:"sm"}}),e.today_tour?i("span",[e._v("Today tour")]):i("span",[e._v("Tour list")])],1),i("q-space")],1)]),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.loading_list_tour,expression:"loading.loading_list_tour"}],staticClass:"list-booking q-pl-md q-pr-md q-pb-md"},[i("q-table",{staticClass:"table-list-tour",attrs:{data:e.list_tours,columns:e.columns,"row-key":"stt",pagination:e.pagination,separator:"cell","rows-per-page-options":[3,5,7,10,15,20,25,50]},on:{"update:pagination":function(t){e.pagination=t},request:e.onRequest},scopedSlots:e._u([{key:"header-cell",fn:function(t){return[i("q-th",{attrs:{props:t}},["no"==t.col.unique?i("div",[i("div",{staticClass:"text-custom-header",staticStyle:{"min-width":"20px"},domProps:{innerHTML:e._s(e.getNameHeaderCrop(t.col.label))}})]):"travelDate"==t.col.unique?i("div",[i("div",{staticClass:"text-custom-header",staticStyle:{"min-width":"150px"}},[e._v(e._s(t.col.label))]),e.today_tour?i("div",{staticStyle:{"line-height":"28px"}},[e._v(e._s(e._f("formatDateSystem2")(new Date))+"\n              ")]):i("div",[i("picker-filter",{attrs:{id:"picker-custom",noClearButton:!0,formatted:"l",autoClose:!0,noShortcuts:!0,noHeader:!0,"no-label":!0,range:!0,format:"DD/MM/YYYY",color:"#027BE3"},model:{value:e.info_filter_tour.date_range,callback:function(t){e.$set(e.info_filter_tour,"date_range",t)},expression:"info_filter_tour.date_range"}})],1)]):"aliasName"==t.col.unique?i("div",[i("div",{staticClass:"text-custom-header",staticStyle:{"min-width":"190px"},domProps:{innerHTML:e._s(e.getNameHeaderCrop(t.col.label))}})]):"priceOptionName"==t.col.unique?i("div",[i("div",{staticClass:"text-custom-header",staticStyle:{"min-width":"90px"}},[e._v(e._s(t.col.label))])]):"groupBooking"==t.col.unique?i("div",[i("div",{staticClass:"text-custom-header"},[e._v(e._s(t.col.label))]),i("div",[i("el-select",{attrs:{size:"mini",placeholder:"Choose Group booking","popper-class":"select-status-new-booking"},on:{change:function(t){return e.getListTour()}},model:{value:e.info_filter_tour.group_booking,callback:function(t){e.$set(e.info_filter_tour,"group_booking",t)},expression:"info_filter_tour.group_booking"}},e._l(e.options_group_booking,(function(e){return i("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)]):"startTime"==t.col.unique?i("div",[i("div",{staticClass:"text-custom-header",staticStyle:{"min-width":"65px"}},[e._v(e._s(t.col.label))]),i("div",[i("el-select",{attrs:{size:"mini",placeholder:"Choose start time","popper-class":"select-status-new-booking"},on:{change:function(t){return e.getListTour()}},model:{value:e.info_filter_tour.start_time,callback:function(t){e.$set(e.info_filter_tour,"start_time",t)},expression:"info_filter_tour.start_time"}},e._l(e.options_range_time_filter,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]):"productCode"==t.col.unique?i("div",[i("div",{staticClass:"text-custom-header",staticStyle:{"min-width":"120px"}},[e._v(e._s(t.col.label))]),i("div",[i("el-input",{attrs:{placeholder:"Enter product code",size:"mini"},on:{blur:function(t){return e.getListTour()}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getListTour()}},model:{value:e.info_filter_tour.product_code,callback:function(t){e.$set(e.info_filter_tour,"product_code",t)},expression:"info_filter_tour.product_code"}})],1)]):"productTitle"==t.col.unique?i("div",[i("div",{staticClass:"text-custom-header",staticStyle:{"min-width":"140px"}},[e._v(e._s(t.col.label))]),i("div",[i("el-input",{attrs:{placeholder:"Enter product name",size:"mini"},on:{blur:function(t){return e.getListTour()}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getListTour()}},model:{value:e.info_filter_tour.product_name,callback:function(t){e.$set(e.info_filter_tour,"product_name",t)},expression:"info_filter_tour.product_name"}})],1)]):"transportation"==t.col.unique?i("div",[i("div",{staticClass:"text-custom-header"},[e._v(e._s(t.col.label))]),i("div",[i("el-select",{attrs:{size:"mini",placeholder:"Choose transportation","popper-class":"select-status-new-booking"},on:{change:function(t){return e.getListTour()}},model:{value:e.info_filter_tour.transportation,callback:function(t){e.$set(e.info_filter_tour,"transportation",t)},expression:"info_filter_tour.transportation"}},e._l(e.options_main_transportation_filter,(function(e){return i("el-option",{key:e.id,attrs:{label:e.plateNumber,value:e.id}})})),1)],1)]):"tourGuides"==t.col.unique?i("div",[i("div",{staticClass:"text-custom-header"},[e._v(e._s(t.col.label))]),i("div",[i("el-select",{staticClass:"w-100",attrs:{size:"mini",multiple:"",placeholder:"Select Tour Guide","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.getListTour()}},model:{value:e.info_filter_tour.tour_guide,callback:function(t){e.$set(e.info_filter_tour,"tour_guide",t)},expression:"info_filter_tour.tour_guide"}},e._l(e.list_tour_guide,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1)]):"drivers"==t.col.unique?i("div",[i("div",{staticClass:"text-custom-header"},[e._v(e._s(t.col.label))]),i("div",[i("el-select",{staticClass:"w-100",attrs:{size:"mini",multiple:"",placeholder:"Select driver","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.getListTour()}},model:{value:e.info_filter_tour.drivers,callback:function(t){e.$set(e.info_filter_tour,"drivers",t)},expression:"info_filter_tour.drivers"}},e._l(e.list_driver,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1)]):"leaders"==t.col.unique?i("div",[i("div",{staticClass:"text-custom-header"},[e._v(e._s(t.col.label))]),i("div",[i("el-select",{staticClass:"w-100",attrs:{size:"mini",multiple:"",placeholder:"Select leaders","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.getListTour()}},model:{value:e.info_filter_tour.leaders,callback:function(t){e.$set(e.info_filter_tour,"leaders",t)},expression:"info_filter_tour.leaders"}},e._l(e.list_leader,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1)]):"hostesses"==t.col.unique?i("div",[i("div",{staticClass:"text-custom-header"},[e._v(e._s(t.col.label))]),i("div",[i("el-select",{staticClass:"w-100",attrs:{size:"mini",multiple:"",placeholder:"Select hostesses","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.getListTour()}},model:{value:e.info_filter_tour.hostesses,callback:function(t){e.$set(e.info_filter_tour,"hostesses",t)},expression:"info_filter_tour.hostesses"}},e._l(e.list_hostess,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1)]):"captains"==t.col.unique?i("div",[i("div",{staticClass:"text-custom-header"},[e._v(e._s(t.col.label))]),i("div",[i("el-select",{staticClass:"w-100",attrs:{size:"mini",multiple:"",placeholder:"Select captains","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.getListTour()}},model:{value:e.info_filter_tour.captains,callback:function(t){e.$set(e.info_filter_tour,"captains",t)},expression:"info_filter_tour.captains"}},e._l(e.list_captains,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1)]):"supporters"==t.col.unique?i("div",[i("div",{staticClass:"text-custom-header"},[e._v(e._s(t.col.label))]),i("div",[i("el-select",{staticClass:"w-100",attrs:{size:"mini",multiple:"",placeholder:"Select supporters","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.getListTour()}},model:{value:e.info_filter_tour.supporters,callback:function(t){e.$set(e.info_filter_tour,"supporters",t)},expression:"info_filter_tour.supporters"}},e._l(e.list_supportes,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1)]):"helpers"==t.col.unique?i("div",[i("div",{staticClass:"text-custom-header"},[e._v(e._s(t.col.label))]),i("div",[i("el-select",{staticClass:"w-100",attrs:{size:"mini",multiple:"","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.getListTour()}},model:{value:e.info_filter_tour.helpers,callback:function(t){e.$set(e.info_filter_tour,"helpers",t)},expression:"info_filter_tour.helpers"}},e._l(e.list_helper,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1)]):"meals"==t.col.unique?i("div",[i("div",{staticClass:"text-custom-header"},[e._v(e._s(t.col.label))]),i("div",[i("el-select",{staticClass:"w-100",attrs:{disabled:!e.is_update_tab_1,size:"mini",multiple:"",placeholder:"Select meals","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.getListTour()}},model:{value:e.info_filter_tour.meals,callback:function(t){e.$set(e.info_filter_tour,"meals",t)},expression:"info_filter_tour.meals"}},e._l(e.list_meals,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1)]):"others"==t.col.unique?i("div",[i("div",{staticClass:"text-custom-header"},[e._v(e._s(t.col.label))]),i("div",[i("el-select",{staticClass:"w-100",attrs:{disabled:!e.is_update_tab_1,size:"mini",multiple:"",placeholder:"Select others","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.getListTour()}},model:{value:e.info_filter_tour.others,callback:function(t){e.$set(e.info_filter_tour,"others",t)},expression:"info_filter_tour.others"}},e._l(e.list_others,(function(e){return i("el-option",{key:e.id,attrs:{label:e.nicknamePIC,value:e.nicknamePIC}})})),1)],1)]):"totalExpense"==t.col.unique?i("div",[e.is_role_tour_guide?e._e():i("div",[i("div",{staticClass:"text-custom-header"},[e._v(e._s(t.col.label))]),i("div",{staticClass:"temp-space"})])]):i("div",[i("div",{staticClass:"text-custom-header",staticStyle:{"min-width":"100px"},domProps:{innerHTML:e._s(e.getNameHeaderCrop(t.col.label))}})])])]}},{key:"body",fn:function(t){return[i("q-tr",{attrs:{props:t}},[i("q-td",{key:"no",staticStyle:{width:"50px"},attrs:{props:t}},[i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.stt))])]),i("q-td",{key:"travelDate",staticStyle:{width:"210px"},attrs:{props:t}},[i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(e._f("formatDateSystem")(t.row.travelDate))+"\n              ")])]),i("q-td",{key:"aliasName",staticStyle:{width:"210px"},attrs:{props:t}},[t.row.orders&&t.row.orders.length>0?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.aliasName)+"\n              ")]):e._e()]),i("q-td",{key:"priceOptionName",staticStyle:{width:"210px"},attrs:{props:t}},[t.row.orders&&t.row.orders.length>0?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.orders[0].priceOptionName)+"\n              ")]):e._e()]),i("q-td",{key:"groupBooking",staticStyle:{width:"200px"},attrs:{props:t}},[t.row.orders&&t.row.orders.length>0?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(e.getNameGroupBooking(t.row.orders[0].groupBooking))+"\n              ")]):e._e()]),i("q-td",{key:"startTime",staticStyle:{width:"200px"},attrs:{props:t}},[t.row.orders&&t.row.orders.length>0?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.orders[0].startTime)+"\n              ")]):e._e()]),i("q-td",{key:"endTime",staticStyle:{width:"200px"},attrs:{props:t}},[t.row.orders&&t.row.orders.length>0?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.orders[0].endTime)+"\n              ")]):e._e()]),i("q-td",{key:"totalExpense",staticStyle:{"min-width":"200px","max-width":"200px"},attrs:{props:t}},[e.is_role_tour_guide?e._e():i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(e._f("currency")(t.row.totalExpense,e.option_filter))+"\n              ")])]),i("q-td",{key:"meals",staticStyle:{"min-width":"250px","max-width":"250px"},attrs:{props:t}},[t.row.meals?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.meals.join(", "))+"\n              ")]):i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}})]),i("q-td",{key:"productTitle",staticStyle:{width:"210px"},attrs:{props:t}},[t.row.orders&&t.row.orders.length>0?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.productTitle)+"\n              ")]):e._e()]),i("q-td",{key:"productCode",staticStyle:{width:"210px"},attrs:{props:t}},[t.row.orders&&t.row.orders.length>0?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.productCode)+"\n              ")]):e._e()]),i("q-td",{key:"transportation",staticStyle:{width:"200px"},attrs:{props:t}},[t.row.orders&&t.row.orders.length>0?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.orders[0].transportation)+"\n              ")]):e._e()]),i("q-td",{key:"tourGuides",staticStyle:{"min-width":"250px","max-width":"250px"},attrs:{props:t}},[t.row.tourGuides?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.tourGuides.join(", "))+"\n              ")]):i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}})]),i("q-td",{key:"drivers",staticStyle:{"min-width":"250px","max-width":"250px"},attrs:{props:t}},[t.row.drivers?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.drivers.join(", "))+"\n              ")]):i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}})]),i("q-td",{key:"leaders",staticStyle:{"min-width":"250px","max-width":"250px"},attrs:{props:t}},[t.row.leaders?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.leaders.join(", "))+"\n              ")]):i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}})]),i("q-td",{key:"hostesses",staticStyle:{"min-width":"250px","max-width":"250px"},attrs:{props:t}},[t.row.hostesses?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.hostesses.join(", "))+"\n              ")]):i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}})]),i("q-td",{key:"captains",staticStyle:{"min-width":"250px","max-width":"250px"},attrs:{props:t}},[t.row.captions?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.captions.join(", "))+"\n              ")]):i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}})]),i("q-td",{key:"supporters",staticStyle:{"min-width":"250px","max-width":"250px"},attrs:{props:t}},[t.row.supporters?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.supporters.join(", "))+"\n              ")]):i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}})]),i("q-td",{key:"helpers",staticStyle:{"min-width":"250px","max-width":"250px"},attrs:{props:t}},[t.row.helpers?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.helpers.join(", "))+"\n              ")]):i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}})]),i("q-td",{key:"others",staticStyle:{"min-width":"250px","max-width":"250px"},attrs:{props:t}},[t.row.others?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.others.join(", "))+"\n              ")]):i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}})]),i("q-td",{key:"guestQuantity",staticStyle:{width:"200px"},attrs:{props:t}},[t.row.orders&&t.row.orders.length>0?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.orders[0].guestQuantity)+"\n              ")]):e._e()]),i("q-td",{key:"adultNumber",staticStyle:{width:"200px"},attrs:{props:t}},[t.row.orders&&t.row.orders.length>0?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.orders[0].adultNumber)+"\n              ")]):e._e()]),i("q-td",{key:"childNumber",staticStyle:{width:"200px"},attrs:{props:t}},[t.row.orders&&t.row.orders.length>0?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.orders[0].childNumber)+"\n              ")]):e._e()]),i("q-td",{key:"infantNumber",staticStyle:{width:"200px"},attrs:{props:t}},[t.row.orders&&t.row.orders.length>0?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.orders[0].infantNumber)+"\n              ")]):e._e()]),i("q-td",{key:"youthNumber",staticStyle:{width:"200px"},attrs:{props:t}},[t.row.orders&&t.row.orders.length>0?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.orders[0].youthNumber)+"\n              ")]):e._e()]),i("q-td",{key:"seniorNumber",staticStyle:{width:"200px"},attrs:{props:t}},[t.row.orders&&t.row.orders.length>0?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.orders[0].seniorNumber)+"\n              ")]):e._e()]),i("q-td",{key:"duration",staticStyle:{width:"200px"},attrs:{props:t}},[t.row.orders&&t.row.orders.length>0?i("div",{staticClass:"data-wrapper",on:{click:function(i){return e.openModalViewTour(t.row)}}},[e._v(e._s(t.row.orders[0].duration)+"\n              ")]):e._e()])],1)]}},{key:"bottom-row",fn:function(){return[i("q-tr",{staticStyle:{"background-color":"antiquewhite"}},[i("q-td",{attrs:{colspan:"1"}},[i("div",{staticClass:"cell-total"},[e._v("Total")])]),i("q-td",{attrs:{colspan:"1"}},[i("div",{staticClass:"cell-total"})]),i("q-td",{attrs:{colspan:"1"}},[i("div",{staticClass:"cell-total"})]),i("q-td",{attrs:{colspan:"1"}},[i("div",{staticClass:"cell-total"})]),i("q-td",{attrs:{colspan:"3"}},[i("div",{staticClass:"cell-total"})]),i("q-td",{attrs:{colspan:"1"}},[e.is_role_tour_guide?e._e():i("div",{staticClass:"cell-total"},[e._v(e._s(e._f("currency")(e.data_total_row.total_expense,e.option_filter))+"\n              ")])]),i("q-td",{attrs:{colspan:"12"}},[i("div",{staticClass:"cell-total"})]),i("q-td",{attrs:{colspan:"1"}},[i("div",{staticClass:"cell-total"},[e._v(e._s(e._f("currency")(e.data_total_row.guest_quantity,e.option_filter))+"\n              ")])]),i("q-td",{attrs:{colspan:"1"}},[i("div",{staticClass:"cell-total"},[e._v(e._s(e._f("currency")(e.data_total_row.adult_number,e.option_filter)))])]),i("q-td",{attrs:{colspan:"1"}},[i("div",{staticClass:"cell-total"},[e._v(e._s(e._f("currency")(e.data_total_row.child_number,e.option_filter)))])]),i("q-td",{attrs:{colspan:"1"}},[i("div",{staticClass:"cell-total"},[e._v(e._s(e._f("currency")(e.data_total_row.infant_number,e.option_filter)))])]),i("q-td",{attrs:{colspan:"1"}},[i("div",{staticClass:"cell-total"},[e._v(e._s(e._f("currency")(e.data_total_row.youth_number,e.option_filter)))])]),i("q-td",{attrs:{colspan:"1"}},[i("div",{staticClass:"cell-total"},[e._v(e._s(e._f("currency")(e.data_total_row.senior_number,e.option_filter)))])])],1)]},proxy:!0}])})],1),i("q-dialog",{attrs:{"transition-show":"scale","transition-hide":"scale"},model:{value:e.open_modal_view_detail,callback:function(t){e.open_modal_view_detail=t},expression:"open_modal_view_detail"}},[i("q-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading_edit_tour,expression:"loading_edit_tour"}],staticClass:"bg-primary text-white dialog-view-detail-tour",staticStyle:{"min-width":"60vw","max-width":"85vw"}},[i("q-card-actions",{staticClass:"section-header-detail-booking"},[e._v("View Detail Tour")]),i("q-card-actions",{staticClass:"bg-white text-black"},[i("q-card",{staticClass:"w-100"},[i("q-tabs",{attrs:{dense:"","active-color":"primary",align:"left"},model:{value:e.tab_view_tour,callback:function(t){e.tab_view_tour=t},expression:"tab_view_tour"}},[e.is_read_tab_1?i("q-tab",{attrs:{name:"tour",label:"Tour"}}):e._e(),e.is_read_tab_2?i("q-tab",{attrs:{name:"guide_tracking",label:"Guide tracking"}}):e._e(),e.is_read_tab_3?i("q-tab",{attrs:{name:"expense_custom",label:"Expense Custom"}}):e._e(),e.is_read_tab_4?i("q-tab",{attrs:{name:"guide_expense",label:"Guide Expense"}}):e._e()],1),i("q-separator"),i("q-tab-panels",{staticClass:"bg-white text-black",attrs:{animated:""},model:{value:e.tab_view_tour,callback:function(t){e.tab_view_tour=t},expression:"tab_view_tour"}},[e.is_read_tab_1?i("q-tab-panel",{attrs:{name:"tour"}},[i("div",{staticClass:"view-tab-tour-wrapper"},[i("div",{staticClass:"tour-guide-wrapper"},[i("div",{staticClass:"title-name"},[e._v("Tour infomation")]),i("div",{staticClass:"content-tour-guide flex q-mt-sm",staticStyle:{width:"600px"}},[i("div",{staticClass:"item-info"},[e._v("Tour order")]),i("div",{staticClass:"item-info"},[e._v("\n                        "+e._s(e._f("getTourOrder")(e.current_tour_select_to_view.groupBooking))+"\n                      ")]),i("div",{staticClass:"item-info"},[e._v("Tour date")]),i("div",{staticClass:"item-info"},[e._v("\n                        "+e._s(e._f("formatDateSystem")(e.current_tour_select_to_view.travelDate))+"\n                      ")]),i("div",{staticClass:"item-info"},[e._v("Tour name")]),i("div",{staticClass:"item-info"},[e._v(e._s(e.current_tour_select_to_view.productTitle))]),i("div",{staticClass:"item-info"},[e._v("Price option")]),e.current_tour_select_to_view.orders&&e.current_tour_select_to_view.orders[0]?i("div",{staticClass:"item-info"},[e._v("\n                        "+e._s(e.current_tour_select_to_view.orders[0].priceOptionName)+"\n                      ")]):e._e(),i("div",{staticClass:"item-info"},[e._v("Main transportation")]),e.current_tour_select_to_view.orders&&e.current_tour_select_to_view.orders.length>0?i("div",{staticClass:"item-info"},[e._v("\n                        "+e._s(e.current_tour_select_to_view.orders[0].transportation)+"\n                      ")]):e._e(),i("div",{staticClass:"item-info"},[e._v("Summary")]),e.current_tour_select_to_view.orders?i("div",{staticClass:"item-info"},[e._v("\n                        ["+e._s(e.current_tour_select_to_view.orders.length)+"]\n                        bookings, ["+e._s(e._f("getTotalGuess")(e.current_tour_select_to_view))+"] pax\n                      ")]):e._e()]),i("div",{staticClass:"q-mt-md title-name"},[e._v("Tour guide")]),i("div",{staticClass:"list-personel-wrapper q-mt-sm"},[e._l(e.current_tour_select_to_view.tourUsers,(function(t,a){return i("div",{key:a,staticClass:"item-list-personel"},[i("q-chip",{attrs:{removable:!e.is_role_tour_guide,color:"primary","text-color":"white"},on:{remove:function(i){return e.removePersonel(t)}}},[e._v(e._s(t.user.fullName)+"\n                        ")])],1)})),i("div",{staticClass:"q-ml-md",staticStyle:{width:"initial"}},[e.is_update_tab_1&&!e.is_role_tour_guide?i("q-btn",{attrs:{icon:"add",color:"secondary",label:"Add more","no-caps":"",size:"md"},on:{click:function(t){return e.triggerOpenDialogAddPersonal()}}}):e._e()],1)],2),i("div",{staticClass:"q-mt-md title-name"},[e._v("Tour note")]),i("div",{staticClass:"q-mt-sm"},[i("el-input",{attrs:{disabled:!e.is_update_tab_1||e.is_role_tour_guide,type:"textarea",rows:2,placeholder:"Please input tour note"},on:{blur:function(t){return e.blurInputStartingPoint()}},model:{value:e.current_tour_select_to_view.startingPoint,callback:function(t){e.$set(e.current_tour_select_to_view,"startingPoint",t)},expression:"current_tour_select_to_view.startingPoint"}})],1),i("div",{staticClass:"q-mt-md title-name"},[e._v("Booking List")]),i("div",{staticClass:"q-mt-sm"},[i("q-table",{staticClass:"table-list-order-in-tour",attrs:{data:e.current_tour_select_to_view.orders,columns:e.columns_view_order_in_tour,"row-key":"stt",separator:"cell","hide-bottom":""},scopedSlots:e._u([{key:"body",fn:function(t){return[i("q-tr",{attrs:{props:t}},[i("q-td",{key:"view",attrs:{props:t}},[e.is_role_tour_guide?e._e():i("div",{staticClass:"text-center",staticStyle:{width:"40px"}},[i("q-btn",{attrs:{size:"xs",round:"",color:"primary",icon:"remove_red_eye"},on:{click:function(i){return e.viewDetailBooking(t.row)}}})],1)]),i("q-td",{key:"no",staticStyle:{width:"200px"},attrs:{props:t}},[i("div",{staticClass:"data-wrapper"},[e._v(e._s(t.row.stt))])]),i("q-td",{key:"pickupOrder",staticStyle:{width:"210px"},attrs:{props:t}},[i("div",{staticClass:"data-wrapper"},[e._v(e._s(t.row.pickupOrder))])]),i("q-td",{key:"bookingNumber",staticStyle:{width:"210px"},attrs:{props:t}},[i("div",{staticClass:"data-wrapper"},[e._v(e._s(t.row.bookingNumber))])]),i("q-td",{key:"guestInfomation",staticStyle:{width:"210px"},attrs:{props:t}},[i("div",{staticClass:"data-wrapper"},[e._v(e._s(t.row.guestInfomation))])]),i("q-td",{key:"pickUp",staticStyle:{width:"210px"},attrs:{props:t}},[i("div",{staticClass:"data-wrapper"},[e._v(e._s(t.row.pickUp))])]),i("q-td",{key:"notes",staticStyle:{width:"210px"},attrs:{props:t}},[i("div",{staticClass:"data-wrapper"},[e._v(e._s(t.row.notes))])]),i("q-td",{key:"remaining",staticStyle:{width:"210px"},attrs:{props:t}},[i("div",{staticClass:"data-wrapper"},[e._v(e._s(t.row.remaining))])])],1)]}}],null,!1,3507968667)})],1),i("div",{staticClass:"q-mt-md title-name"},[e._v("Service")]),i("div",{staticClass:"info-people-service-wrapper q-mt-md"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-4 q-pr-lg"},[i("div",[e._v("Tour guide")]),i("el-select",{staticClass:"w-100",attrs:{filterable:"",disabled:!e.is_update_tab_1||e.is_role_tour_guide,size:"mini",multiple:"",placeholder:"Select Tour Guide","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.changeSelectTourGuide(e.current_tour_select_to_view)}},model:{value:e.current_tour_select_to_view.tourGuides,callback:function(t){e.$set(e.current_tour_select_to_view,"tourGuides",t)},expression:"current_tour_select_to_view.tourGuides"}},e._l(e.list_tour_guide,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1),i("div",{staticClass:"col-4 q-pr-lg"},[i("div",[e._v("Drivers")]),i("el-select",{staticClass:"w-100",attrs:{filterable:"",disabled:!e.is_update_tab_1||e.is_role_tour_guide,size:"mini",multiple:"",placeholder:"Select driver","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.changeSelectDriver(e.current_tour_select_to_view)}},model:{value:e.current_tour_select_to_view.drivers,callback:function(t){e.$set(e.current_tour_select_to_view,"drivers",t)},expression:"current_tour_select_to_view.drivers"}},e._l(e.list_driver,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1),i("div",{staticClass:"col-4"},[i("div",[e._v("Leader")]),i("el-select",{staticClass:"w-100",attrs:{filterable:"",disabled:!e.is_update_tab_1||e.is_role_tour_guide,size:"mini",multiple:"",placeholder:"Select leaders","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.changeSelectLeader(e.current_tour_select_to_view)}},model:{value:e.current_tour_select_to_view.leaders,callback:function(t){e.$set(e.current_tour_select_to_view,"leaders",t)},expression:"current_tour_select_to_view.leaders"}},e._l(e.list_leader,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1)]),i("div",{staticClass:"row q-mt-md"},[i("div",{staticClass:"col-4 q-pr-lg"},[i("div",[e._v("Hostesses")]),i("el-select",{staticClass:"w-100",attrs:{filterable:"",disabled:!e.is_update_tab_1||e.is_role_tour_guide,size:"mini",multiple:"",placeholder:"Select hostesses","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.changeSelectHostess(e.current_tour_select_to_view)}},model:{value:e.current_tour_select_to_view.hostesses,callback:function(t){e.$set(e.current_tour_select_to_view,"hostesses",t)},expression:"current_tour_select_to_view.hostesses"}},e._l(e.list_hostess,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1),i("div",{staticClass:"col-4 q-pr-lg"},[i("div",[e._v("Captains")]),i("el-select",{staticClass:"w-100",attrs:{filterable:"",disabled:!e.is_update_tab_1||e.is_role_tour_guide,size:"mini",multiple:"",placeholder:"Select captains","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.changeSelectCaptains(e.current_tour_select_to_view)}},model:{value:e.current_tour_select_to_view.captions,callback:function(t){e.$set(e.current_tour_select_to_view,"captions",t)},expression:"current_tour_select_to_view.captions"}},e._l(e.list_captains,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1),i("div",{staticClass:"col-4"},[i("div",[e._v("Supporters")]),i("el-select",{staticClass:"w-100",attrs:{filterable:"",disabled:!e.is_update_tab_1||e.is_role_tour_guide,size:"mini",multiple:"",placeholder:"Select supporters","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.changeSelectSupporter(e.current_tour_select_to_view)}},model:{value:e.current_tour_select_to_view.supporters,callback:function(t){e.$set(e.current_tour_select_to_view,"supporters",t)},expression:"current_tour_select_to_view.supporters"}},e._l(e.list_supportes,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1)]),i("div",{staticClass:"row q-mt-md"},[i("div",{staticClass:"col-4 q-pr-lg"},[i("div",[e._v("Operation in-charge")]),i("el-select",{staticClass:"w-100",attrs:{filterable:"",disabled:!e.is_update_tab_1||e.is_role_tour_guide,size:"mini",multiple:"","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.changeSelectHelper(e.current_tour_select_to_view)}},model:{value:e.current_tour_select_to_view.helpers,callback:function(t){e.$set(e.current_tour_select_to_view,"helpers",t)},expression:"current_tour_select_to_view.helpers"}},e._l(e.list_helper,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1),i("div",{staticClass:"col-4 q-pr-lg"},[i("div",[e._v("Meals")]),i("el-select",{staticClass:"w-100",attrs:{filterable:"",disabled:!e.is_update_tab_1||e.is_role_tour_guide,size:"mini",multiple:"",placeholder:"Select meals","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.changeSelectMeals(e.current_tour_select_to_view)}},model:{value:e.current_tour_select_to_view.meals,callback:function(t){e.$set(e.current_tour_select_to_view,"meals",t)},expression:"current_tour_select_to_view.meals"}},e._l(e.list_meals,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1),i("div",{staticClass:"col-4 q-pr-lg"},[i("div",[e._v("Others")]),i("el-select",{staticClass:"w-100",attrs:{filterable:"",disabled:!e.is_update_tab_1||e.is_role_tour_guide,size:"mini",multiple:"",placeholder:"Select others","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.changeSelectOthers(e.current_tour_select_to_view)}},model:{value:e.current_tour_select_to_view.others,callback:function(t){e.$set(e.current_tour_select_to_view,"others",t)},expression:"current_tour_select_to_view.others"}},e._l(e.list_others,(function(e){return i("el-option",{key:e.id,attrs:{label:e.nicknamePIC,value:e.nicknamePIC}})})),1)],1)])])])])]):e._e(),e.is_read_tab_2?i("q-tab-panel",{attrs:{name:"guide_tracking"}},[i("div",{staticClass:"guide-tracking-wrapper"},[i("div",{staticClass:"item-guide-tracking"},[i("b",[e._v("Event")])]),i("div",{staticClass:"item-guide-tracking"},[i("b",[e._v("Status")])]),i("div",{staticClass:"item-guide-tracking"},[i("b",[e._v("Last update by")])]),i("div",{staticClass:"item-guide-tracking"},[i("b",[e._v("Date & Time Update")])]),e._l(e.current_tour_select_to_view.finalTourGuideTrackings,(function(t,a){return i("div",{key:a,staticClass:"guide-tracking-wrapper"},[i("div",{staticClass:"item-guide-tracking"},[e._v(e._s(t.title))]),i("div",{staticClass:"item-guide-tracking"},["finishtour"==t.name?i("q-checkbox",{attrs:{disable:!e.user_can_check_finish_tour||!e.is_update_tab_2,dense:""},on:{input:function(i){return e.changeStatusGuideTracking(t)}},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}}):i("q-checkbox",{attrs:{disable:!e.is_update_tab_2,dense:""},on:{input:function(i){return e.changeStatusGuideTracking(t)}},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})],1),i("div",{staticClass:"item-guide-tracking"},[e._v(e._s(t.last_update_by_name))]),i("div",{staticClass:"item-guide-tracking"},[e._v(e._s(e.formatDateSystem(t.time_update)))])])}))],2)]):e._e(),e.is_read_tab_3?i("q-tab-panel",{attrs:{name:"expense_custom"}},[i("div",{staticClass:"expense-custom-wrapper"},[i("div",{staticClass:"basic-wrapper"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-5 q-pa-xs text-right"},[e._v("Tour expenses recorded by Office")]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"col-2 q-pa-xs text-right"},[e._v("\n                        "+e._s(e._f("currency")(e.current_tour_select_to_view.finalInfoTab3.expense_of_tour,e.option_filter))+"\n                      ")]):e._e()]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-5 q-pa-xs text-right"},[e._v("Tour expenses recorded by Guide")]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"col-2 q-pa-xs text-right"},[e._v("\n                        "+e._s(e._f("currency")(e.current_tour_select_to_view.finalInfoTab3.expense_paid_by_guide,e.option_filter))+"\n                      ")]):e._e()]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-5 q-pa-xs text-right"},[e._v("Total Tour expenses")]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"col-2 q-pa-xs text-right border-top"},[e._v("\n                        "+e._s(e._f("currency")(e.current_tour_select_to_view.finalInfoTab3.expense_of_tour+e.current_tour_select_to_view.finalInfoTab3.expense_paid_by_guide,e.option_filter))+"\n                      ")]):e._e()]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-5 q-pa-xs text-right"},[e._v("Expense paid")]),e.current_tour_select_to_view.finalInfoTab3&&e.current_tour_select_to_view.finalInfoTab4?i("div",{staticClass:"col-2 q-pa-xs text-right"},[e._v("\n                        "+e._s(e._f("currency")(e.current_tour_select_to_view.finalInfoTab3.amount_paid+e.current_tour_select_to_view.finalInfoTab4.expense_paid_by_guide,e.option_filter))+"\n                      ")]):e._e()]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-5 q-pa-xs text-right"},[e._v("Balance")]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"col-2 q-pa-xs text-right border-top border-bottom"},[e._v("\n                        "+e._s(e._f("currency")(e.current_tour_select_to_view.finalInfoTab3.balance_tour,e.option_filter))+"\n                      ")]):e._e()]),i("div",{staticClass:"row",staticStyle:{"margin-top":"20px"}},[i("div",{staticClass:"col-5 q-pa-xs text-right"},[e._v("Advance to guide")]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"col-2 q-pa-xs text-right"},[i("money",e._b({staticClass:"input-number-custom-3 text-right",attrs:{disabled:!e.is_update_tab_3},nativeOn:{blur:function(t){return e.updateAdvanceToGuide(e.current_tour_select_to_view.finalInfoTab3.advance_to_guide)}},model:{value:e.current_tour_select_to_view.finalInfoTab3.advance_to_guide,callback:function(t){e.$set(e.current_tour_select_to_view.finalInfoTab3,"advance_to_guide",t)},expression:"\n                            current_tour_select_to_view.finalInfoTab3\n                              .advance_to_guide\n                          "}},"money",e.money_option,!1))],1):e._e()]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-5 q-pa-xs text-right"},[e._v("Actual expenses paid by guide")]),e.current_tour_select_to_view.finalInfoTab4?i("div",{staticClass:"col-2 q-pa-xs text-right"},[e._v("\n                        "+e._s(e._f("currency")(e.current_tour_select_to_view.finalInfoTab4.expense_paid_by_guide,e.option_filter))+"\n                      ")]):e._e()]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-5 q-pa-xs text-right"},[e._v("Advance difference")]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"col-2 q-pa-xs text-right border-top"},[e._v("\n                        "+e._s(e._f("currency")(e.current_tour_select_to_view.finalInfoTab3.different,e.option_filter))+"\n                      ")]):e._e()]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"row"},[e.current_tour_select_to_view.finalInfoTab3.different>=0?i("div",{staticClass:"col-5 q-pa-xs text-right"},[e._v("Refund to company\n                      ")]):i("div",{staticClass:"col-5 q-pa-xs text-right"},[e._v("Pay more to guide")]),i("div",{staticClass:"col-2 q-pa-xs text-right"},[i("money",e._b({staticClass:"input-number-custom-3 text-right",attrs:{disabled:!e.is_update_tab_3},nativeOn:{blur:function(t){return e.updateRefundTour(e.current_tour_select_to_view.finalInfoTab3.refund)}},model:{value:e.current_tour_select_to_view.finalInfoTab3.refund,callback:function(t){e.$set(e.current_tour_select_to_view.finalInfoTab3,"refund",t)},expression:"\n                            current_tour_select_to_view.finalInfoTab3.refund\n                          "}},"money",e.money_option,!1))],1)]):e._e(),i("div",{staticClass:"row"},[i("div",{staticClass:"col-5 q-pa-xs text-right"},[e._v("Advance balance")]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"col-2 q-pa-xs text-right border-top border-bottom"},[e._v("\n                        "+e._s(e._f("currency")(e.current_tour_select_to_view.finalInfoTab3.balance_advance,e.option_filter))+"\n                      ")]):e._e()])]),i("div",{staticClass:"session-expense-wrapper q-mt-md"},[i("div",{staticClass:"button-wrapper"},[e.is_update_tab_3?i("q-btn",{attrs:{icon:"add",size:"sm",color:"primary",label:"Add expense"},on:{click:function(t){return e.triggerOpenModalNewExpense()}}}):e._e()],1),i("div",{staticClass:"list-expense flex q-mt-md q-mb-md"},e._l(e.current_tour_select_to_view.infoExpenseListTab3,(function(t,a){return i("div",{key:a,staticClass:"item-expense q-mr-md q-mt-md"},[i("q-card",[i("q-card-section",[i("div",{staticClass:"flex justify-between"},[i("div",[e._v(e._s(t.fieldName))]),i("div",[e.is_update_tab_3?i("q-btn",{attrs:{flat:"",icon:"edit",size:"sm",color:"primary",round:""},on:{click:function(i){return e.triggerOpenModalEditExpenseTab3(t)}}}):e._e()],1)])]),i("q-separator"),i("q-card-section",[i("div",[e._v(e._s(t.dropdownValue))]),i("div",{staticClass:"q-mt-md row"},[i("div",{staticClass:"col-md-8 title-1"},[e._v("Amount after Tax")]),i("div",{staticClass:"col-md-4 text-right"},[e._v("\n                                "+e._s(e._f("currency")(t.afterTax,e.option_filter))+"\n                              ")])]),i("div",{staticClass:"row q-mt-sm"},[i("div",{staticClass:"col-md-8 title-1"},[e._v("Tax (%)")]),i("div",{staticClass:"col-md-4 text-right"},[e._v(e._s(100*t.taxPercent))])]),i("div",{staticClass:"row q-mt-sm"},[i("div",{staticClass:"col-md-8 title-1"},[e._v("Amount before Tax")]),t.beforeTax?i("div",{staticClass:"col-md-4 text-right"},[e._v("\n                                "+e._s(e._f("currency")(t.beforeTax,e.option_filter))+"\n                              ")]):e._e()]),i("div",{staticClass:"row q-mt-sm"},[i("div",{staticClass:"col-md-8 title-1"},[e._v("Paid Amount")]),i("div",{staticClass:"col-md-4 text-right"},[e._v("\n                                "+e._s(e._f("currency")(t.paidAmount,e.option_filter))+"\n                              ")])])])],1)],1)})),0)])])]):e._e(),e.is_read_tab_4?i("q-tab-panel",{attrs:{name:"guide_expense"}},[i("div",{staticClass:"guide-expense-wrapper"},[i("div",{staticClass:"basic-wrapper"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-5 q-pa-xs text-right"},[e._v("Advance to guide")]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"col-2 q-pa-xs text-right"},[i("money",e._b({staticClass:"input-number-custom-3 text-right",attrs:{disabled:!e.is_update_tab_4||e.is_role_tour_guide},nativeOn:{blur:function(t){return e.updateAdvanceToGuide(e.current_tour_select_to_view.finalInfoTab3.advance_to_guide)}},model:{value:e.current_tour_select_to_view.finalInfoTab3.advance_to_guide,callback:function(t){e.$set(e.current_tour_select_to_view.finalInfoTab3,"advance_to_guide",t)},expression:"\n                            current_tour_select_to_view.finalInfoTab3\n                              .advance_to_guide\n                          "}},"money",e.money_option,!1))],1):e._e()]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-5 q-pa-xs text-right"},[e._v("Actual expenses paid by guide")]),e.current_tour_select_to_view.finalInfoTab4?i("div",{staticClass:"col-2 q-pa-xs text-right"},[e._v("\n                        "+e._s(e._f("currency")(e.current_tour_select_to_view.finalInfoTab4.expense_paid_by_guide,e.option_filter))+"\n                      ")]):e._e()]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-5 q-pa-xs text-right"},[e._v("Advance difference")]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"col-2 q-pa-xs text-right border-top"},[e._v("\n                        "+e._s(e._f("currency")(e.current_tour_select_to_view.finalInfoTab3.different,e.option_filter))+"\n                      ")]):e._e()]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"row"},[e.current_tour_select_to_view.finalInfoTab3.different>=0?i("div",{staticClass:"col-5 q-pa-xs text-right"},[e._v("Refund to company\n                      ")]):i("div",{staticClass:"col-5 q-pa-xs text-right"},[e._v("Pay more to guide")]),i("div",{staticClass:"col-2 q-pa-xs text-right"},[i("money",e._b({staticClass:"input-number-custom-3 text-right",attrs:{disabled:!e.is_update_tab_4||e.is_role_tour_guide},nativeOn:{blur:function(t){return e.updateRefundTour(e.current_tour_select_to_view.finalInfoTab3.refund)}},model:{value:e.current_tour_select_to_view.finalInfoTab3.refund,callback:function(t){e.$set(e.current_tour_select_to_view.finalInfoTab3,"refund",t)},expression:"\n                            current_tour_select_to_view.finalInfoTab3.refund\n                          "}},"money",e.money_option,!1))],1)]):e._e(),i("div",{staticClass:"row"},[i("div",{staticClass:"col-5 q-pa-xs text-right"},[e._v("Advance balance")]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"col-2 q-pa-xs text-right border-top border-bottom"},[e._v("\n                        "+e._s(e._f("currency")(e.current_tour_select_to_view.finalInfoTab3.balance_advance,e.option_filter))+"\n                      ")]):e._e()])]),i("div",{staticClass:"session-expense-wrapper q-mt-md"},[i("div",{staticClass:"button-wrapper"},[e.is_update_tab_4?i("q-btn",{attrs:{icon:"add",size:"sm",color:"primary",label:"Add expense"},on:{click:function(t){return e.triggerOpenModalNewExpenseTab4()}}}):e._e()],1),i("div",{staticClass:"list-expense flex q-mt-md q-mb-md"},e._l(e.current_tour_select_to_view.infoExpenseListTab4,(function(t,a){return i("div",{key:a,staticClass:"item-expense q-mr-md"},[i("q-card",[i("q-card-section",[i("div",{staticClass:"flex justify-between"},[i("div",[e._v(e._s(t.fieldName))]),i("div",[e.is_update_tab_4?i("q-btn",{attrs:{flat:"",icon:"edit",size:"sm",color:"primary",round:""},on:{click:function(i){return e.triggerOpenModalEditExpenseTab4(t)}}}):e._e()],1)])]),i("q-separator"),i("q-card-section",[i("div",[e._v(e._s(t.dropdownValue))]),i("div",{staticClass:"q-mt-md row"},[i("div",{staticClass:"col-md-8 title-1"},[e._v("Amount after Tax")]),i("div",{staticClass:"col-md-4 text-right"},[e._v("\n                                "+e._s(e._f("currency")(t.afterTax,e.option_filter))+"\n                              ")])]),i("div",{staticClass:"row q-mt-sm"},[i("div",{staticClass:"col-md-8 title-1"},[e._v("Tax (%)")]),i("div",{staticClass:"col-md-4 text-right"},[e._v(e._s(100*t.taxPercent)+"\n                              ")])]),i("div",{staticClass:"row q-mt-sm"},[i("div",{staticClass:"col-md-8 title-1"},[e._v("Amount before Tax")]),t.beforeTax?i("div",{staticClass:"col-md-4 text-right"},[e._v("\n                                "+e._s(e._f("currency")(t.beforeTax,e.option_filter))+"\n                              ")]):e._e()])])],1)],1)})),0)])])]):e._e()],1)],1)],1),i("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[i("div",[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Done",color:"primary",size:"sm",icon:"check"}})],1)])],1)],1),i("q-dialog",{attrs:{"transition-show":"scale","transition-hide":"scale"},model:{value:e.open_modal_add_expense_tab_3,callback:function(t){e.open_modal_add_expense_tab_3=t},expression:"open_modal_add_expense_tab_3"}},[i("q-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading_expense,expression:"loading_expense"}],staticClass:"bg-primary text-white modal-add-edit-expense-tour",staticStyle:{width:"400px"}},[e.is_edit_expense_tab_3?i("q-card-actions",{staticClass:"section-header-detail-booking"},[e._v("Edit expense")]):i("q-card-actions",{staticClass:"section-header-detail-booking"},[e._v("Add new expense\n        ")]),i("q-card-actions",{staticClass:"bg-white text-black"},[i("q-card",{staticClass:"w-100 q-pa-md"},[i("div",{staticClass:"add-wrapper"},[i("div",{staticClass:"flex"},[i("div",{staticClass:"w-40 q-pr-md"},[e._v("Choose type")]),i("div",{staticClass:"w-60"},[i("el-select",{class:{"input-error":e.$v.obj_expense_temp.type.$error},attrs:{size:"mini",placeholder:"Select expense","popper-class":"select-z-index"},on:{change:function(t){return e.getListValueForCustomField()}},model:{value:e.$v.obj_expense_temp.type.$model,callback:function(t){e.$set(e.$v.obj_expense_temp.type,"$model",t)},expression:"$v.obj_expense_temp.type.$model"}},e._l(e.list_company_field_tab3,(function(e){return i("el-option",{key:e.fieldId,attrs:{label:e.field.name,value:e.field.name}})})),1),e.$v.obj_expense_temp.type.$error?i("div",{staticClass:"error-content"},[e._v("Type is required\n                  ")]):e._e()],1)]),i("div",{staticClass:"flex q-mt-sm"},[i("div",{staticClass:"w-40 q-pr-md"},[e._v("Choose Value")]),i("div",{staticClass:"w-60"},[i("el-select",{class:{"input-error":e.$v.obj_expense_temp.place.$error},attrs:{size:"mini",placeholder:"Select place","popper-class":"select-z-index"},model:{value:e.$v.obj_expense_temp.place.$model,callback:function(t){e.$set(e.$v.obj_expense_temp.place,"$model",t)},expression:"$v.obj_expense_temp.place.$model"}},e._l(e.options_type_expense,(function(e){return i("el-option",{key:e.id,attrs:{label:e.label,value:e.label}})})),1),e.$v.obj_expense_temp.place.$error?i("div",{staticClass:"error-content"},[e._v("Value is required\n                  ")]):e._e()],1)]),i("div",{staticClass:"q-mt-sm flex"},[i("div",{staticClass:"w-40 q-pr-md"},[e._v("Amount after Tax")]),i("div",{staticClass:"w-60"},[i("money",e._b({staticClass:"input-number-custom-1",nativeOn:{change:function(t){return e.recalculatorNewExpense()}},model:{value:e.obj_expense_temp.amount_after_tax,callback:function(t){e.$set(e.obj_expense_temp,"amount_after_tax",t)},expression:"obj_expense_temp.amount_after_tax"}},"money",e.money_option,!1))],1)]),i("div",{staticClass:"q-mt-sm flex"},[i("div",{staticClass:"w-40 q-pr-md"},[e._v("Tax (%)")]),i("div",{staticClass:"w-60"},[i("el-select",{attrs:{size:"mini",placeholder:"Select tax","popper-class":"select-z-index"},on:{change:function(t){return e.recalculatorNewExpense()}},model:{value:e.obj_expense_temp.tax,callback:function(t){e.$set(e.obj_expense_temp,"tax",t)},expression:"obj_expense_temp.tax"}},e._l(e.options_tax,(function(e){return i("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)]),i("div",{staticClass:"q-mt-sm flex"},[i("div",{staticClass:"w-40 q-pr-md"},[e._v("Amount before Tax")]),i("div",{staticClass:"w-60"},[i("money",e._b({staticClass:"input-number-custom-1",attrs:{disabled:!0},model:{value:e.obj_expense_temp.amount_before_tax,callback:function(t){e.$set(e.obj_expense_temp,"amount_before_tax",t)},expression:"obj_expense_temp.amount_before_tax"}},"money",e.money_option,!1))],1)]),i("div",{staticClass:"q-mt-sm flex"},[i("div",{staticClass:"w-40 q-pr-md"},[e._v("Paid Amount")]),i("div",{staticClass:"w-60"},[i("money",e._b({staticClass:"input-number-custom-1",model:{value:e.obj_expense_temp.paid_amount,callback:function(t){e.$set(e.obj_expense_temp,"paid_amount",t)},expression:"obj_expense_temp.paid_amount"}},"money",e.money_option,!1))],1)])])])],1),i("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[i("div",[e.is_edit_expense_tab_3?i("q-btn",{staticClass:"q-mr-md",attrs:{label:"Delete",color:"negative",size:"sm","text-color":"white",icon:"delete"},on:{click:function(t){return e.removeExpense()}}}):e._e(),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-md",attrs:{label:"Cancel",color:"white",size:"sm","text-color":"black"}}),e.is_edit_expense_tab_3?i("q-btn",{attrs:{label:"Edit",color:"primary",size:"sm","text-color":"white",icon:"edit"},on:{click:function(t){return e.editExpenseTab3()}}}):i("q-btn",{attrs:{label:"Add",color:"primary",size:"sm","text-color":"white",icon:"check"},on:{click:function(t){return e.addNewExpenseTab3()}}})],1)])],1)],1),i("q-dialog",{attrs:{"transition-show":"scale","transition-hide":"scale"},model:{value:e.open_modal_add_expense_tab_4,callback:function(t){e.open_modal_add_expense_tab_4=t},expression:"open_modal_add_expense_tab_4"}},[i("q-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading_expense,expression:"loading_expense"}],staticClass:"bg-primary text-white modal-add-edit-expense-tour",staticStyle:{width:"400px"}},[e.is_edit_expense_tab_4?i("q-card-actions",{staticClass:"section-header-detail-booking"},[e._v("Edit expense")]):i("q-card-actions",{staticClass:"section-header-detail-booking"},[e._v("Add new expense\n        ")]),i("q-card-actions",{staticClass:"bg-white text-black"},[i("q-card",{staticClass:"w-100 q-pa-md"},[i("div",{staticClass:"add-wrapper"},[i("div",{staticClass:"flex"},[i("div",{staticClass:"w-40 q-pr-md"},[e._v("Choose type")]),i("div",{staticClass:"w-60"},[i("el-select",{class:{"input-error":e.$v.obj_expense_temp.type.$error},attrs:{size:"mini",placeholder:"Select expense","popper-class":"select-z-index"},on:{change:function(t){return e.getListValueForCustomField()}},model:{value:e.$v.obj_expense_temp.type.$model,callback:function(t){e.$set(e.$v.obj_expense_temp.type,"$model",t)},expression:"$v.obj_expense_temp.type.$model"}},e._l(e.list_company_field_tab4,(function(e){return i("el-option",{key:e.fieldId,attrs:{label:e.field.name,value:e.field.name}})})),1),e.$v.obj_expense_temp.type.$error?i("div",{staticClass:"error-content"},[e._v("Type is required\n                  ")]):e._e()],1)]),i("div",{staticClass:"flex q-mt-sm"},[i("div",{staticClass:"w-40 q-pr-md"},[e._v("Choose Value")]),i("div",{staticClass:"w-60"},[i("el-select",{class:{"input-error":e.$v.obj_expense_temp.place.$error},attrs:{size:"mini",placeholder:"Select place","popper-class":"select-z-index"},model:{value:e.$v.obj_expense_temp.place.$model,callback:function(t){e.$set(e.$v.obj_expense_temp.place,"$model",t)},expression:"$v.obj_expense_temp.place.$model"}},e._l(e.options_type_expense,(function(e){return i("el-option",{key:e.id,attrs:{label:e.label,value:e.label}})})),1),e.$v.obj_expense_temp.place.$error?i("div",{staticClass:"error-content"},[e._v("Value is required\n                  ")]):e._e()],1)]),i("div",{staticClass:"q-mt-sm flex"},[i("div",{staticClass:"w-40 q-pr-md"},[e._v("Amount after Tax")]),i("div",{staticClass:"w-60"},[i("money",e._b({staticClass:"input-number-custom-1",nativeOn:{change:function(t){return e.recalculatorNewExpense()}},model:{value:e.obj_expense_temp.amount_after_tax,callback:function(t){e.$set(e.obj_expense_temp,"amount_after_tax",t)},expression:"obj_expense_temp.amount_after_tax"}},"money",e.money_option,!1))],1)]),i("div",{staticClass:"q-mt-sm flex"},[i("div",{staticClass:"w-40 q-pr-md"},[e._v("Tax (%)")]),i("div",{staticClass:"w-60"},[i("el-select",{attrs:{size:"mini",placeholder:"Select tax","popper-class":"select-z-index"},on:{change:function(t){return e.recalculatorNewExpense()}},model:{value:e.obj_expense_temp.tax,callback:function(t){e.$set(e.obj_expense_temp,"tax",t)},expression:"obj_expense_temp.tax"}},e._l(e.options_tax,(function(e){return i("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)]),i("div",{staticClass:"q-mt-sm flex"},[i("div",{staticClass:"w-40 q-pr-md"},[e._v("Amount before Tax")]),i("div",{staticClass:"w-60"},[i("money",e._b({staticClass:"input-number-custom-1",attrs:{disabled:!0},model:{value:e.obj_expense_temp.amount_before_tax,callback:function(t){e.$set(e.obj_expense_temp,"amount_before_tax",t)},expression:"obj_expense_temp.amount_before_tax"}},"money",e.money_option,!1))],1)])])])],1),i("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[i("div",[e.is_edit_expense_tab_4?i("q-btn",{staticClass:"q-mr-md",attrs:{label:"Delete",color:"negative",size:"sm","text-color":"white",icon:"delete"},on:{click:function(t){return e.removeExpense()}}}):e._e(),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-md",attrs:{label:"Cancel",color:"white",size:"sm","text-color":"black"}}),e.is_edit_expense_tab_4?i("q-btn",{attrs:{label:"Edit",color:"primary",size:"sm","text-color":"white",icon:"edit"},on:{click:function(t){return e.editExpenseTab4()}}}):i("q-btn",{attrs:{label:"Add",color:"primary",size:"sm","text-color":"white",icon:"check"},on:{click:function(t){return e.addNewExpenseTab4()}}})],1)])],1)],1),i("q-dialog",{attrs:{"transition-show":"scale","transition-hide":"scale"},model:{value:e.open_modal_assign_personel,callback:function(t){e.open_modal_assign_personel=t},expression:"open_modal_assign_personel"}},[i("q-card",{staticClass:"bg-primary text-white card-no-border",staticStyle:{width:"300px"}},[i("q-card-actions",{staticClass:"section-header-detail-booking"},[e._v("Assign tour guide")]),i("q-card-actions",{staticClass:"bg-white text-black"},[i("q-card",{staticClass:"w-100 q-pa-md"},[i("div",{staticClass:"add-wrapper"},[i("div",{staticClass:"flex"},[i("div",{staticClass:"w-100"},[e._v("Choose tour guide")]),i("div",{staticClass:"q-mt-sm w-100"},[i("el-select",{staticClass:"w-100",attrs:{filterable:"",size:"mini",placeholder:"Select tour guide","popper-class":"select-z-index"},model:{value:e.obj_personel_temp.id,callback:function(t){e.$set(e.obj_personel_temp,"id",t)},expression:"obj_personel_temp.id"}},e._l(e.list_staff_is_tour_guide,(function(e){return i("el-option",{key:e.userId,attrs:{label:e.user.fullName,value:e.userId}})})),1)],1)]),""!=e.obj_personel_temp.id?i("div",{staticClass:"q-mt-sm"},[i("q-btn",{attrs:{icon:"remove_red_eye",size:"xs",color:"primary",label:"View schedule"},on:{click:function(t){return e.viewScheduleTourGuide()}}})],1):e._e()])])],1),i("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[i("div",[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-md",attrs:{label:"Cancel",color:"white",size:"sm","text-color":"black"}}),i("q-btn",{attrs:{label:"Add",color:"primary",size:"sm","text-color":"white",icon:"check"},on:{click:function(t){return e.addPersonelForTour()}}})],1)])],1)],1)],1),i("q-dialog",{attrs:{"transition-show":"scale","transition-hide":"scale"},model:{value:e.open_modal_view_detail_booking,callback:function(t){e.open_modal_view_detail_booking=t},expression:"open_modal_view_detail_booking"}},[i("q-card",{staticClass:"bg-primary text-white",staticStyle:{width:"1100px","max-width":"1100px"}},[i("q-card-actions",{staticClass:"section-header-detail-booking"},[e._v("View detail booking")]),i("q-card-actions",{staticClass:"bg-white text-black",staticStyle:{padding:"0px!important"}},[i("iframe",{attrs:{src:e.booking_detail.src,id:"frame_view_detail_tour"}})]),i("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[i("div",[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-md",attrs:{label:"Cancel",color:"white",size:"sm","text-color":"black",icon:"cancel"}})],1)])],1)],1),i("div",{staticClass:"list-tour-mobile-wrapper view-on-mobile"},[i("list-tour-mobile",{ref:"listTour",attrs:{list_tour:e.list_tours,list_others:e.list_others,list_meals:e.list_meals,list_helper:e.list_helper,list_supportes:e.list_supportes,list_captains:e.list_captains,list_hostess:e.list_hostess,list_leader:e.list_leader,list_driver:e.list_driver,list_tour_guide:e.list_tour_guide,list_staff_is_tour_guide:e.list_staff_is_tour_guide,current_tour_select_to_view:e.current_tour_select_to_view,loading_list_tour:e.loading.loading_list_tour,is_read_tab_1:e.is_read_tab_1,is_read_tab_2:e.is_read_tab_2,is_read_tab_3:e.is_read_tab_3,is_read_tab_4:e.is_read_tab_4,is_update_tab_1:e.is_update_tab_1,is_update_tab_2:e.is_update_tab_2,is_update_tab_3:e.is_update_tab_3,is_update_tab_4:e.is_update_tab_4,is_role_tour_guide:e.is_role_tour_guide,columns_view_order_in_tour:e.columns_view_order_in_tour,option_filter:e.option_filter,money_option:e.money_option,user_can_check_finish_tour:e.user_can_check_finish_tour,option_tour_type_filter:e.option_tour_type_filter,option_start_time_filter:e.options_range_time_filter,options_main_transportation_filter:e.options_main_transportation_filter,today_tour:e.today_tour,pagination:e.pagination},on:{openModalViewTour:e.openModalViewTour,removePersonel:e.removePersonel,changeStatusGuideTracking:e.changeStatusGuideTracking,updateAdvanceToGuide:e.updateAdvanceToGuide,updateRefundTour:e.updateRefundTour,triggerOpenModalEditExpenseTab3:e.triggerOpenModalEditExpenseTab3,triggerOpenModalNewExpense:e.triggerOpenModalNewExpense,triggerOpenModalNewExpenseTab4:e.triggerOpenModalNewExpenseTab4,triggerOpenModalEditExpenseTab4:e.triggerOpenModalEditExpenseTab4,applyFilterTour:e.applyFilterTour,changePaginationMobile:e.changePaginationMobile}})],1)],1)},o=[],r=(i("8e6e"),i("8a81"),i("ac6a"),i("cadf"),i("456d"),i("55dd"),i("7f7f"),i("f751"),i("6b54"),i("06db"),i("28a5"),i("c47a")),s=i.n(r),n=i("e30a"),l=i.n(n),u=(i("b40d"),i("2f62")),c=i("f0e6"),_=(i("b383"),i("d5b7")),d=i("e71f"),p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("header-mobile",{attrs:{name_header_mobile:e.nameHeader,view_detail:!e.is_view_list_tour,option_tour_type_filter:e.option_tour_type_filter,option_start_time_filter:e.option_start_time_filter,options_main_transportation_filter:e.options_main_transportation_filter,options_tour_guide_filter:e.list_tour_guide,options_drivers_filter:e.list_driver,options_leaders_filter:e.list_leader,options_hostesses_filter:e.list_hostess,options_captains_filter:e.list_captains,options_supporters_filter:e.list_supportes,options_helpers_filter:e.list_helper,options_meal_filter:e.list_meals,options_others_filter:e.list_others,today_tour:e.today_tour},on:{backToList:e.backToListBooking,applyFilterTour:e.applyFilterTour}}),e.is_view_list_tour?i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading_list_tour,expression:"loading_list_tour"}],staticClass:"list-booking-mobile-wrapper",attrs:{id:"example-content"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.is_view_list_tour&&!e.is_add_booking&&e.list_tour_grouped.length>0,expression:"is_view_list_tour && !is_add_booking && list_tour_grouped.length > 0"}],staticClass:"body-list-booking-mobile",staticStyle:{"padding-bottom":"0px"}},e._l(e.list_tour_grouped,(function(t,a){return i("div",{key:a,staticClass:"group-list-tour",attrs:{id:"affix-test-"+a}},[i("div",[i("affix",{staticClass:"sidebar-menu",attrs:{"relative-element-selector":"#affix-test-"+a,offset:{top:50,bottom:0}}},[i("div",{staticClass:"date-travel"},[i("div",{class:{"text-detail":e.isCurrentDate(t.date_travel)}},[e._v(e._s(e._f("formatDateSystem")(t.date_travel)))])])]),i("div",{staticClass:"date-travel-temp"},[e._v(e._s(e._f("formatDateSystem")(t.date_travel)))]),i("div",{staticClass:"list-booking"},e._l(t.list_tour,(function(t,a){return i("div",{directives:[{name:"touch-hold",rawName:"v-touch-hold.mouse",value:e.handleHold,expression:"handleHold",modifiers:{mouse:!0}}],key:a,staticClass:"booking",attrs:{id:t.id},on:{click:function(i){return e.viewDetailTourMobile(t)}}},[i("div",{staticClass:"name-booking-wrapper"},[i("div",{staticClass:"content-name"},[i("div",{staticClass:"row w-100"},[i("div",{staticClass:"col-2 status-and-tour"},[i("div",{staticClass:"name-tour"},[e._v(e._s(e.getNameGroupBooking(t.groupBooking)))])]),i("div",{staticClass:"col-10 text-booking"},[e._v(e._s(t.aliasName))])])])]),i("q-separator",{attrs:{color:"custom-color-1"}})],1)})),0)],1)])})),0),0!=e.list_tour_grouped.length?i("div",{staticClass:"flex flex-center q-mt-lg q-mb-md",staticStyle:{"margin-bottom":"75px"}},[i("q-pagination",{attrs:{color:"primary",max:e.total_page_mobile,"direction-links":!0},on:{input:function(t){return e.changePagePagination()}},model:{value:e.pagination_mobile.page,callback:function(t){e.$set(e.pagination_mobile,"page",t)},expression:"pagination_mobile.page"}})],1):e._e(),0==e.list_tour_grouped.length?i("div",[i("div",{staticClass:"text-center",staticStyle:{"margin-top":"130px"}},[e._v("Do not have tour")])]):e._e()]):e._e(),i("transition",{attrs:{name:"slide-fade"}},[e.is_view_list_tour?e._e():i("div",{staticClass:"view-detail-tour-mobile"},[i("q-tabs",{staticClass:"tabs-view-detail-tour-mobile",attrs:{dense:"","active-color":"primary",align:"left"},model:{value:e.tab_view_tour,callback:function(t){e.tab_view_tour=t},expression:"tab_view_tour"}},[e.is_read_tab_1?i("q-tab",{attrs:{name:"tour",label:"Tour"}}):e._e(),e.is_read_tab_2?i("q-tab",{attrs:{name:"guide_tracking",label:"Guide tracking"}}):e._e(),e.is_read_tab_3?i("q-tab",{attrs:{name:"expense_custom",label:"Expense Custom"}}):e._e(),e.is_read_tab_4?i("q-tab",{attrs:{name:"guide_expense",label:"Guide Expense"}}):e._e()],1),i("q-separator"),i("q-tab-panels",{staticClass:"bg-white text-black",attrs:{animated:""},model:{value:e.tab_view_tour,callback:function(t){e.tab_view_tour=t},expression:"tab_view_tour"}},[e.is_read_tab_1?i("q-tab-panel",{attrs:{name:"tour"}},[i("div",{staticClass:"view-tab-tour-wrapper"},[i("div",{staticClass:"tour-guide-wrapper"},[i("div",{staticClass:"title-name"},[e._v("Tour infomation")]),i("div",{staticClass:"content-tour-guide flex q-mt-sm"},[i("div",{staticClass:"item-info"},[e._v("Tour order")]),i("div",{staticClass:"item-info"},[e._v(e._s(e._f("getTourOrder")(e.current_tour_select_to_view.groupBooking)))]),i("div",{staticClass:"item-info"},[e._v("Tour date")]),i("div",{staticClass:"item-info"},[e._v(e._s(e._f("formatDateSystem")(e.current_tour_select_to_view.travelDate)))]),i("div",{staticClass:"item-info"},[e._v("Tour name")]),i("div",{staticClass:"item-info"},[e._v(e._s(e.current_tour_select_to_view.productTitle))]),i("div",{staticClass:"item-info"},[e._v("Tour type")]),i("div",{staticClass:"item-info"},[e._v(e._s(e._f("getNameTourType")(e.current_tour_select_to_view)))]),i("div",{staticClass:"item-info"},[e._v("Main transportation")]),e.current_tour_select_to_view.orders&&e.current_tour_select_to_view.orders.length>0?i("div",{staticClass:"item-info"},[e._v(e._s(e.current_tour_select_to_view.orders[0].transportation))]):e._e(),i("div",{staticClass:"item-info"},[e._v("Summary")]),e.current_tour_select_to_view.orders?i("div",{staticClass:"item-info"},[e._v("["+e._s(e.current_tour_select_to_view.orders.length)+"] bookings, ["+e._s(e._f("getTotalGuess")(e.current_tour_select_to_view))+"] pax")]):e._e()]),i("div",{staticClass:"q-mt-md title-name"},[e._v("Tour guide")]),i("div",{staticClass:"list-personel-wrapper q-mt-sm"},[e._l(e.current_tour_select_to_view.tourUsers,(function(t,a){return i("div",{key:a,staticClass:"item-list-personel"},[i("q-chip",{attrs:{removable:!e.is_role_tour_guide,color:"primary","text-color":"white"},on:{remove:function(i){return e.removePersonel(t)}}},[e._v(e._s(t.user.fullName))])],1)})),i("div",{staticClass:"q-ml-md",staticStyle:{width:"initial"}},[e.is_update_tab_1&&!e.is_role_tour_guide?i("q-btn",{attrs:{icon:"add",color:"primary","no-caps":"",size:"sm"},on:{click:function(t){return e.triggerOpenDialogAddPersonal()}}}):e._e()],1)],2),i("div",{staticClass:"q-mt-md title-name"},[e._v("Tour note")]),i("div",{staticClass:"q-mt-sm"},[i("el-input",{staticClass:"input-tour-note",attrs:{readonly:!e.is_update_tab_1||e.is_role_tour_guide,type:"textarea",rows:2,placeholder:"Please input tour note"},on:{blur:function(t){return e.blurInputStartingPoint()}},model:{value:e.current_tour_select_to_view.startingPoint,callback:function(t){e.$set(e.current_tour_select_to_view,"startingPoint",t)},expression:"current_tour_select_to_view.startingPoint"}})],1),i("div",{staticClass:"q-mt-md title-name"},[e._v("Booking List")]),i("div",{staticClass:"q-mt-sm"},[i("div",{staticClass:"table-order-of-tour"},[i("div",{staticClass:"view-wrapper"},[i("div",{staticClass:"item-order item-first item-sticky"},[e._v("View")]),e._l(e.current_tour_select_to_view.orders,(function(t,a){return i("div",{key:a,staticClass:"item-order text-center"},[e.is_role_tour_guide?e._e():i("q-btn",{attrs:{size:"xs",round:"",color:"primary",icon:"remove_red_eye"},on:{click:function(i){return e.viewDetailBooking(t)}}})],1)}))],2),i("div",{staticClass:"view-wrapper"},[i("div",{staticClass:"item-order item-first item-sticky"},[e._v("Pickup order")]),e._l(e.current_tour_select_to_view.orders,(function(t,a){return i("div",{key:a,staticClass:"item-order text-center"},[e._v(e._s(t.pickupOrder))])}))],2),i("div",{staticClass:"view-wrapper"},[i("div",{staticClass:"item-order item-first item-sticky"},[e._v("Booking number")]),e._l(e.current_tour_select_to_view.orders,(function(t,a){return i("div",{key:a,staticClass:"item-order text-center"},[e._v(e._s(t.bookingNumber))])}))],2),i("div",{staticClass:"view-wrapper"},[i("div",{staticClass:"item-order item-first item-sticky"},[e._v("Guest infomation")]),e._l(e.current_tour_select_to_view.orders,(function(t,a){return i("div",{key:a,staticClass:"item-order text-center"},[e._v(e._s(t.guestInfomation))])}))],2),i("div",{staticClass:"view-wrapper"},[i("div",{staticClass:"item-order item-first item-sticky"},[e._v("Pickup")]),e._l(e.current_tour_select_to_view.orders,(function(t,a){return i("div",{key:a,staticClass:"item-order text-center"},[e._v(e._s(t.pickUp))])}))],2),i("div",{staticClass:"view-wrapper"},[i("div",{staticClass:"item-order item-first item-sticky"},[e._v("Notes")]),e._l(e.current_tour_select_to_view.orders,(function(t,a){return i("div",{key:a,staticClass:"item-order text-center"},[e._v(e._s(t.notes))])}))],2)])]),i("div",{staticClass:"q-mt-md title-name"},[e._v("Service")]),i("div",{staticClass:"info-people-service-wrapper q-mt-md"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-4 q-pr-lg"},[i("div",[e._v("Tour guide")]),i("el-select",{staticClass:"w-100",attrs:{filterable:"",disabled:!e.is_update_tab_1||e.is_role_tour_guide,size:"mini",multiple:"",placeholder:"Select Tour Guide","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.changeSelectTourGuide(e.current_tour_select_to_view)}},model:{value:e.current_tour_select_to_view.tourGuides,callback:function(t){e.$set(e.current_tour_select_to_view,"tourGuides",t)},expression:"current_tour_select_to_view.tourGuides"}},e._l(e.list_tour_guide,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1),i("div",{staticClass:"col-4 q-pr-lg"},[i("div",[e._v("Drivers")]),i("el-select",{staticClass:"w-100",attrs:{filterable:"",disabled:!e.is_update_tab_1||e.is_role_tour_guide,size:"mini",multiple:"",placeholder:"Select driver","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.changeSelectDriver(e.current_tour_select_to_view)}},model:{value:e.current_tour_select_to_view.drivers,callback:function(t){e.$set(e.current_tour_select_to_view,"drivers",t)},expression:"current_tour_select_to_view.drivers"}},e._l(e.list_driver,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1),i("div",{staticClass:"col-4"},[i("div",[e._v("Leader")]),i("el-select",{staticClass:"w-100",attrs:{filterable:"",disabled:!e.is_update_tab_1||e.is_role_tour_guide,size:"mini",multiple:"",placeholder:"Select leaders","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.changeSelectLeader(e.current_tour_select_to_view)}},model:{value:e.current_tour_select_to_view.leaders,callback:function(t){e.$set(e.current_tour_select_to_view,"leaders",t)},expression:"current_tour_select_to_view.leaders"}},e._l(e.list_leader,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1)]),i("div",{staticClass:"row q-mt-md"},[i("div",{staticClass:"col-4 q-pr-lg"},[i("div",[e._v("Hostesses")]),i("el-select",{staticClass:"w-100",attrs:{filterable:"",disabled:!e.is_update_tab_1||e.is_role_tour_guide,size:"mini",multiple:"",placeholder:"Select hostesses","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.changeSelectHostess(e.current_tour_select_to_view)}},model:{value:e.current_tour_select_to_view.hostesses,callback:function(t){e.$set(e.current_tour_select_to_view,"hostesses",t)},expression:"current_tour_select_to_view.hostesses"}},e._l(e.list_hostess,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1),i("div",{staticClass:"col-4 q-pr-lg"},[i("div",[e._v("Captains")]),i("el-select",{staticClass:"w-100",attrs:{filterable:"",disabled:!e.is_update_tab_1||e.is_role_tour_guide,size:"mini",multiple:"",placeholder:"Select captains","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.changeSelectCaptains(e.current_tour_select_to_view)}},model:{value:e.current_tour_select_to_view.captions,callback:function(t){e.$set(e.current_tour_select_to_view,"captions",t)},expression:"current_tour_select_to_view.captions"}},e._l(e.list_captains,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1),i("div",{staticClass:"col-4"},[i("div",[e._v("Supporters")]),i("el-select",{staticClass:"w-100",attrs:{filterable:"",disabled:!e.is_update_tab_1||e.is_role_tour_guide,size:"mini",multiple:"",placeholder:"Select supporters","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.changeSelectSupporter(e.current_tour_select_to_view)}},model:{value:e.current_tour_select_to_view.supporters,callback:function(t){e.$set(e.current_tour_select_to_view,"supporters",t)},expression:"current_tour_select_to_view.supporters"}},e._l(e.list_supportes,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1)]),i("div",{staticClass:"row q-mt-md"},[i("div",{staticClass:"col-4 q-pr-lg"},[i("div",[e._v("Helpers")]),i("el-select",{staticClass:"w-100",attrs:{filterable:"",disabled:!e.is_update_tab_1||e.is_role_tour_guide,size:"mini",multiple:"","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.changeSelectHelper(e.current_tour_select_to_view)}},model:{value:e.current_tour_select_to_view.helpers,callback:function(t){e.$set(e.current_tour_select_to_view,"helpers",t)},expression:"current_tour_select_to_view.helpers"}},e._l(e.list_helper,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1),i("div",{staticClass:"col-4 q-pr-lg"},[i("div",[e._v("Meals")]),i("el-select",{staticClass:"w-100",attrs:{filterable:"",disabled:!e.is_update_tab_1||e.is_role_tour_guide,size:"mini",multiple:"",placeholder:"Select meals","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.changeSelectMeals(e.current_tour_select_to_view)}},model:{value:e.current_tour_select_to_view.meals,callback:function(t){e.$set(e.current_tour_select_to_view,"meals",t)},expression:"current_tour_select_to_view.meals"}},e._l(e.list_meals,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1),i("div",{staticClass:"col-4 q-pr-lg"},[i("div",[e._v("Others")]),i("el-select",{staticClass:"w-100",attrs:{filterable:"",disabled:!e.is_update_tab_1||e.is_role_tour_guide,size:"mini",multiple:"",placeholder:"Select others","popper-class":"popper-people-service-tour"},on:{change:function(t){return e.changeSelectOthers(e.current_tour_select_to_view)}},model:{value:e.current_tour_select_to_view.others,callback:function(t){e.$set(e.current_tour_select_to_view,"others",t)},expression:"current_tour_select_to_view.others"}},e._l(e.list_others,(function(e){return i("el-option",{key:e.id,attrs:{label:e.nicknamePIC,value:e.nicknamePIC}})})),1)],1)])])])])]):e._e(),e.is_read_tab_2?i("q-tab-panel",{attrs:{name:"guide_tracking"}},[i("div",{staticClass:"guide-tracking-wrapper"},[i("div",{staticClass:"item-guide-tracking"},[i("b",[e._v("Event")])]),i("div",{staticClass:"item-guide-tracking"},[i("b",[e._v("Status")])]),i("div",{staticClass:"item-guide-tracking"},[i("b",[e._v("Last update by")])]),i("div",{staticClass:"item-guide-tracking"},[i("b",[e._v("Date & Time Update")])]),e._l(e.current_tour_select_to_view.finalTourGuideTrackings,(function(t,a){return i("div",{key:a,staticClass:"guide-tracking-wrapper"},[i("div",{staticClass:"item-guide-tracking"},[e._v(e._s(t.title))]),i("div",{staticClass:"item-guide-tracking"},["finishtour"==t.name?i("q-checkbox",{attrs:{disable:!e.user_can_check_finish_tour,dense:""},on:{input:function(i){return e.changeStatusGuideTracking(t)}},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}}):i("q-checkbox",{attrs:{dense:""},on:{input:function(i){return e.changeStatusGuideTracking(t)}},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})],1),i("div",{staticClass:"item-guide-tracking"},[e._v(e._s(t.last_update_by_name))]),i("div",{staticClass:"item-guide-tracking"},[e._v(e._s(e.formatDateSystem(t.time_update)))])])}))],2)]):e._e(),e.is_read_tab_3?i("q-tab-panel",{attrs:{name:"expense_custom"}},[i("div",{staticClass:"expense-custom-wrapper"},[i("div",{staticClass:"basic-wrapper"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-8 q-pa-xs text-right"},[e._v("Tour expenses recorded by Office")]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"col-4 q-pa-xs text-right"},[e._v(e._s(e._f("currency")(e.current_tour_select_to_view.finalInfoTab3.expense_of_tour,e.option_filter)))]):e._e()]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-8 q-pa-xs text-right"},[e._v("Tour expenses recorded by Guide")]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"col-4 q-pa-xs text-right"},[e._v(e._s(e._f("currency")(e.current_tour_select_to_view.finalInfoTab3.expense_paid_by_guide,e.option_filter)))]):e._e()]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-8 q-pa-xs text-right"},[e._v("Total Tour expenses")]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"col-4 q-pa-xs text-right border-top"},[e._v(e._s(e._f("currency")(e.current_tour_select_to_view.finalInfoTab3.expense_of_tour+e.current_tour_select_to_view.finalInfoTab3.expense_paid_by_guide,e.option_filter)))]):e._e()]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-8 q-pa-xs text-right"},[e._v("Expense paid")]),e.current_tour_select_to_view.finalInfoTab3&&e.current_tour_select_to_view.finalInfoTab4?i("div",{staticClass:"col-4 q-pa-xs text-right"},[e._v(e._s(e._f("currency")(e.current_tour_select_to_view.finalInfoTab3.amount_paid+e.current_tour_select_to_view.finalInfoTab4.expense_paid_by_guide,e.option_filter)))]):e._e()]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-8 q-pa-xs text-right"},[e._v("Balance")]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"col-4 q-pa-xs text-right border-top border-bottom"},[e._v(e._s(e._f("currency")(e.current_tour_select_to_view.finalInfoTab3.balance_tour,e.option_filter)))]):e._e()]),i("div",{staticClass:"row",staticStyle:{"margin-top":"20px"}},[i("div",{staticClass:"col-8 q-pa-xs text-right"},[e._v("Advance to guide")]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"col-4 q-pa-xs text-right"},[i("money",e._b({staticClass:"input-number-custom-3 text-right",nativeOn:{blur:function(t){return e.updateAdvanceToGuide(e.current_tour_select_to_view.finalInfoTab3.advance_to_guide)}},model:{value:e.current_tour_select_to_view.finalInfoTab3.advance_to_guide,callback:function(t){e.$set(e.current_tour_select_to_view.finalInfoTab3,"advance_to_guide",t)},expression:"current_tour_select_to_view.finalInfoTab3.advance_to_guide"}},"money",e.money_option,!1))],1):e._e()]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-8 q-pa-xs text-right"},[e._v("Actual expenses paid by guide")]),e.current_tour_select_to_view.finalInfoTab4?i("div",{staticClass:"col-4 q-pa-xs text-right"},[e._v(e._s(e._f("currency")(e.current_tour_select_to_view.finalInfoTab4.expense_paid_by_guide,e.option_filter)))]):e._e()]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-8 q-pa-xs text-right"},[e._v("Advance difference")]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"col-4 q-pa-xs text-right border-top"},[e._v(e._s(e._f("currency")(e.current_tour_select_to_view.finalInfoTab3.different,e.option_filter)))]):e._e()]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"row"},[e.current_tour_select_to_view.finalInfoTab3.different>=0?i("div",{staticClass:"col-8 q-pa-xs text-right"},[e._v("Refund to company")]):i("div",{staticClass:"col-8 q-pa-xs text-right"},[e._v("Pay more to guide")]),i("div",{staticClass:"col-4 q-pa-xs text-right"},[i("money",e._b({staticClass:"input-number-custom-3 text-right",nativeOn:{blur:function(t){return e.updateRefundTour(e.current_tour_select_to_view.finalInfoTab3.refund)}},model:{value:e.current_tour_select_to_view.finalInfoTab3.refund,callback:function(t){e.$set(e.current_tour_select_to_view.finalInfoTab3,"refund",t)},expression:"current_tour_select_to_view.finalInfoTab3.refund"}},"money",e.money_option,!1))],1)]):e._e(),i("div",{staticClass:"row"},[i("div",{staticClass:"col-8 q-pa-xs text-right"},[e._v("Advance balance")]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"col-4 q-pa-xs text-right border-top border-bottom"},[e._v(e._s(e._f("currency")(e.current_tour_select_to_view.finalInfoTab3.balance_advance,e.option_filter)))]):e._e()])]),i("div",{staticClass:"session-expense-wrapper q-mt-md"},[e.is_update_tab_3?i("div",{staticClass:"button-wrapper"},[i("q-btn",{attrs:{icon:"add",size:"sm",color:"primary",label:"Add expense"},on:{click:function(t){return e.triggerOpenModalNewExpense()}}})],1):e._e(),i("div",{staticClass:"list-expense flex q-mt-md"},e._l(e.current_tour_select_to_view.infoExpenseListTab3,(function(t,a){return i("div",{key:a,staticClass:"item-expense q-mt-md"},[i("q-card",[i("q-card-section",[i("div",{staticClass:"flex justify-between"},[i("div",[e._v(e._s(t.fieldName))]),i("div",[i("q-btn",{attrs:{flat:"",icon:"edit",size:"sm",color:"primary",round:""},on:{click:function(i){return e.triggerOpenModalEditExpenseTab3(t)}}})],1)])]),i("q-separator"),i("q-card-section",[i("div",[e._v(e._s(t.dropdownValue))]),i("div",{staticClass:"q-mt-md row"},[i("div",{staticClass:"col-8 title-1"},[e._v("Amount after Tax")]),i("div",{staticClass:"col-4 text-right"},[e._v(e._s(e._f("currency")(t.afterTax,e.option_filter)))])]),i("div",{staticClass:"row q-mt-sm"},[i("div",{staticClass:"col-8 title-1"},[e._v("Tax (%)")]),i("div",{staticClass:"col-4 text-right"},[e._v(e._s(100*t.taxPercent))])]),i("div",{staticClass:"row q-mt-sm"},[i("div",{staticClass:"col-8 title-1"},[e._v("Amount before Tax")]),t.beforeTax?i("div",{staticClass:"col-4 text-right"},[e._v(e._s(e._f("currency")(t.beforeTax,e.option_filter)))]):e._e()]),i("div",{staticClass:"row q-mt-sm"},[i("div",{staticClass:"col-8 title-1"},[e._v("Paid Amount")]),i("div",{staticClass:"col-4 text-right"},[e._v(e._s(e._f("currency")(t.paidAmount,e.option_filter)))])])])],1)],1)})),0)])])]):e._e(),e.is_read_tab_4?i("q-tab-panel",{attrs:{name:"guide_expense"}},[i("div",{staticClass:"guide-expense-wrapper"},[i("div",{staticClass:"basic-wrapper"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-8 q-pa-xs text-right"},[e._v("Advance to guide")]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"col-4 q-pa-xs text-right"},[i("money",e._b({staticClass:"input-number-custom-3 text-right",attrs:{disabled:!e.is_update_tab_4||e.is_role_tour_guide},nativeOn:{blur:function(t){return e.updateAdvanceToGuide(e.current_tour_select_to_view.finalInfoTab3.advance_to_guide)}},model:{value:e.current_tour_select_to_view.finalInfoTab3.advance_to_guide,callback:function(t){e.$set(e.current_tour_select_to_view.finalInfoTab3,"advance_to_guide",t)},expression:"current_tour_select_to_view.finalInfoTab3.advance_to_guide"}},"money",e.money_option,!1))],1):e._e()]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-8 q-pa-xs text-right"},[e._v("Actual expenses paid by guide")]),e.current_tour_select_to_view.finalInfoTab4?i("div",{staticClass:"col-4 q-pa-xs text-right"},[e._v(e._s(e._f("currency")(e.current_tour_select_to_view.finalInfoTab4.expense_paid_by_guide,e.option_filter)))]):e._e()]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-8 q-pa-xs text-right"},[e._v("Advance difference")]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"col-4 q-pa-xs text-right border-top"},[e._v(e._s(e._f("currency")(e.current_tour_select_to_view.finalInfoTab3.different,e.option_filter)))]):e._e()]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"row"},[e.current_tour_select_to_view.finalInfoTab3.different>=0?i("div",{staticClass:"col-8 q-pa-xs text-right"},[e._v("Refund to company")]):i("div",{staticClass:"col-8 q-pa-xs text-right"},[e._v("Pay more to guide")]),i("div",{staticClass:"col-4 q-pa-xs text-right"},[i("money",e._b({staticClass:"input-number-custom-3 text-right",attrs:{disabled:!e.is_update_tab_4||e.is_role_tour_guide},nativeOn:{blur:function(t){return e.updateRefundTour(e.current_tour_select_to_view.finalInfoTab3.refund)}},model:{value:e.current_tour_select_to_view.finalInfoTab3.refund,callback:function(t){e.$set(e.current_tour_select_to_view.finalInfoTab3,"refund",t)},expression:"current_tour_select_to_view.finalInfoTab3.refund"}},"money",e.money_option,!1))],1)]):e._e(),i("div",{staticClass:"row"},[i("div",{staticClass:"col-8 q-pa-xs text-right"},[e._v("Advance balance")]),e.current_tour_select_to_view.finalInfoTab3?i("div",{staticClass:"col-4 q-pa-xs text-right border-top border-bottom"},[e._v(e._s(e._f("currency")(e.current_tour_select_to_view.finalInfoTab3.balance_advance,e.option_filter)))]):e._e()])]),i("div",{staticClass:"session-expense-wrapper q-mt-md"},[e.is_update_tab_4?i("div",{staticClass:"button-wrapper"},[i("q-btn",{attrs:{icon:"add",size:"sm",color:"primary",label:"Add expense"},on:{click:function(t){return e.triggerOpenModalNewExpenseTab4()}}})],1):e._e(),i("div",{staticClass:"list-expense flex q-mt-md"},e._l(e.current_tour_select_to_view.infoExpenseListTab4,(function(t,a){return i("div",{key:a,staticClass:"item-expense q-mr-md"},[i("q-card",[i("q-card-section",[i("div",{staticClass:"flex justify-between"},[i("div",[e._v(e._s(t.fieldName))]),i("div",[i("q-btn",{attrs:{flat:"",icon:"edit",size:"sm",color:"primary",round:""},on:{click:function(i){return e.triggerOpenModalEditExpenseTab4(t)}}})],1)])]),i("q-separator"),i("q-card-section",[i("div",[e._v(e._s(t.dropdownValue))]),i("div",{staticClass:"q-mt-md row"},[i("div",{staticClass:"col-8 title-1"},[e._v("Amount after Tax")]),i("div",{staticClass:"col-4 text-right"},[e._v(e._s(e._f("currency")(t.afterTax,e.option_filter)))])]),i("div",{staticClass:"row q-mt-sm"},[i("div",{staticClass:"col-8 title-1"},[e._v("Tax (%)")]),i("div",{staticClass:"col-4 text-right"},[e._v(e._s(100*t.taxPercent))])]),i("div",{staticClass:"row q-mt-sm"},[i("div",{staticClass:"col-8 title-1"},[e._v("Amount before Tax")]),t.beforeTax?i("div",{staticClass:"col-4 text-right"},[e._v(e._s(e._f("currency")(t.beforeTax,e.option_filter)))]):e._e()])])],1)],1)})),0)])])]):e._e()],1)],1)]),i("q-dialog",{attrs:{"transition-show":"scale","transition-hide":"scale"},model:{value:e.open_modal_assign_personel,callback:function(t){e.open_modal_assign_personel=t},expression:"open_modal_assign_personel"}},[i("q-card",{staticClass:"bg-primary text-white",staticStyle:{width:"80%"}},[i("q-card-actions",{staticClass:"section-header-detail-booking"},[e._v("Assign tour guide")]),i("q-card-actions",{staticClass:"bg-white text-black"},[i("q-card",{staticClass:"w-100 q-pa-md"},[i("div",{staticClass:"add-wrapper"},[i("div",{staticClass:"flex"},[i("div",{staticClass:"w-100"},[e._v("Choose tour guide")]),i("div",{staticClass:"q-mt-sm"},[i("el-select",{attrs:{filterable:"",size:"mini",placeholder:"Select tour guide","popper-class":"select-z-index"},model:{value:e.obj_personel_temp.id,callback:function(t){e.$set(e.obj_personel_temp,"id",t)},expression:"obj_personel_temp.id"}},e._l(e.list_staff_is_tour_guide,(function(e){return i("el-option",{key:e.userId,attrs:{label:e.user.fullName,value:e.userId}})})),1)],1)])])])],1),i("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[i("div",[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-md",attrs:{label:"Cancel",color:"white",size:"sm","text-color":"black"}}),i("q-btn",{attrs:{label:"Add",color:"primary",size:"sm","text-color":"white",icon:"check"},on:{click:function(t){return e.addPersonelForTour()}}})],1)])],1)],1)],1)},f=[],m=(i("7514"),i("118e")),v=i.n(m),g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"w-100 header-mobile-wrapper"},[i("div",{staticClass:"h-100-per"},[e.view_detail?i("div",{staticClass:"h-100-per"},[i("div",{staticClass:"h-100-per"},[i("div",{staticClass:"text-header flex justify-between items-center"},[i("div",{staticClass:"flex items-center",staticStyle:{width:"75%"}},[i("q-icon",{staticClass:"q-ml-xs q-mr-xs",attrs:{dense:"",name:"keyboard_arrow_left",size:"md"},on:{click:function(t){return e.backToList()}}}),i("div",{staticClass:"name-product"},[e._v(e._s(e.name_header_mobile))]),i("q-space")],1)])])]):i("div",{staticClass:"h-100-per"},[i("div",{staticClass:"h-100-per"},[i("div",{staticClass:"text-header flex justify-between"},[e.today_tour?i("div",{staticClass:"q-pl-md"},[e._v("Today Tour")]):i("div",{staticClass:"q-pl-md"},[e._v("Tour List")]),i("div",{staticClass:"q-pr-md"},[i("q-icon",{staticClass:"q-mr-sm",attrs:{name:"filter_list",size:"sm"},on:{click:function(t){return e.openMenuFilter()}}})],1)])])])]),i("q-dialog",{attrs:{position:"right","content-class":"dialog-filter-booking"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("div",{staticClass:"body-filter-wrapper",staticStyle:{position:"relative"}},[i("div",{staticClass:"text-center header-filter-mobile"},[i("div",{staticClass:"q-pa-sm q-pr-lg",staticStyle:{width:"13%"}},[i("q-icon",{attrs:{color:"primary",name:"keyboard_arrow_left",size:"md"},on:{click:function(t){return e.closePopupFilter()}}})],1),i("div",{staticClass:"q-pt-sm q-pb-sm",staticStyle:{width:"74%"}},[e._v("Filter Tour")]),i("div",{staticClass:"q-pa-sm q-pr-lg",staticStyle:{width:"13%"}})]),i("div",{staticClass:"q-pa-md content-filter-mobile"},[e.today_tour?e._e():i("div",{staticClass:"row-filter justify-between q-mb-md"},[i("div",{staticClass:"text-filter"},[e._v("Travel date")]),i("div",{staticClass:"content-filter"},[i("picker-filter",{attrs:{id:"picker-custom",noClearButton:!0,formatted:"l",autoClose:!0,noShortcuts:!0,noHeader:!0,"no-label":!0,range:!0,format:"DD/MM/YYYY",color:"#027BE3"},model:{value:e.info_filter_tour.date_range,callback:function(t){e.$set(e.info_filter_tour,"date_range",t)},expression:"info_filter_tour.date_range"}})],1)]),i("div",{staticClass:"row-filter justify-between q-mb-md"},[i("div",{staticClass:"text-filter"},[e._v("Tour type")]),i("div",{staticClass:"content-filter"},[i("el-select",{attrs:{size:"mini","popper-class":"popper-filter-status",placeholder:"Day of week"},model:{value:e.info_filter_tour.tour_type,callback:function(t){e.$set(e.info_filter_tour,"tour_type",t)},expression:"info_filter_tour.tour_type"}},e._l(e.option_tour_type_filter,(function(e){return i("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)]),i("div",{staticClass:"row-filter justify-between q-mb-md"},[i("div",{staticClass:"text-filter"},[e._v("Group booking")]),i("div",{staticClass:"content-filter"},[i("el-select",{attrs:{size:"mini","popper-class":"popper-filter-status",placeholder:"Choose Group booking"},model:{value:e.info_filter_tour.group_booking,callback:function(t){e.$set(e.info_filter_tour,"group_booking",t)},expression:"info_filter_tour.group_booking"}},e._l(e.options_group_booking,(function(e){return i("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)]),i("div",{staticClass:"row-filter justify-between q-mb-md"},[i("div",{staticClass:"text-filter"},[e._v("Start time")]),i("div",{staticClass:"content-filter"},[i("el-select",{attrs:{size:"mini","popper-class":"popper-filter-status",placeholder:"Day of week"},model:{value:e.info_filter_tour.start_time,callback:function(t){e.$set(e.info_filter_tour,"start_time",t)},expression:"info_filter_tour.start_time"}},e._l(e.option_start_time_filter,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]),i("div",{staticClass:"row-filter justify-between q-mb-md"},[i("div",{staticClass:"text-filter"},[e._v("Meals")]),i("div",{staticClass:"content-filter"},[i("el-select",{attrs:{size:"mini","popper-class":"popper-filter-status",placeholder:"Choose meal"},model:{value:e.info_filter_tour.meals,callback:function(t){e.$set(e.info_filter_tour,"meals",t)},expression:"info_filter_tour.meals"}},e._l(e.options_meal_filter,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1)]),i("div",{staticClass:"row-filter justify-between q-mb-md"},[i("div",{staticClass:"text-filter"},[e._v("Product name")]),i("div",{staticClass:"content-filter"},[i("el-input",{attrs:{placeholder:"Enter product name",size:"mini"},model:{value:e.info_filter_tour.product_name,callback:function(t){e.$set(e.info_filter_tour,"product_name",t)},expression:"info_filter_tour.product_name"}})],1)]),i("div",{staticClass:"row-filter justify-between q-mb-md"},[i("div",{staticClass:"text-filter"},[e._v("Product code")]),i("div",{staticClass:"content-filter"},[i("el-input",{attrs:{placeholder:"Enter product code",size:"mini"},model:{value:e.info_filter_tour.product_code,callback:function(t){e.$set(e.info_filter_tour,"product_code",t)},expression:"info_filter_tour.product_code"}})],1)]),i("div",{staticClass:"row-filter justify-between q-mb-md"},[i("div",{staticClass:"text-filter"},[e._v("Transportation")]),i("div",{staticClass:"content-filter"},[i("el-select",{attrs:{size:"mini","popper-class":"popper-filter-status",placeholder:"Choose transportation"},model:{value:e.info_filter_tour.transportation,callback:function(t){e.$set(e.info_filter_tour,"transportation",t)},expression:"info_filter_tour.transportation"}},e._l(e.options_main_transportation_filter,(function(e){return i("el-option",{key:e.id,attrs:{label:e.plateNumber,value:e.plateNumber}})})),1)],1)]),i("div",{staticClass:"row-filter justify-between q-mb-md"},[i("div",{staticClass:"text-filter"},[e._v("Tour guides")]),i("div",{staticClass:"content-filter"},[i("el-select",{attrs:{size:"mini","popper-class":"popper-filter-status",placeholder:"Choose tour guides",filterable:""},model:{value:e.info_filter_tour.tour_guide,callback:function(t){e.$set(e.info_filter_tour,"tour_guide",t)},expression:"info_filter_tour.tour_guide"}},e._l(e.options_tour_guide_filter,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1)]),i("div",{staticClass:"row-filter justify-between q-mb-md"},[i("div",{staticClass:"text-filter"},[e._v("Drivers")]),i("div",{staticClass:"content-filter"},[i("el-select",{attrs:{size:"mini","popper-class":"popper-filter-status",placeholder:"Choose drivers"},model:{value:e.info_filter_tour.drivers,callback:function(t){e.$set(e.info_filter_tour,"drivers",t)},expression:"info_filter_tour.drivers"}},e._l(e.options_drivers_filter,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1)]),i("div",{staticClass:"row-filter justify-between q-mb-md"},[i("div",{staticClass:"text-filter"},[e._v("Leaders")]),i("div",{staticClass:"content-filter"},[i("el-select",{attrs:{size:"mini","popper-class":"popper-filter-status",placeholder:"Choose leaders"},model:{value:e.info_filter_tour.leaders,callback:function(t){e.$set(e.info_filter_tour,"leaders",t)},expression:"info_filter_tour.leaders"}},e._l(e.options_leaders_filter,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1)]),i("div",{staticClass:"row-filter justify-between q-mb-md"},[i("div",{staticClass:"text-filter"},[e._v("Hostesses")]),i("div",{staticClass:"content-filter"},[i("el-select",{attrs:{size:"mini","popper-class":"popper-filter-status",placeholder:"Choose hostesses"},model:{value:e.info_filter_tour.hostesses,callback:function(t){e.$set(e.info_filter_tour,"hostesses",t)},expression:"info_filter_tour.hostesses"}},e._l(e.options_hostesses_filter,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1)]),i("div",{staticClass:"row-filter justify-between q-mb-md"},[i("div",{staticClass:"text-filter"},[e._v("Captains")]),i("div",{staticClass:"content-filter"},[i("el-select",{attrs:{size:"mini","popper-class":"popper-filter-status",placeholder:"Choose captains"},model:{value:e.info_filter_tour.captains,callback:function(t){e.$set(e.info_filter_tour,"captains",t)},expression:"info_filter_tour.captains"}},e._l(e.options_captains_filter,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1)]),i("div",{staticClass:"row-filter justify-between q-mb-md"},[i("div",{staticClass:"text-filter"},[e._v("Supporters")]),i("div",{staticClass:"content-filter"},[i("el-select",{attrs:{size:"mini","popper-class":"popper-filter-status",placeholder:"Choose supporters"},model:{value:e.info_filter_tour.supporters,callback:function(t){e.$set(e.info_filter_tour,"supporters",t)},expression:"info_filter_tour.supporters"}},e._l(e.options_supporters_filter,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1)]),i("div",{staticClass:"row-filter justify-between q-mb-md"},[i("div",{staticClass:"text-filter"},[e._v("Operation in-charge")]),i("div",{staticClass:"content-filter"},[i("el-select",{attrs:{size:"mini","popper-class":"popper-filter-status",placeholder:"Choose helpers"},model:{value:e.info_filter_tour.helpers,callback:function(t){e.$set(e.info_filter_tour,"helpers",t)},expression:"info_filter_tour.helpers"}},e._l(e.options_helpers_filter,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1)]),i("div",{staticClass:"row-filter justify-between q-mb-md"},[i("div",{staticClass:"text-filter"},[e._v("Others")]),i("div",{staticClass:"content-filter"},[i("el-select",{attrs:{size:"mini","popper-class":"popper-filter-status",placeholder:"Choose helpers"},model:{value:e.info_filter_tour.others,callback:function(t){e.$set(e.info_filter_tour,"others",t)},expression:"info_filter_tour.others"}},e._l(e.options_others_filter,(function(e){return i("el-option",{key:e.id,attrs:{label:e.namePIC,value:e.namePIC}})})),1)],1)])]),i("div",{staticClass:"button-confirm-wrapper q-pl-md q-pr-md q-pt-sm q-pb-sm"},[i("div",{staticClass:"text-center"},[i("q-btn",{staticClass:"q-mr-md",attrs:{icon:"clear",size:"sm",label:"Clear",outline:"",color:"primary"},on:{click:function(t){return e.resetFilterBooking()}}}),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"filter_list",size:"sm",label:"Apply",color:"primary"},on:{click:function(t){return e.applyFilterTour()}}})],1)])])])],1)},b=[],h={name:"HeaderMobile",props:{today_tour:{},name_header_mobile:{type:String,default:""},view_detail:{type:Boolean,default:!1},option_tour_type_filter:{type:Array,default:[]},option_start_time_filter:{type:Array,default:[]},options_main_transportation_filter:{type:Array,default:[]},options_tour_guide_filter:{type:Array,default:[]},options_drivers_filter:{type:Array,default:[]},options_leaders_filter:{type:Array,default:[]},options_hostesses_filter:{type:Array,default:[]},options_captains_filter:{type:Array,default:[]},options_supporters_filter:{type:Array,default:[]},options_helpers_filter:{type:Array,default:[]},options_meal_filter:{type:Array,default:[]},options_others_filter:{type:Array,default:[]}},data:function(){return{input_date_range_filter:"",dialog:!1,input_status_filter:"",info_filter_tour:{date_range:[],day_of_week:-1,group_booking:"",product_code:"",product_name:"",tour_type:-1,start_time:-1,transportation:"Not selected",tour_guide:[],drivers:[],leaders:[],hostesses:[],captains:[],supporters:[],helpers:[],meals:[],others:[]},options_status_yes_no_filter:[{label:"Not selected",value:-1},{label:"Yes",value:!0},{label:"No",value:!1}],options_invoice_send_yes_no:[{label:"Yes",value:!0},{label:"No",value:!1}],options_status:[{value:-1,label:"Not selected"},{value:0,label:"Pending"},{value:1,label:"Waiting"},{value:2,label:"Reject"},{value:3,label:"CF-Unpaid"},{value:4,label:"CF-Deposit"},{value:5,label:"CF-Paid"},{value:6,label:"DD-Paid"},{value:7,label:"DD-Due"},{value:8,label:"Cancel"},{value:9,label:"Others"}],options_group_booking:[{name:"No choose",value:""},{name:"Tour #1",value:"tour1"},{name:"Tour #2",value:"tour2"},{name:"Tour #3",value:"tour3"},{name:"Tour #4",value:"tour4"},{name:"Tour #5",value:"tour5"},{name:"Tour #6",value:"tour6"},{name:"Tour #7",value:"tour7"},{name:"Tour #8",value:"tour8"},{name:"Tour #9",value:"tour9"}],input_booking_code_filter:""}},methods:{getStartDateFilter:function(){var e=new Date,t=e.getDate().toString(),i=(e.getMonth()+1).toString(),a=e.getFullYear().toString();return t+"/"+i+"/"+a},getEndDateFilter:function(){var e=new Date;e.setDate(e.getDate()+7);var t=e.getDate().toString(),i=(e.getMonth()+1).toString(),a=e.getFullYear().toString();return t+"/"+i+"/"+a},applyFilterTour:function(){this.$emit("applyFilterTour",this.info_filter_tour)},resetFilterBooking:function(){this.info_filter_tour={date_range:[],day_of_week:-1,group_booking:"",product_code:"",product_name:"",tour_type:-1,start_time:-1,transportation:"Not selected",tour_guide:[],drivers:[],leaders:[],hostesses:[],captains:[],supporters:[],helpers:[],meals:[],others:[]}},backToList:function(){this.$emit("backToList")},openMenuFilter:function(){this.dialog=!0},closePopupFilter:function(){this.dialog=!1}},components:{"picker-filter":l.a},mounted:function(){var e={start:this.getStartDateFilter(),end:this.getEndDateFilter()};this.info_filter_tour.date_range=e}},y=h,x=i("2877"),w=i("fe09"),C=Object(x["a"])(y,g,b,!1,null,null,null),T=C.exports;function k(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function q(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?k(i,!0).forEach((function(t){s()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):k(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}C.options.components=Object.assign({QIcon:w["n"],QSpace:w["D"],QDialog:w["k"],QBtn:w["c"]},C.options.components||{}),C.options.directives=Object.assign({ClosePopup:w["a"]},C.options.directives||{});var I={name:"List-tour-mobile-page",props:{today_tour:{type:Boolean,default:!1},options_main_transportation_filter:{type:Array,default:[]},option_tour_type_filter:{type:Array,default:[]},option_start_time_filter:{type:Array,default:[]},list_tour:{type:Array,default:[]},list_others:{type:Array,default:[]},list_meals:{type:Array,default:[]},list_helper:{type:Array,default:[]},list_supportes:{type:Array,default:[]},list_captains:{type:Array,default:[]},list_hostess:{type:Array,default:[]},list_leader:{type:Array,default:[]},list_driver:{type:Array,default:[]},list_tour_guide:{type:Array,default:[]},list_staff_is_tour_guide:{type:Array,default:[]},current_tour_select_to_view:{type:Object,default:{}},loading_list_tour:{type:Boolean,default:!1},is_read_tab_1:{type:Boolean,default:!1},is_read_tab_2:{type:Boolean,default:!1},is_read_tab_3:{type:Boolean,default:!1},is_read_tab_4:{type:Boolean,default:!1},is_update_tab_1:{type:Boolean,default:!1},is_update_tab_2:{type:Boolean,default:!1},is_update_tab_3:{type:Boolean,default:!1},is_update_tab_4:{type:Boolean,default:!1},is_role_tour_guide:{type:Boolean,default:!1},columns_view_order_in_tour:{type:Array,default:[]},option_filter:{type:Object,default:{}},money_option:{type:Object,default:{}},user_can_check_finish_tour:{type:Boolean,default:!1},pagination:{type:Object,default:{}}},filters:{getTotalGuess:function(e){if(e.orders&&e.orders.length>0){var t=0;return e.orders.forEach((function(e){t+=e.guestQuantity})),t}return 0},getNameTourType:function(e){var t="";return e.orders&&e.orders.forEach((function(e){""!=e.tourType&&(t=e.tourType)})),t},getTourOrder:function(e){switch(e){case"tour1":return"Tour #1";case"tour2":return"Tour #2";case"tour3":return"Tour #3";case"tour4":return"Tour #4";case"tour5":return"Tour #5";case"tour6":return"Tour #6";case"tour7":return"Tour #7";case"tour8":return"Tour #8";case"tour9":return"Tour #9";case"tour10":return"Tour #10";case"tour11":return"Tour #11";case"tour12":return"Tour #12";case"tour13":return"Tour #13";case"tour14":return"Tour #14";case"tour15":return"Tour #15";case"tour16":return"Tour #16"}}},computed:q({total_page_mobile:function(){if(this.pagination_mobile.rowsNumber&&this.pagination.rowsPerPage){var e=this.pagination_mobile.rowsNumber/this.pagination.rowsPerPage;return parseInt(e)}return 0},listChoosedBooking:function(){var e=[],t=this;return t.list_tour_grouped.forEach((function(t){t.list_booking.forEach((function(t){t.check_select&&e.push(t)}))})),e}},Object(u["b"])({current_user_logged_info:"login/getUserLoggedInfo",current_branch_id:"login/getCurrentBranchId",role_perm:"login/getInfoPerm"})),watch:{is_done_add_booking_mobile:function(e){1==e&&this.backToListBooking()},tier_and_price:function(e){},current_branch_id:function(e){!isNaN(e)&&parseInt(e)},list_tour:function(e){e.length>0?this.initDataToshowTour(e):this.list_tour_grouped=[]},pagination:function(e){this.pagination_mobile=e}},data:function(){return{pagination_mobile:{},obj_personel_temp:{id:""},tab_view_tour:"tour",is_add_booking:!1,is_view_detail_tour:!1,list_tour_grouped:[],options_hotel:[],list_hotel:[],options_group_booking:[{name:"Tour #1",value:"tour1"},{name:"Tour #2",value:"tour2"},{name:"Tour #3",value:"tour3"},{name:"Tour #4",value:"tour4"},{name:"Tour #5",value:"tour5"},{name:"Tour #6",value:"tour6"},{name:"Tour #7",value:"tour7"},{name:"Tour #8",value:"tour8"},{name:"Tour #9",value:"tour9"},{name:"Tour #9",value:"tour10"},{name:"Tour #9",value:"tour11"},{name:"Tour #9",value:"tour12"},{name:"Tour #9",value:"tour13"},{name:"Tour #9",value:"tour14"},{name:"Tour #9",value:"tour15"}],is_do_add_booking_mobile:!1,is_do_edit_booking_mobile:!1,item_booking_to_view:{},trigger_control_booking:!1,is_holding_booking:!1,booking_change_group:null,nameHeader:"Booking List",tab:"booking",is_view_list_tour:!0,trigger_edit_booking:!1,shouldStick:!0,open_modal_assign_personel:!1}},methods:{changePagePagination:function(){this.$emit("changePaginationMobile",this.pagination_mobile)},isCurrentDate:function(e){var t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);var i=new Date(e);return i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0),i.getTime()==t.getTime()},applyFilterTour:function(e){this.$emit("applyFilterTour",e)},triggerOpenModalEditExpenseTab4:function(e){this.$emit("triggerOpenModalEditExpenseTab4",e,!0)},triggerOpenModalNewExpenseTab4:function(){this.$emit("triggerOpenModalNewExpenseTab4",!0)},triggerOpenModalNewExpense:function(){this.$emit("triggerOpenModalNewExpense",!0)},triggerOpenModalEditExpenseTab3:function(e){this.$emit("triggerOpenModalEditExpenseTab3",e,!0)},updateRefundTour:function(e){this.$emit("updateRefundTour",e,!0)},updateAdvanceToGuide:function(e){this.$emit("updateAdvanceToGuide",e,!0)},changeStatusGuideTracking:function(e){this.$emit("changeStatusGuideTracking",e,!0)},blurInputStartingPoint:function(){var e=this,t=localStorage.getItem("user_token_fisheye_client");if(!e.is_update_tab_1||e.is_role_tour_guide);else{var i={tourId:e.current_tour_select_to_view.id,startingPoint:e.current_tour_select_to_view.startingPoint};e.$axios.post("/api/Tours/UpdateTourFirstTabCommand",JSON.stringify(i),{headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then((function(t){e.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Update Successfully"})})).catch((function(t){t.response.data?e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:t.response.data}):e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}},reUpdate:function(){this.$forceUpdate()},removePersonel:function(e){this.$emit("removePersonel",e)},addPersonelForTour:function(){var e=this,t=localStorage.getItem("user_token_fisheye_client");if(e.obj_personel_temp.id){var i={tourId:e.current_tour_select_to_view.id,userId:e.obj_personel_temp.id};e.$axios.post("/api/Tours/AssignTourGuide",JSON.stringify(i),{headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then((function(t){var i=e.list_staff_is_tour_guide.filter((function(t){return t.userId==e.obj_personel_temp.id}))[0];e.current_tour_select_to_view.tourUsers.push({user:i.user,userId:i.userId}),e.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Assign Successfully"}),e.open_modal_assign_personel=!1})).catch((function(t){e.open_modal_assign_personel=!1,t.response.data?e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:t.response.data}):e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}},triggerOpenDialogAddPersonal:function(){var e=this;e.open_modal_assign_personel=!0},formatDateSystem:function(e){if(""!=e&&null!=e){var t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a="",o=new Date(e),r=t[o.getDay()],s=i[o.getMonth()],n=o.getDate().toString(),l=o.getFullYear().toString();a=r+", "+n+" "+s+" "+l;return a}return""},getNameGroupBooking:function(e){var t="";return this.options_group_booking.forEach((function(i){i.value==e&&(t=i.name)})),t},initDataToshowTour:function(e){var t=[],i=[];e.forEach((function(e,t){-1==i.indexOf(e.travelDate)&&i.push(e.travelDate)})),i.sort(),i.forEach((function(e){var i={date_travel:e,list_tour:[]};t.push(i)})),e.forEach((function(e,i){t.forEach((function(t){e.travelDate==t.date_travel&&t.list_tour.push(e)}))})),this.list_tour_grouped=t},handleHold:function(e){var t=e.evt,i=(v()(e,["evt"]),this),a=t.path.find((function(e){if(e.id)return e})),o=a.id;if(isNaN(o))alert("error");else{i.list_tour_grouped.forEach((function(e){e.list_booking.forEach((function(e){e.id==o&&e.is_grouped&&(i.is_holding_booking=!0,e.choosed_change_group=!0,i.booking_change_group=e,i.$forceUpdate())}))}))}},onLongPressStart:function(e){e.is_grouped&&(this.is_holding_booking=!0,e.choosed_change_group=!0,this.booking_change_group=e,this.$forceUpdate())},onLongPressStop:function(){console.log("b")},refresh:function(e){setTimeout((function(){e()}),1e3)},backToListBooking:function(){this.is_view_list_tour=!0,this.is_view_detail_tour=!1,this.trigger_edit_booking=!1,this.nameHeader=""},resetChoosedBooking:function(){var e=this;e.list_tour_grouped.forEach((function(e){e.list_booking.forEach((function(e){e.check_select=!1}))}))},clearBookingChoosedChangeGroup:function(){var e=this;e.is_holding_booking=!1,e.$set(e.booking_change_group,"choosed_change_group",!1),e.$forceUpdate()},viewDetailTourMobile:function(e){this.is_view_list_tour=!1,this.nameHeader=e.aliasName,this.$emit("openModalViewTour",e,!0)}},components:{"header-mobile":T},mounted:function(){this.list_tour.length>0&&this.initDataToshowTour(this.list_tour)}},S=I,P=(i("d4a4"),Object(x["a"])(S,p,f,!1,null,null,null)),j=P.exports;P.options.components=Object.assign({QSeparator:w["C"],QPagination:w["A"],QTabs:w["J"],QTab:w["F"],QTabPanels:w["H"],QTabPanel:w["G"],QChip:w["i"],QBtn:w["c"],QTable:w["I"],QTr:w["Q"],QTd:w["K"],QCheckbox:w["h"],QCard:w["e"],QCardSection:w["g"],QDialog:w["k"],QCardActions:w["f"]},P.options.components||{}),P.options.directives=Object.assign({TouchHold:w["S"],ClosePopup:w["a"]},P.options.directives||{});var O=i("b5ae"),$=i("241e6");function N(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function E(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?N(i,!0).forEach((function(t){s()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):N(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var L={name:"List-tour-desktop-page",props:{today_tour:{type:Boolean,default:!1}},validations:{obj_expense_temp:{type:{required:O["required"]},place:{required:O["required"]}}},filters:{getNameTourType:function(e){var t="";return e.orders&&e.orders.forEach((function(e){""!=e.tourType&&(t=e.tourType)})),t},getTotalGuess:function(e){if(e.orders&&e.orders.length>0){var t=0;return e.orders.forEach((function(e){t+=e.guestQuantity})),t}return 0},getTourOrder:function(e){switch(e){case"tour1":return"Tour #1";case"tour2":return"Tour #2";case"tour3":return"Tour #3";case"tour4":return"Tour #4";case"tour5":return"Tour #5";case"tour6":return"Tour #6";case"tour7":return"Tour #7";case"tour8":return"Tour #8";case"tour9":return"Tour #9";case"tour10":return"Tour #10";case"tour11":return"Tour #11";case"tour12":return"Tour #12";case"tour13":return"Tour #13";case"tour14":return"Tour #14";case"tour15":return"Tour #15";case"tour16":return"Tour #16"}}},watch:{regional_branch:function(e){e&&e.mainCurrency&&(this.money_option=Object(d["a"])(parseInt(e.mainCurrency)),1==parseInt(e.mainCurrency)&&(this.option_filter={symbol:"",thousandsSeparator:",",fractionCount:0,fractionSeparator:".",display_symbol:"VND"}),2==parseInt(e.mainCurrency)&&(this.option_filter={symbol:"",thousandsSeparator:",",fractionCount:2,fractionSeparator:".",display_symbol:"$"}),this.$forceUpdate())},current_branch_id:function(e){!isNaN(e)&&parseInt(e)>0&&(this.getListTourType(),this.getListTourGuideAssignPersonel(),this.getListTourGuide(),this.getListDriver(),this.getListLeader(),this.getListHostess(),this.getListCaptains(),this.getListSupporter(),this.getListHelper(),this.getListMeals(),this.getListOthers(),this.getListMainTransportation(),this.getListStaff(),this.getListTour(),this.getCompanyFieldsTab3(),this.getCompanyFieldsTab4())},"info_filter_tour.date_range":function(e){e.end&&this.getListTour()}},computed:E({},Object(u["b"])({current_user_logged_info:"login/getUserLoggedInfo",current_branch_id:"login/getCurrentBranchId",role_perm:"login/getInfoPerm",regional_branch:"login/getInfoRegionalBranch",is_role_admin:"login/getRoleAdmin",is_role_mod:"login/getRoleMod",is_role_operation:"login/getRoleOperation",is_role_operation_can_group_bk:"login/getRoleOperationCanGroupBK",is_role_staff:"login/getRoleStaff",is_role_tour_guide:"login/getRoleTourGuide"}),{user_can_check_finish_tour:function(){if(this.current_tour_select_to_view.travelDate){var e=new Date(this.current_tour_select_to_view.travelDate);e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0);var t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),e<=t}return!1},is_read_tour:function(){return this.getPermRole("tour:read")},is_read_tab_1:function(){return this.getPermRole("tour:read-tab1")},is_read_tab_2:function(){return this.getPermRole("tour:read-tab2")},is_read_tab_3:function(){return this.getPermRole("tour:read-tab3")},is_read_tab_4:function(){return this.getPermRole("tour:read-tab4")},is_update_tab_1:function(){return this.getPermRole("tour:update-tab1")},is_update_tab_2:function(){return this.getPermRole("tour:update-tab2")},is_update_tab_3:function(){return this.getPermRole("tour:update-tab3")},is_update_tab_4:function(){return this.getPermRole("tour:update-tab4")}}),data:function(){return{open_modal_view_detail_booking:!1,booking_detail:{src:""},is_from_mobile:!1,data_total_row:{guest_quantity:0,adult_number:0,child_number:0,infant_number:0,youth_number:0,senior_number:0,total_expense:0},is_edit_expense_tab_3:!1,is_edit_expense_tab_4:!1,list_company_field_tab3:[],list_company_field_tab4:[],open_modal_view_detail:!1,open_modal_add_expense_tab_3:!1,open_modal_add_expense_tab_4:!1,open_modal_assign_personel:!1,tab_view_tour:"tour",options_type_expense:[],options_tax:[{value:0,name:"0%"},{value:5,name:"5%"},{value:8,name:"8%"},{value:10,name:"10%"},{value:17,name:"10%"}],list_guide_expense:[{id:1,type:"Tickets",place:"Cu Chu tunnels",amount_after_tax:12,tax:5,amount_before_tax:23,paid_amount:12},{id:1,type:"Lunch",place:"Lotus",amount_after_tax:12,tax:5,amount_before_tax:23,paid_amount:12}],obj_expense_temp:{type:"",place:"",amount_after_tax:0,tax:0,amount_before_tax:0,paid_amount:0},obj_personel_temp:{id:""},options_range_time_filter:[{value:-1,label:"Not selected"},{value:"12:00am",label:"12:00am"},{value:"12:30am",label:"12:30am"},{value:"01:00am",label:"01:00am"},{value:"01:30am",label:"01:30am"},{value:"02:00am",label:"02:00am"},{value:"02:30am",label:"02:30am"},{value:"03:00am",label:"03:00am"},{value:"03:30am",label:"03:30am"},{value:"04:00am",label:"04:00am"},{value:"04:30am",label:"04:30am"},{value:"05:00am",label:"05:00am"},{value:"05:30am",label:"05:30am"},{value:"06:00am",label:"06:00am"},{value:"06:30am",label:"06:30am"},{value:"07:00am",label:"07:00am"},{value:"07:30am",label:"07:30am"},{value:"08:00am",label:"08:00am"},{value:"08:30am",label:"08:30am"},{value:"09:00am",label:"09:00am"},{value:"09:30am",label:"09:30am"},{value:"10:00am",label:"10:00am"},{value:"10:30am",label:"10:30am"},{value:"11:00am",label:"11:00am"},{value:"11:30am",label:"11:30am"},{value:"12:00pm",label:"12:00pm"},{value:"12:30pm",label:"12:30pm"},{value:"01:00pm",label:"01:00pm"},{value:"01:30pm",label:"01:30pm"},{value:"02:00pm",label:"02:00pm"},{value:"02:30pm",label:"02:30pm"},{value:"03:00pm",label:"03:00pm"},{value:"03:30pm",label:"03:30pm"},{value:"04:00pm",label:"04:00pm"},{value:"04:30pm",label:"04:30pm"},{value:"05:00pm",label:"05:00pm"},{value:"05:30pm",label:"05:30pm"},{value:"06:00pm",label:"06:00pm"},{value:"06:30pm",label:"06:30pm"},{value:"07:00pm",label:"07:00pm"},{value:"07:30pm",label:"07:30pm"},{value:"08:00pm",label:"08:00pm"},{value:"08:30pm",label:"08:30pm"},{value:"09:00pm",label:"09:00pm"},{value:"09:30pm",label:"09:30pm"},{value:"10:00pm",label:"10:00pm"},{value:"10:30pm",label:"10:30pm"},{value:"11:00pm",label:"11:00pm"},{value:"11:30pm",label:"11:30pm"}],options_group_booking:[{name:"No choose",value:""},{name:"Tour #1",value:"tour1"},{name:"Tour #2",value:"tour2"},{name:"Tour #3",value:"tour3"},{name:"Tour #4",value:"tour4"},{name:"Tour #5",value:"tour5"},{name:"Tour #6",value:"tour6"},{name:"Tour #7",value:"tour7"},{name:"Tour #8",value:"tour8"},{name:"Tour #9",value:"tour9"}],option_start_time:[],options_day_of_week:[{value:-1,label:"Not selected"},{value:"Monday",label:"Monday"},{value:"Tuesday",label:"Tuesday"},{value:"Wednesday",label:"Wednesday"},{value:"Thursday",label:"Thursday"},{value:"Friday",label:"Friday"},{value:"Saturday",label:"Saturday"},{value:"Sunday",label:"Sunday"}],option_tour_type:[],option_tour_type_filter:[],options_main_transportation_filter:[],options_hotel:[],options_bookers:[],options_gender:[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Other",value:"other"}],options_pickup_order:[{label:"#1",value:"#1"},{label:"#2",value:"#2"},{label:"#3",value:"#3"},{label:"#4",value:"#4"}],list_tours:[],list_staff:[],list_staff_is_tour_guide:[],list_tour_guide:[],list_driver:[],list_leader:[],list_hostess:[],list_captains:[],list_supportes:[],list_helper:[],list_transfer_vehicles:[],list_meals:[],list_others:[],options_list_group_tour:["Tour 1","Tour 2","Tour 1","Tour 2","Tour 1","Tour 2","Tour 1","Tour 2","Tour 1","Tour 2","Tour 1","Tour 2"],loading:{loading_product:!1,loading_list_tour:!1,loading_list_booker:!1,loading_main:!1},loading_expense:!1,loading_edit_tour:!1,pagination:{sortBy:"stt",descending:!1,page:1,rowsPerPage:20,rowsNumber:20},selected:[],columns:c["a"],columns_view_order_in_tour:[{style:"width: 100px",name:"view",label:"View",unique:"view",align:"left"},{style:"width: 50px",name:"no",label:"No",unique:"no",align:"left",field:"stt"},{name:"pickupOrder",align:"left",label:"Pickup order",unique:"pickupOrder",field:"pickupOrder",style:"width: 130px"},{name:"bookingNumber",label:"Booking number",align:"left",field:"bookingNumber",unique:"bookingNumber",style:"width: 200px"},{name:"guestInfomation",align:"left",label:"Guest information",unique:"guestInfomation",field:"guestInfomation",style:"width: 200px"},{name:"pickUp",align:"left",label:"Pick up",unique:"pickUp",field:"pickUp",style:"width: 200px"},{name:"notes",align:"left",label:"Notes",unique:"notes",field:"notes",style:"width: 200px"}],info_filter_tour:{date_range:[],day_of_week:-1,group_booking:"",product_code:"",product_name:"",tour_type:-1,start_time:-1,transportation:"Not selected",tour_guide:[],drivers:[],leaders:[],hostesses:[],captains:[],supporters:[],helpers:[],meals:[],others:[]},options:[],money_option:{},option_filter:{symbol:"",thousandsSeparator:",",fractionCount:0,fractionSeparator:".",display_symbol:"VND"},options_status:[],is_view_booking:!1,current_tour_select_to_view:{startingPoint:""},input:"",value1:"",num:""}},methods:{changePaginationMobile:function(e){this.$set(this.pagination,"page",e.page),this.getListTour()},onRequest:function(e){this.$set(this,"pagination",e.pagination),this.getListTour()},getNameHeaderCrop:function(e){var t=e.split(" ").length;if(t>1){var i="",a=e.split(" ");return a.forEach((function(e,t){i+=1==t?"<br>"+e:" "+e})),i}return e},getStartDateFilter:function(){var e=new Date,t=e.getDate().toString(),i=(e.getMonth()+1).toString(),a=e.getFullYear().toString();return t+"/"+i+"/"+a},getEndDateFilter:function(){var e=new Date;e.setDate(e.getDate()+7);var t=e.getDate().toString(),i=(e.getMonth()+1).toString(),a=e.getFullYear().toString();return t+"/"+i+"/"+a},viewScheduleTourGuide:function(){var e=this,t=this.$router.resolve({name:"schedule-tour-guide",query:{is_view_tour_guide:!0,tour_guide_id:e.obj_personel_temp.id}});window.open(t.href,"_blank")},applyFilterTour:function(e){var t=Object.assign({},e);this.info_filter_tour=t,this.getListTour()},viewDetailBooking:function(e){var t=this,i=this.$router.resolve({name:"view-booking",params:{booking_id:e.id}});t.booking_detail.src=$["a"]+i.href,t.open_modal_view_detail_booking=!0},updateAdvanceToGuide:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this,a=localStorage.getItem("user_token_fisheye_client"),o={tourId:i.current_tour_select_to_view.id,tourAdvanceToGuide:e};i.$axios.put("/api/Tours/UpdateBasicInfo",JSON.stringify(o),{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}}).then((function(e){i.getInfoDetailTour(i.current_tour_select_to_view.id,t),i.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Update Successfully"})})).catch((function(e){e.response.data?i.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):i.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))},updateRefundTour:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this,a=localStorage.getItem("user_token_fisheye_client"),o={tourId:i.current_tour_select_to_view.id,refundFromComany:e};i.$axios.put("/api/Tours/UpdateBasicInfo",JSON.stringify(o),{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}}).then((function(e){i.getInfoDetailTour(i.current_tour_select_to_view.id,t),i.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Update Successfully"})})).catch((function(e){e.response.data?i.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):i.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))},deleteExpenseAPI:function(){var e=this,t=localStorage.getItem("user_token_fisheye_client"),i={tourId:e.current_tour_select_to_view.id,firId:e.obj_expense_temp.firId};e.$axios.delete("/api/Tours/DeleteTourExpense",{data:i,headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then((function(t){e.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Delete expense Successfully"}),e.open_modal_add_expense_tab_3=!1,e.is_edit_expense_tab_3=!1,e.open_modal_add_expense_tab_4=!1,e.is_edit_expense_tab_4=!1,e.is_from_mobile?(e.getInfoDetailTour(e.current_tour_select_to_view.id,!0),e.is_from_mobile=!1):e.getInfoDetailTour(e.current_tour_select_to_view.id),e.getListTour()})).catch((function(t){t.response.data?e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:t.response.data}):e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))},removeExpense:function(){var e=this;this.$swal({title:"Are you sure?",text:"You will not be able to recover this data!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then((function(t){t.value&&e.deleteExpenseAPI()}))},triggerOpenModalEditExpenseTab4:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this;i.is_from_mobile=t,i.open_modal_add_expense_tab_4=!0,i.is_edit_expense_tab_4=!0,i.obj_expense_temp.type=e.fieldName,i.getListValueForCustomField(),i.obj_expense_temp.place=e.dropdownValue,i.obj_expense_temp.tax=100*e.taxPercent,i.obj_expense_temp.amount_before_tax=e.beforeTax,i.obj_expense_temp.paid_amount=e.paidAmount,i.obj_expense_temp.firId=e.firId,i.obj_expense_temp.fieldId=e.fieldId,i.obj_expense_temp.amount_after_tax=e.afterTax},triggerOpenModalEditExpenseTab3:function(e,t){var i=this;i.is_from_mobile=t,i.open_modal_add_expense_tab_3=!0,i.is_edit_expense_tab_3=!0,i.obj_expense_temp.type=e.fieldName,i.getListValueForCustomField(t),i.obj_expense_temp.place=e.dropdownValue,i.obj_expense_temp.tax=100*e.taxPercent,i.obj_expense_temp.amount_before_tax=e.beforeTax,i.obj_expense_temp.paid_amount=e.paidAmount,i.obj_expense_temp.firId=e.firId,i.obj_expense_temp.fieldId=e.fieldId,i.obj_expense_temp.amount_after_tax=e.afterTax},getNameGroupBooking:function(e){var t="";return this.options_group_booking.forEach((function(i){i.value==e&&(t=i.name)})),t},getOptionValue:function(e,t){var i=this;i.options_type_expense=[];var a=[];"ticket"==t||"breakfast"==t||"lunch"==t||"dinner"==t?e.forEach((function(e){var t={id:e.id,label:e.placeName};a.push(t)})):"fruits"==t||"snacks"==t||"meal"==t?e.forEach((function(e){var t={id:e.id,label:e.placeName};a.push(t)})):e.forEach((function(e){var t={id:e.id,label:e.namePIC};a.push(t)})),i.options_type_expense=a},getListValueForCustomField:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.options_type_expense=[],this.obj_expense_temp.place="";var e=this,t=this.obj_expense_temp.type.toLowerCase(),i=localStorage.getItem("branch_id_fisheye_client"),a=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/MasterLists/Get?BranchId="+i+"&ListName="+t,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}}).then((function(i){e.getOptionValue(i.data.masterLists,t)})).catch((function(t){Object(_["a"])(t.response,e)}))},getPermRole:function(e){return-1!=this.role_perm.indexOf(e)},blurInputStartingPoint:function(){var e=this,t=localStorage.getItem("user_token_fisheye_client"),i={tourId:e.current_tour_select_to_view.id,startingPoint:e.current_tour_select_to_view.startingPoint};e.$axios.post("/api/Tours/UpdateTourFirstTabCommand",JSON.stringify(i),{headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then((function(t){e.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Update Successfully"})})).catch((function(t){t.response.data?e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:t.response.data}):e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))},formatDateSystem:function(e){if(""!=e&&null!=e){var t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a="",o=new Date(e),r=t[o.getDay()],s=i[o.getMonth()],n=o.getDate().toString(),l=o.getFullYear().toString();a=r+", "+n+" "+s+" "+l;return a}return""},removePersonel:function(e){var t=this,i=localStorage.getItem("user_token_fisheye_client");if(e.userId){var a={tourId:t.current_tour_select_to_view.id,userId:e.userId};t.$axios.delete("/api/Tours/RemoveTourGuide",{data:a,headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(i){var a=JSON.parse(JSON.stringify(t.current_tour_select_to_view.tourUsers)),o=a.filter((function(t){return t.userId!=e.userId}));t.$set(t.current_tour_select_to_view,"tourUsers",o),t.$forceUpdate(),t.$refs.listTour.reUpdate(),t.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Remove personel Successfully"})})).catch((function(e){e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}},recalculatorNewExpense:function(){var e=this;e.obj_expense_temp.amount_before_tax=e.obj_expense_temp.amount_after_tax/(1+e.obj_expense_temp.tax/100),e.obj_expense_temp.paid_amount=e.obj_expense_temp.amount_after_tax},changeStatusGuideTracking:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.is_update_tab_2){var i=this,a={tourId:i.current_tour_select_to_view.id,eventName:e.name,status:e.value},o=localStorage.getItem("user_token_fisheye_client");i.$axios.post("/api/Tours/UpdateSecondTab",JSON.stringify(a),{headers:{Authorization:"Bearer "+o,"Content-Type":"application/json"}}).then((function(e){i.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Update successfully!"}),i.getInfoFirstTabTour(i.current_tour_select_to_view,t)})).catch((function(e){i.open_modal_assign_personel=!1,i.$forceUpdate(),e.response.data?i.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):i.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}else this.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"You do not have permission to do this action"})},apiChangePeopleService:function(e){var t=this,i=localStorage.getItem("user_token_fisheye_client");t.$axios.post("/api/Tours/UpdatePeopleService",JSON.stringify(e),{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(e){t.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Update successfully!"})})).catch((function(e){t.open_modal_assign_personel=!1,e.response.data?t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):t.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))},changeSelectTourGuide:function(e){var t=this,i=e.tourGuides,a={tourId:e.id,tourGuides:i};t.apiChangePeopleService(a)},changeSelectDriver:function(e){var t=this,i=e.drivers,a={tourId:e.id,drivers:i};t.apiChangePeopleService(a)},changeSelectLeader:function(e){var t=this,i=e.leaders,a={tourId:e.id,leaders:i};t.apiChangePeopleService(a)},changeSelectHostess:function(e){var t=this,i=e.hostesses,a={tourId:e.id,hostesses:i};t.apiChangePeopleService(a)},changeSelectCaptains:function(e){var t=this,i=e.captions,a={tourId:e.id,captions:i};t.apiChangePeopleService(a)},changeSelectSupporter:function(e){var t=this,i=e.supporters,a={tourId:e.id,supporters:i};t.apiChangePeopleService(a)},changeSelectHelper:function(e){var t=this,i=e.helpers,a={tourId:e.id,helpers:i};t.apiChangePeopleService(a)},changeSelectMeals:function(e){var t=this,i=e.meals,a={tourId:e.id,meals:i};t.apiChangePeopleService(a)},changeSelectOthers:function(e){var t=this,i=e.others,a={tourId:e.id,others:i};t.apiChangePeopleService(a)},addPersonelForTour:function(){var e=this,t=localStorage.getItem("user_token_fisheye_client");if(e.obj_personel_temp.id){var i={tourId:e.current_tour_select_to_view.id,userId:e.obj_personel_temp.id};e.$axios.post("/api/Tours/AssignTourGuide",JSON.stringify(i),{headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then((function(t){var i=e.list_staff_is_tour_guide.filter((function(t){return t.userId==e.obj_personel_temp.id}))[0];e.current_tour_select_to_view.tourUsers.push({user:i.user,userId:i.userId}),e.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Assign Successfully"}),e.open_modal_assign_personel=!1})).catch((function(t){e.open_modal_assign_personel=!1,t.response.data?e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:t.response.data}):e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}},triggerOpenDialogAddPersonal:function(){var e=this;e.open_modal_assign_personel=!0},getInfoDetailTour:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this,a=localStorage.getItem("user_token_fisheye_client");i.loading_edit_tour=!0,i.$axios.get("/api/Tours/GetDetail/"+e,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}}).then((function(e){i.formatTourDetail(e.data,t)})).catch((function(e){i.loading_edit_tour=!1,e.response.data?i.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):i.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))},checkValidateAddExpense:function(){var e=this;return this.$v.obj_expense_temp.$touch(),!e.$v.obj_expense_temp.$error||(e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Please view error in your form!"}),!1)},addNewExpenseTab3:function(){var e=this;if(e.checkValidateAddExpense()){JSON.parse(JSON.stringify(this.obj_expense_temp));var t=localStorage.getItem("user_token_fisheye_client"),i=e.list_company_field_tab3.filter((function(t){return t.field.name==e.obj_expense_temp.type}))[0].fieldId,a={tourId:e.current_tour_select_to_view.id,fieldId:i,fieldName:e.obj_expense_temp.type,dropdownValue:e.obj_expense_temp.place,afterTax:e.obj_expense_temp.amount_after_tax,taxPercent:parseFloat(e.obj_expense_temp.tax)/100,paidAmount:e.obj_expense_temp.paid_amount,tabIndex:3};e.loading_expense=!0,this.$axios.post("/api/Tours/AddTourExpense",JSON.stringify(a),{headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then((function(t){e.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Create Successfully"}),a.beforeTax=a.afterTax/(1+a.taxPercent/100),a.firId=t.data,e.current_tour_select_to_view.infoExpenseListTab3.push(a),e.open_modal_add_expense_tab_3=!1,e.is_from_mobile?(e.getInfoDetailTour(e.current_tour_select_to_view.id,!0),e.is_from_mobile=!1):e.getInfoDetailTour(e.current_tour_select_to_view.id),e.loading_expense=!1})).catch((function(t){e.loading_expense=!1,e.open_modal_add_expense_tab_3=!1,t.response.data?e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:t.response.data}):e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}},editExpenseTab3:function(){var e=this;if(e.checkValidateAddExpense()){JSON.parse(JSON.stringify(this.obj_expense_temp));var t=localStorage.getItem("user_token_fisheye_client"),i=e.list_company_field_tab3.filter((function(t){return t.field.name==e.obj_expense_temp.type}))[0].fieldId,a={tourId:e.current_tour_select_to_view.id,firId:e.obj_expense_temp.firId,fieldId:i,fieldName:e.obj_expense_temp.type,dropdownValue:e.obj_expense_temp.place,afterTax:e.obj_expense_temp.amount_after_tax,taxPercent:parseFloat(e.obj_expense_temp.tax)/100,paidAmount:e.obj_expense_temp.paid_amount,tabIndex:3};e.loading_expense=!0,this.$axios.put("/api/Tours/UpdateTourExpense",JSON.stringify(a),{headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then((function(t){e.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Update Successfully"}),e.getListTour(),e.open_modal_add_expense_tab_3=!1,e.is_from_mobile?(e.getInfoDetailTour(e.current_tour_select_to_view.id,!0),e.is_from_mobile=!1):e.getInfoDetailTour(e.current_tour_select_to_view.id),e.loading_expense=!1})).catch((function(t){e.loading_expense=!1,e.open_modal_add_expense_tab_3=!1,t.response.data?e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:t.response.data}):e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}},addNewExpenseTab4:function(){var e=this;if(e.checkValidateAddExpense()){JSON.parse(JSON.stringify(this.obj_expense_temp));var t=localStorage.getItem("user_token_fisheye_client"),i=e.list_company_field_tab4.filter((function(t){return t.field.name==e.obj_expense_temp.type}))[0].fieldId,a={tourId:e.current_tour_select_to_view.id,fieldId:i,fieldName:e.obj_expense_temp.type,dropdownValue:e.obj_expense_temp.place,afterTax:e.obj_expense_temp.amount_after_tax,taxPercent:parseFloat(e.obj_expense_temp.tax)/100,paidAmount:0,tabIndex:4};e.loading_expense=!0,this.$axios.post("/api/Tours/AddTourExpense",JSON.stringify(a),{headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then((function(t){e.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Create Successfully"}),a.beforeTax=a.afterTax/(1+a.taxPercent/100),e.current_tour_select_to_view.infoExpenseListTab4.push(a),e.open_modal_add_expense_tab_4=!1,e.is_from_mobile?(e.getInfoDetailTour(e.current_tour_select_to_view.id,!0),e.is_from_mobile=!1):e.getInfoDetailTour(e.current_tour_select_to_view.id,!0),e.getListTour(),e.loading_expense=!1})).catch((function(t){e.loading_expense=!1,e.open_modal_add_expense_tab_4=!1,t.response.data?e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:t.response.data}):e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}},editExpenseTab4:function(){var e=this;if(e.checkValidateAddExpense()){JSON.parse(JSON.stringify(this.obj_expense_temp));var t=localStorage.getItem("user_token_fisheye_client"),i=e.list_company_field_tab4.filter((function(t){return t.field.name==e.obj_expense_temp.type}))[0].fieldId,a={tourId:e.current_tour_select_to_view.id,firId:e.obj_expense_temp.firId,fieldId:i,fieldName:e.obj_expense_temp.type,dropdownValue:e.obj_expense_temp.place,afterTax:e.obj_expense_temp.amount_after_tax,taxPercent:parseFloat(e.obj_expense_temp.tax)/100,paidAmount:0,tabIndex:4};e.loading_expense=!0,this.$axios.put("/api/Tours/UpdateTourExpense",JSON.stringify(a),{headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then((function(t){e.$q.notify({color:"secondary",position:"top-right",icon:"tag_faces",message:"Update Successfully"}),e.is_from_mobile?(e.getInfoDetailTour(e.current_tour_select_to_view.id,!0),e.is_from_mobile=!0):e.getInfoDetailTour(e.current_tour_select_to_view.id),e.getListTour(),e.open_modal_add_expense_tab_4=!1,e.loading_expense=!1})).catch((function(t){e.loading_expense=!1,e.open_modal_add_expense_tab_4=!1,t.response.data?e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:t.response.data}):e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}},triggerOpenModalNewExpense:function(e){var t=this;t.$v.obj_expense_temp.$reset(),t.is_from_mobile=e,t.is_edit_expense_tab_3=!1,t.obj_expense_temp={type:"",place:"",amount_after_tax:0,tax:0,amount_before_tax:0,paid_amount:0},t.open_modal_add_expense_tab_3=!0},triggerOpenModalNewExpenseTab4:function(e){var t=this;t.$v.obj_expense_temp.$reset(),t.is_from_mobile=e,t.obj_expense_temp={type:"",place:"",amount_after_tax:0,tax:0,amount_before_tax:0,paid_amount:0},t.open_modal_add_expense_tab_4=!0,t.is_edit_expense_tab_4=!1},getInfoFirstTabTour:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this,a=localStorage.getItem("user_token_fisheye_client");i.loading.loading_main=!0,this.$axios.get("/api/Tours/GetFirstTab/"+e.id,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}}).then((function(a){i.loading.loading_main=!1,e.groupBooking=a.data.groupBooking,e.travelDate=a.data.travelDate,e.tourName=a.data.tourName,e.startTime=a.data.startTime,i.$set(e,"startingPoint",a.data.startingPoint),e.tourUsers=a.data.tourUsers,a.data.orders.forEach((function(e,t){e.stt=t+1;var i="";e.otherTravelerNames&&e.otherTravelerNames.length>0&&(i=e.otherTravelerNames.join(", ")),e.guestInfomation=e.leadTravelerFirstName+" "+e.leadTravelerLastName+", "+i+" X "+e.guestQuantity+" ("+e.adultNumber+"A, "+e.childNumber+"C, "+e.infantNumber+"I, "+e.youthNumber+"Y, "+e.seniorNumber+"S)",e.pickUp=e.pickupTimeFrom+" - "+e.pickupTimeTo+"@ "+e.hotelName+" - "+e.hotelAddress,e.notes=e.foodNotes+" & "+e.otherNotes,e.remaining=e.netSales+" (Receivables) - "+e.depositReceived+" (Deposit received) = "+e.remainingAmount+" (Remaining amount)"})),i.$set(e,"orders",a.data.orders),e.tourGuideTrackings=a.data.tourGuideTrackings,i.initInfoTourGuideTracking(e),i.$set(i,"current_tour_select_to_view",e),i.getNameGuideTracking(),i.$forceUpdate(),t||(i.open_modal_view_detail=!0),i.loading_edit_tour=!1})).catch((function(e){i.loading.loading_main=!1,i.loading.loading_list_tour=!1,e.response.data?i.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):i.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))},initInfoTourGuideTracking:function(e){var t=this,i=[{name:"guidecheckin",title:"Guide check-in",value:!1,last_update_by:"",last_update_by_name:"",time_update:""},{name:"guestcheckin",title:"Guest check-in",value:!1,last_update_by:"",last_update_by_name:"",time_update:""},{name:"starttour",title:"Start Tour",value:!1,last_update_by:"",last_update_by_name:"",time_update:""},{name:"finishtour",title:"Finish Tour",value:!1,last_update_by:"",last_update_by_name:"",time_update:""}];e.tourGuideTrackings.forEach((function(e){var t=e.eventName;switch(t){case"guidecheckin":i[0].value=e.status,i[0].last_update_by=e.lastModifiedBy,i[0].time_update=e.lastModified;break;case"guestcheckin":i[1].value=e.status,i[1].last_update_by=e.lastModifiedBy,i[1].time_update=e.lastModified;break;case"starttour":i[2].value=e.status,i[2].last_update_by=e.lastModifiedBy,i[2].time_update=e.lastModified;break;case"finishtour":i[3].value=e.status,i[3].last_update_by=e.lastModifiedBy,i[3].time_update=e.lastModified;break}})),t.$set(e,"finalTourGuideTrackings",i)},getNameGuideTracking:function(){var e=this;e.current_tour_select_to_view.finalTourGuideTrackings.forEach((function(t){e.getInfoNameOfUser(t)}))},getInfoNameOfUser:function(e){var t=this,i=localStorage.getItem("user_token_fisheye_client"),a=this.current_branch_id;-1!=a&&""!=e.last_update_by&&null!=e.last_update_by&&t.$axios.get("/api/StaffManagement/GetUserInfo/"+a+"/"+e.last_update_by,{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(t){e.last_update_by_name=t.data.fullName})).catch((function(e){Object(_["a"])(e.response,t)}))},openModalViewTour:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.is_read_tab_1?this.getInfoFirstTabTour(e,t):this.$q.notify({color:"red-5",textColor:"white",position:"top-right",icon:"warning",message:"You do not have permission to view detail this tour"})},getDateFromDateFilter:function(e){if(e){var t=e.split("/"),i=t[0],a=t[1],o=t[2],r=new Date(parseInt(o),parseInt(a)-1,parseInt(i),0,0,0);return r}return null},getListTour:function(){var e=this,t=localStorage.getItem("user_token_fisheye_client");if(-1!=this.current_branch_id){if(e.loading.loading_list_tour=!0,0!=e.pagination.rowsPerPage)var i="/api/Tours/Get?BranchId="+e.current_branch_id+"&PageSize="+e.pagination.rowsPerPage+"&PageNumber="+e.pagination.page;else i="/api/Tours/Get?BranchId="+e.current_branch_id+"&PageSize=10000&PageNumber=1";if(this.today_tour){var a=new Date,o=new Date;a.setHours(7),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),o.setHours(30),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0),a&&(i+="&TravelDateFrom="+a.toISOString()),o&&(i+="&TravelDateTo="+o.toISOString())}else if(e.info_filter_tour.date_range.start){var r=e.getDateFromDateFilter(e.info_filter_tour.date_range.start);r.setHours(7),r&&(i+="&TravelDateFrom="+r.toISOString());var s=e.getDateFromDateFilter(e.info_filter_tour.date_range.end);s&&(s.setHours(30),i+="&TravelDateTo="+s.toISOString()),console.log(r),console.log(s)}""!=e.info_filter_tour.group_booking&&(i+="&GroupBooking="+e.info_filter_tour.group_booking),""!=e.info_filter_tour.product_code&&(i+="&ProductCode="+e.info_filter_tour.product_code),""!=e.info_filter_tour.product_name&&(i+="&ProductName="+e.info_filter_tour.product_name),-1!=e.info_filter_tour.tour_type&&(i+="&TourType="+e.info_filter_tour.tour_type),-1!=e.info_filter_tour.day_of_week&&(i+="&DayOfWeek="+e.info_filter_tour.day_of_week),-1!=e.info_filter_tour.start_time&&(i+="&StartTime="+e.info_filter_tour.start_time),"Not selected"!=e.info_filter_tour.transportation&&(i+="&MainTransportation="+e.info_filter_tour.transportation),e.info_filter_tour.tour_guide.length>0&&e.info_filter_tour.tour_guide.forEach((function(e){i+="&TourGuides="+e})),e.info_filter_tour.drivers.length>0&&e.info_filter_tour.drivers.forEach((function(e){i+="&Drivers="+e})),e.info_filter_tour.leaders.length>0&&e.info_filter_tour.leaders.forEach((function(e){i+="&Leaders="+e})),e.info_filter_tour.hostesses.length>0&&e.info_filter_tour.hostesses.forEach((function(e){i+="&Hostesses="+e})),e.info_filter_tour.captains.length>0&&e.info_filter_tour.captains.forEach((function(e){i+="&Captions="+e})),e.info_filter_tour.supporters.length>0&&e.info_filter_tour.supporters.forEach((function(e){i+="&Supporters="+e})),e.info_filter_tour.helpers.length>0&&e.info_filter_tour.helpers.forEach((function(e){i+="&Helpers="+e})),e.info_filter_tour.meals.length>0&&e.info_filter_tour.meals.forEach((function(e){i+="&Meals="+e})),e.info_filter_tour.others.length>0&&e.info_filter_tour.others.forEach((function(e){i+="&Others="+e})),this.$axios.get(i,{headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then((function(t){e.pagination.rowsNumber=t.data.total;var i=e.formatListTour(t.data.tours);e.list_tours=i,e.getInfoTravllerOfEachTour(),e.getInfoTotalRow(),e.loading.loading_list_tour=!1})).catch((function(t){e.loading.loading_list_tour=!1,Object(_["a"])(t.response,e)}))}},getInfoTravllerOfEachTour:function(){var e=this;e.list_tours.forEach((function(e){e.adultNumber=0,e.childNumber=0,e.infantNumber=0,e.youthNumber=0,e.seniorNumber=0,e.guestQuantity=0,e.orders.forEach((function(t){e.adultNumber+=t.adultNumber,e.childNumber+=t.childNumber,e.infantNumber+=t.infantNumber,e.youthNumber+=t.youthNumber,e.seniorNumber+=t.seniorNumber})),e.guestQuantity=e.adultNumber+e.childNumber+e.infantNumber+e.youthNumber+e.seniorNumber}))},getInfoTotalRow:function(){var e=this,t={guest_quantity:0,adult_number:0,child_number:0,infant_number:0,youth_number:0,senior_number:0,total_expense:0};e.list_tours.forEach((function(e){t.guest_quantity+=e.guestQuantity,t.adult_number+=e.adultNumber,t.child_number+=e.childNumber,t.infant_number+=e.infantNumber,t.youth_number+=e.youthNumber,t.senior_number+=e.seniorNumber,t.total_expense+=e.totalExpense})),this.data_total_row=t},getDateOfWeek:function(e){var t=new Date(e),i=t.getDay(),a="";switch(i){case 0:a="Sunday";break;case 1:a="Monday";break;case 2:a="Tuesday";break;case 3:a="Wednesday";break;case 4:a="Thursday";break;case 5:a="Friday";break;case 6:a="Saturday";break}return a},formatListTour:function(e){var t=this;return e.sort((function(e,t){var i=new Date(e.travelDate),a=new Date(t.travelDate);return i<a?-1:i>a?1:0})),e.forEach((function(i,a){i.stt=t.pagination.rowsPerPage*(t.pagination.page-1)+a+1,i.disable_selected=!1,i.check_select=!1,i.aliasName="";var o="___",r="___",s=0;i.orders.forEach((function(e,i){e.stt=i,0==i&&(o=e.product.referenceCode,r=e.transportation),s+=e.guestQuantity,e.productCode=e.product.referenceCode,e.productTitle=e.product.title,e.dayOfWeek=t.getDateOfWeek(e.travelDate)})),i.aliasName+=o+"-"+r+"-"+s.toString()+"-"+i.orders.length+"bk",i.orders.length>0?(i.productTitle=i.orders[0].product.title,i.productCode=i.orders[0].productCode,i.travelDate=i.orders[0].travelDate,i.priceOptionName=i.orders[0].priceOptionName):(i.productCode="",i.productTitle="",i.priceOptionName=""),i.totalExpense=0,i.expenseOfTour=0,i.amount_paid=0,i.balance_tour=0,i.advance_to_guide=i.tourAdvanceToGuide,i.expense_paid_by_guide=0,i.different=0,i.refund=i.refundFromComany,i.balance_advance=0,t.getExpenseList(i,3,a,e.length-1),t.getExpenseList(i,4,a,e.length-1)})),e},formatTourDetail:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this;e.aliasName="";var a="___",o="___",r=0;e.orders.forEach((function(e,t){e.stt=t,0==t&&(a=e.product.referenceCode,o=e.transportation),r+=e.guestQuantity,e.productCode=e.product.referenceCode,e.productTitle=e.product.title,e.dayOfWeek=i.getDateOfWeek(e.travelDate)})),e.aliasName+=a+"-"+o+"-"+r.toString()+"-"+e.orders.length+"bk",e.orders.length>0?(e.productTitle=e.orders[0].product.title,e.productCode=e.orders[0].productCode,e.travelDate=e.orders[0].travelDate):(e.productCode="",e.productTitle="",e.travelDate=""),e.totalExpense=0,e.expenseOfTour=0,e.amount_paid=0,e.balance_tour=0,e.advance_to_guide=e.tourAdvanceToGuide,e.expense_paid_by_guide=0,e.different=0,e.refund=e.refundFromComany,e.balance_advance=0,i.getExpenseListDetailTour(e,3,t),i.getExpenseListDetailTour(e,4,t)},getExpenseListDetailTour:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this,o=localStorage.getItem("user_token_fisheye_client");a.$axios.get("/api/Tours/GetExpenseList?TourId="+e.id+"&TabIndex="+t,{headers:{Authorization:"Bearer "+o,"Content-Type":"application/json"}}).then((function(o){3==t?e.infoExpenseListTab3=o.data.fieldValues:(e.infoExpenseListTab4=o.data.fieldValues,a.getBasicInfoDetailTour(e,i),console.log("load done"))})).catch((function(e){a.loading.loading_list_tour=!1,Object(_["a"])(e.response,a)}))},getExpenseList:function(e,t,i,a){var o=this,r=localStorage.getItem("user_token_fisheye_client");o.$axios.get("/api/Tours/GetExpenseList?TourId="+e.id+"&TabIndex="+t,{headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"}}).then((function(r){3==t?e.infoExpenseListTab3=r.data.fieldValues:(e.infoExpenseListTab4=r.data.fieldValues,i==a&&(o.getBasicInfoTour(),console.log("load done")))})).catch((function(e){o.loading.loading_list_tour=!1,Object(_["a"])(e.response,o)}))},getBasicInfoTour:function(){var e=this,t=localStorage.getItem("user_token_fisheye_client"),i=e.list_tours.length;e.list_tours.forEach((function(a,o){e.$axios.get("/api/Tours/GetBasicInfo?TourId="+a.id,{headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then((function(t){void 0!=t.data&&(a.basic_info=t.data,o==i-1&&setTimeout((function(){e.calculateFieldValue()}),500))})).catch((function(t){t.response.data?e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:t.response.data}):e.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))}))},getBasicInfoDetailTour:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this,a=localStorage.getItem("user_token_fisheye_client");i.$axios.get("/api/Tours/GetBasicInfo?TourId="+e.id,{headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}}).then((function(a){void 0!=a.data&&(e.basic_info=a.data,i.calculateFieldValueDetailTour(e,t))})).catch((function(e){e.response.data?i.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:e.response.data}):i.$q.notify({color:"negative",icon:"report_problem",position:"top-right",message:"Have Error"})}))},calculateFieldValue:function(){var e=this;e.list_tours.forEach((function(e){var t={expense_of_tour:0,amount_paid:0,balance_tour:0,advance_to_guide:0,expense_paid_by_guide:0,different:0,refund:0,balance_advance:0},i={advance_to_guide:0,expense_paid_by_guide:0,different:0,refund:0,balance_advance:0};e.infoExpenseListTab4&&e.infoExpenseListTab4.forEach((function(e){i.expense_paid_by_guide+=e.afterTax})),e.infoExpenseListTab3&&e.infoExpenseListTab3.forEach((function(e){t.expense_of_tour+=e.afterTax,t.amount_paid+=e.paidAmount})),t.balance_tour=t.expense_of_tour-t.amount_paid,e.basic_info?(t.advance_to_guide=e.basic_info.tourAdvanceToGuide,t.refund=e.basic_info.refundFromComany):(t.advance_to_guide=0,t.refund=0),t.expense_paid_by_guide=i.expense_paid_by_guide,t.different=t.advance_to_guide-t.expense_paid_by_guide,t.balance_advance=t.different-t.refund,i.advance_to_guide=t.advance_to_guide,i.different=i.advance_to_guide-i.expense_paid_by_guide,i.refund=t.refund,i.balance_advance=i.different-i.refund,e.finalInfoTab3=t,e.finalInfoTab4=i,e.totalExpense=t.expense_of_tour+i.expense_paid_by_guide,e.expenseOfTour=t.expense_of_tour,e.amount_paid=t.amount_paid,e.balance_tour=t.balance_tour,e.advance_to_guide=t.advance_to_guide,e.expense_paid_by_guide=i.expense_paid_by_guide,e.different=i.different,e.refund=t.refund,e.balance_advance=t.balance_advance})),e.getInfoTotalRow(),e.$forceUpdate()},calculateFieldValueDetailTour:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this,a={expense_of_tour:0,amount_paid:0,balance_tour:0,advance_to_guide:0,expense_paid_by_guide:0,different:0,refund:0,balance_advance:0},o={advance_to_guide:0,expense_paid_by_guide:0,different:0,refund:0,balance_advance:0};e.infoExpenseListTab4&&e.infoExpenseListTab4.forEach((function(e){o.expense_paid_by_guide+=e.afterTax})),e.infoExpenseListTab3.forEach((function(e){a.expense_of_tour+=e.afterTax,a.amount_paid+=e.paidAmount})),a.balance_tour=a.expense_of_tour-a.amount_paid,e.basic_info?(a.advance_to_guide=e.basic_info.tourAdvanceToGuide,a.refund=e.basic_info.refundFromComany):(a.advance_to_guide=0,a.refund=0),a.expense_paid_by_guide=o.expense_paid_by_guide,a.different=a.advance_to_guide-a.expense_paid_by_guide,a.balance_advance=a.different-a.refund,o.advance_to_guide=a.advance_to_guide,o.different=o.advance_to_guide-o.expense_paid_by_guide,o.refund=a.refund,o.balance_advance=o.different-o.refund,e.finalInfoTab3=a,e.finalInfoTab4=o,e.totalExpense=a.expense_of_tour+o.expense_paid_by_guide,e.expenseOfTour=a.expense_of_tour,e.amount_paid=a.amount_paid,e.balance_tour=a.balance_tour,e.advance_to_guide=a.advance_to_guide,e.expense_paid_by_guide=o.expense_paid_by_guide,e.different=o.different,e.refund=a.refund,e.balance_advance=a.balance_advance,i.getInfoFirstTabTour(e,t),i.$forceUpdate()},getListStaff:function(){var e=this,t=localStorage.getItem("branch_id_fisheye_client"),i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/StaffManagement/GetStaffList?PageSize=1000&branchId="+t,{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(t){e.list_staff=t.data.staffs})).catch((function(t){Object(_["a"])(t.response,e)}))},getListTourGuideAssignPersonel:function(){var e=this,t=localStorage.getItem("branch_id_fisheye_client"),i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/StaffManagement/GetStaffList?PageSize=1000&branchId="+t+"&GetUserTourGuide=true",{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(t){e.list_staff_is_tour_guide=t.data.staffs})).catch((function(t){Object(_["a"])(t.response,e)}))},getListTourGuide:function(){var e=this,t=localStorage.getItem("branch_id_fisheye_client"),i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/MasterLists/Get?PageSize=1000&BranchId="+t+"&ListName=tourguide",{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(t){e.list_tour_guide=t.data.masterLists})).catch((function(t){Object(_["a"])(t.response,e)}))},getListDriver:function(){var e=this,t=localStorage.getItem("branch_id_fisheye_client"),i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/MasterLists/Get?PageSize=1000&BranchId="+t+"&ListName=drivers",{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(t){e.list_driver=t.data.masterLists})).catch((function(t){Object(_["a"])(t.response,e)}))},getListLeader:function(){var e=this,t=localStorage.getItem("branch_id_fisheye_client"),i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/MasterLists/Get?PageSize=1000&BranchId="+t+"&ListName=leaders",{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(t){e.list_leader=t.data.masterLists})).catch((function(t){Object(_["a"])(t.response,e)}))},getListHostess:function(){var e=this,t=localStorage.getItem("branch_id_fisheye_client"),i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/MasterLists/Get?PageSize=1000&BranchId="+t+"&ListName=hostess",{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(t){e.list_hostess=t.data.masterLists})).catch((function(t){Object(_["a"])(t.response,e)}))},getListCaptains:function(){var e=this,t=localStorage.getItem("branch_id_fisheye_client"),i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/MasterLists/Get?PageSize=1000&BranchId="+t+"&ListName=captains",{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(t){e.list_captains=t.data.masterLists})).catch((function(t){Object(_["a"])(t.response,e)}))},getListSupporter:function(){var e=this,t=localStorage.getItem("branch_id_fisheye_client"),i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/MasterLists/Get?PageSize=1000&BranchId="+t+"&ListName=supporters",{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(t){e.list_supportes=t.data.masterLists})).catch((function(t){Object(_["a"])(t.response,e)}))},getListHelper:function(){var e=this,t=localStorage.getItem("branch_id_fisheye_client"),i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/MasterLists/Get?PageSize=1000&BranchId="+t+"&ListName=helpers",{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(t){e.list_helper=t.data.masterLists})).catch((function(t){Object(_["a"])(t.response,e)}))},getListMeals:function(){var e=this,t=localStorage.getItem("branch_id_fisheye_client"),i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/MasterLists/Get?PageSize=1000&BranchId="+t+"&ListName=meals",{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(t){e.list_meals=t.data.masterLists})).catch((function(t){Object(_["a"])(t.response,e)}))},getListOthers:function(){var e=this,t=localStorage.getItem("branch_id_fisheye_client"),i=localStorage.getItem("user_token_fisheye_client");this.$axios.get("/api/MasterLists/Get?PageSize=1000&BranchId="+t+"&ListName=others",{headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}}).then((function(t){e.list_others=t.data.masterLists})).catch((function(t){Object(_["a"])(t.response,e)}))},getCompanyFieldsTab3:function(){var e=this,t=(localStorage.getItem("branch_id_fisheye_client"),localStorage.getItem("user_token_fisheye_client"));this.$axios.get("/api/Companies/GetCompanyFields?PageSize=1000&TabIndex=3",{headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then((function(t){e.list_company_field_tab3=t.data.fields.filter((function(e){return 1==e.status}))})).catch((function(t){Object(_["a"])(t.response,e)}))},getCompanyFieldsTab4:function(){var e=this,t=(localStorage.getItem("branch_id_fisheye_client"),localStorage.getItem("user_token_fisheye_client"));this.$axios.get("/api/Companies/GetCompanyFields?PageSize=1000&TabIndex=4",{headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then((function(t){e.list_company_field_tab4=t.data.fields.filter((function(e){return 1==e.status}))})).catch((function(t){Object(_["a"])(t.response,e)}))},getListTourType:function(){var e=this,t=localStorage.getItem("user_token_fisheye_client"),i=this.current_branch_id;-1!=i&&e.$axios.get("/api/MasterLists/Get?PageSize=1000&BranchId="+i+"&ListName=tourtype",{headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then((function(t){var i=[];t.data.masterLists.forEach((function(e){var t={name:e.namePIC,value:e.namePIC};i.push(t)})),e.option_tour_type_filter=JSON.parse(JSON.stringify(i)),e.option_tour_type_filter.unshift({name:"Not selected",value:-1})})).catch((function(t){Object(_["a"])(t.response,e)}))},getListMainTransportation:function(){var e=this,t=localStorage.getItem("user_token_fisheye_client");-1!=this.current_branch_id&&this.$axios.get("/api/MasterLists/Get?PageSize=1000&BranchId="+e.current_branch_id+"&ListName=maintransportation",{headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}}).then((function(t){e.options_main_transportation_filter=JSON.parse(JSON.stringify(t.data.masterLists)),e.options_main_transportation_filter.unshift({id:-1,plateNumber:"Not selected"})})).catch((function(t){Object(_["a"])(t.response,e)}))}},components:{"list-tour-mobile":j,"picker-filter":l.a},mounted:function(){var e=this;this.getListTourType(),this.getListTourGuideAssignPersonel(),this.getListTourGuide(),this.getListDriver(),this.getListLeader(),this.getListHostess(),this.getListCaptains(),this.getListSupporter(),this.getListHelper(),this.getListMeals(),this.getListOthers(),this.getListMainTransportation(),this.getListStaff();var t={start:this.getStartDateFilter(),end:this.getEndDateFilter()};this.info_filter_tour.date_range=t,this.getListTour(),this.getCompanyFieldsTab3(),this.getCompanyFieldsTab4(),this.onRequest({pagination:this.pagination,filter:void 0}),this.$root.$on("refreshBookingList",(function(){e.getListTourType(),e.getListTourGuideAssignPersonel(),e.getListTourGuide(),e.getListDriver(),e.getListLeader(),e.getListHostess(),e.getListCaptains(),e.getListSupporter(),e.getListHelper(),e.getListMeals(),e.getListOthers(),e.getListMainTransportation(),e.getListStaff(),e.getListTour(),e.getCompanyFieldsTab3(),e.getCompanyFieldsTab4()}))}},A=L,D=(i("5ba4"),Object(x["a"])(A,a,o,!1,null,null,null));t["a"]=D.exports;D.options.components=Object.assign({QIcon:w["n"],QSpace:w["D"],QBtn:w["c"],QTable:w["I"],QTh:w["L"],QTr:w["Q"],QTd:w["K"],QDialog:w["k"],QCard:w["e"],QCardActions:w["f"],QTabs:w["J"],QTab:w["F"],QSeparator:w["C"],QTabPanels:w["H"],QTabPanel:w["G"],QChip:w["i"],QCheckbox:w["h"],QCardSection:w["g"]},D.options.components||{}),D.options.directives=Object.assign({ClosePopup:w["a"]},D.options.directives||{})},"5ba4":function(e,t,i){"use strict";var a=i("0d39"),o=i.n(a);o.a},"5d75":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),o=/(^$|^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/,r=(0,a.regex)("email",o);t.default=r},"5db3":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),o=function(e){return(0,a.withParams)({type:"minLength",min:e},(function(t){return!(0,a.req)(t)||(0,a.len)(t)>=e}))};t.default=o},6235:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),o=(0,a.regex)("alpha",/^[a-zA-Z]*$/);t.default=o},6417:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),o=function(e){return(0,a.withParams)({type:"not"},(function(t,i){return!(0,a.req)(t)||!e.call(this,t,i)}))};t.default=o},"772d":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),o=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i,r=(0,a.regex)("url",o);t.default=r},"78ef":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"withParams",{enumerable:!0,get:function(){return a.default}}),t.regex=t.ref=t.len=t.req=void 0;var a=o(i("8750"));function o(e){return e&&e.__esModule?e:{default:e}}function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var s=function(e){if(Array.isArray(e))return!!e.length;if(void 0===e||null===e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===r(e)){for(var t in e)return!0;return!1}return!!String(e).length};t.req=s;var n=function(e){return Array.isArray(e)?e.length:"object"===r(e)?Object.keys(e).length:String(e).length};t.len=n;var l=function(e,t,i){return"function"===typeof e?e.call(t,i):i[e]};t.ref=l;var u=function(e,t){return(0,a.default)({type:e},(function(e){return!s(e)||t.test(e)}))};t.regex=u},8750:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="web"===Object({NODE_ENV:"production",CLIENT:!0,SERVER:!1,DEV:!1,PROD:!0,MODE:"pwa",VUE_ROUTER_MODE:"hash",VUE_ROUTER_BASE:"",APP_URL:"undefined",SERVICE_WORKER_FILE:"service-worker.js"}).BUILD?i("cb69").withParams:i("0234").withParams,o=a;t.default=o},"91d3":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return(0,a.withParams)({type:"macAddress"},(function(t){if(!(0,a.req)(t))return!0;if("string"!==typeof t)return!1;var i="string"===typeof e&&""!==e?t.split(e):12===t.length||16===t.length?t.match(/.{2}/g):null;return null!==i&&(6===i.length||8===i.length)&&i.every(r)}))};t.default=o;var r=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)}},"91dd":function(e,t,i){"use strict";function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,i,r){t=t||"&",i=i||"=";var s={};if("string"!==typeof e||0===e.length)return s;var n=/\+/g;e=e.split(t);var l=1e3;r&&"number"===typeof r.maxKeys&&(l=r.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var _,d,p,f,m=e[c].replace(n,"%20"),v=m.indexOf(i);v>=0?(_=m.substr(0,v),d=m.substr(v+1)):(_=m,d=""),p=decodeURIComponent(_),f=decodeURIComponent(d),a(s,p)?o(s[p])?s[p].push(f):s[p]=[s[p],f]:s[p]=f}return s};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},aa82:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),o=function(e){return(0,a.withParams)({type:"requiredIf",prop:e},(function(t,i){return!(0,a.ref)(e,this,i)||(0,a.req)(t)}))};t.default=o},b383:function(e,t,i){"use strict";t.decode=t.parse=i("91dd"),t.encode=t.stringify=i("e099")},b5ae:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"alpha",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"alphaNum",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"numeric",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"between",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"email",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"ipAddress",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"macAddress",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"maxLength",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"minLength",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"required",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"requiredIf",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"requiredUnless",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"sameAs",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"url",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"or",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"and",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"not",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"minValue",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"maxValue",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"integer",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"decimal",{enumerable:!0,get:function(){return C.default}}),t.helpers=void 0;var a=q(i("6235")),o=q(i("3a54")),r=q(i("45b8")),s=q(i("ec11")),n=q(i("5d75")),l=q(i("c99d")),u=q(i("91d3")),c=q(i("2a12")),_=q(i("5db3")),d=q(i("d4f4")),p=q(i("aa82")),f=q(i("e652")),m=q(i("b6cb")),v=q(i("772d")),g=q(i("d294")),b=q(i("3360")),h=q(i("6417")),y=q(i("eb66")),x=q(i("46bc")),w=q(i("1331")),C=q(i("c301")),T=k(i("78ef"));function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};a.get||a.set?Object.defineProperty(t,i,a):t[i]=e[i]}return t.default=e,t}function q(e){return e&&e.__esModule?e:{default:e}}t.helpers=T},b6cb:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),o=function(e){return(0,a.withParams)({type:"sameAs",eq:e},(function(t,i){return t===(0,a.ref)(e,this,i)}))};t.default=o},c301:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),o=(0,a.regex)("decimal",/^[-]?\d*(\.\d+)?$/);t.default=o},c99d:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),o=(0,a.withParams)({type:"ipAddress"},(function(e){if(!(0,a.req)(e))return!0;if("string"!==typeof e)return!1;var t=e.split(".");return 4===t.length&&t.every(r)}));t.default=o;var r=function(e){if(e.length>3||0===e.length)return!1;if("0"===e[0]&&"0"!==e)return!1;if(!e.match(/^\d+$/))return!1;var t=0|+e;return t>=0&&t<=255}},cb69:function(e,t,i){"use strict";(function(e){function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.withParams=void 0;var a="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},o=function(e,t){return"object"===i(e)&&void 0!==t?t:e((function(){}))},r=a.vuelidate?a.vuelidate.withParams:o;t.withParams=r}).call(this,i("c8ba"))},d294:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),o=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,a.withParams)({type:"or"},(function(){for(var e=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t.length>0&&t.reduce((function(t,i){return t||i.apply(e,a)}),!1)}))};t.default=o},d4a4:function(e,t,i){"use strict";var a=i("07bc"),o=i.n(a);o.a},d4f4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),o=(0,a.withParams)({type:"required"},a.req);t.default=o},d5b7:function(e,t,i){"use strict";i("ac6a"),i("cadf"),i("06db"),i("456d");var a=i("8993"),o=i.n(a);function r(e,t){if(403==e.status);else if(e.data){if("string"==typeof e.data)t.$q.notify({color:"red-5",textColor:"white",position:"top-right",icon:"warning",message:e.data});else if("object"==o()(e.data)){var i=Object.keys(e.data);i.length>0&&t.$q.notify({color:"red-5",textColor:"white",position:"top-right",icon:"warning",message:e.data[i[0]]})}}else t.$q.notify({color:"red-5",textColor:"white",position:"top-right",icon:"warning",message:"Have error"})}t["a"]=r},e099:function(e,t,i){"use strict";var a=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,i,n){return t=t||"&",i=i||"=",null===e&&(e=void 0),"object"===typeof e?r(s(e),(function(s){var n=encodeURIComponent(a(s))+i;return o(e[s])?r(e[s],(function(e){return n+encodeURIComponent(a(e))})).join(t):n+encodeURIComponent(a(e[s]))})).join(t):n?encodeURIComponent(a(n))+i+encodeURIComponent(a(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function r(e,t){if(e.map)return e.map(t);for(var i=[],a=0;a<e.length;a++)i.push(t(e[a],a));return i}var s=Object.keys||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t}},e652:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),o=function(e){return(0,a.withParams)({type:"requiredUnless",prop:e},(function(t,i){return!!(0,a.ref)(e,this,i)||(0,a.req)(t)}))};t.default=o},e71f:function(e,t,i){"use strict";function a(e){return 1==e?{decimal:".",thousands:",",prefix:"",suffix:"",precision:0,masked:!1}:2==e?{decimal:".",thousands:",",prefix:"",suffix:"",precision:2,masked:!1}:void 0}t["a"]=a},eb66:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),o=function(e){return(0,a.withParams)({type:"minValue",min:e},(function(t){return!(0,a.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+e}))};t.default=o},ec11:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("78ef"),o=function(e,t){return(0,a.withParams)({type:"between",min:e,max:t},(function(i){return!(0,a.req)(i)||(!/\s/.test(i)||i instanceof Date)&&+e<=+i&&+t>=+i}))};t.default=o},f0e6:function(e,t,i){"use strict";var a=[{style:"width: 50px",name:"no",label:"No",unique:"no",align:"left",field:"stt"},{name:"travelDate",align:"left",label:"Travel date",unique:"travelDate",field:"travelDate",style:"width: 210px"},{name:"aliasName",align:"left",label:"Alias Name",unique:"aliasName",field:"aliasName",style:"width: 200px"},{name:"priceOptionName",align:"left",label:"Price option",unique:"priceOptionName",field:"priceOptionName",style:"width: 200px"},{name:"groupBooking",label:"Group Booking",align:"left",field:"groupBooking",unique:"groupBooking",style:"width: 200px"},{name:"startTime",align:"left",label:"Start Time",unique:"startTime",field:"startTime",style:"width: 200px"},{name:"endTime",align:"left",label:"End Time",unique:"endTime",field:"endTime",style:"width: 200px"},{name:"totalExpense",align:"left",label:"Total Expense",field:"totalExpense",unique:"totalExpense",style:"min-width: 300x"},{name:"meals",align:"left",label:"Meal",field:"meals",unique:"meals",style:"min-width: 300x"},{name:"productTitle",align:"left",label:"Product name",unique:"productTitle",field:"productTitle",style:"width: 200px"},{name:"productCode",align:"left",label:"Product code",unique:"productCode",field:"productCode",style:"width: 200px"},{name:"transportation",label:"Transportation",align:"left",field:"mainTransportation",unique:"transportation",style:"width: 200px"},{name:"tourGuides",align:"left",label:"Tour Guides",field:"tourGuides",unique:"tourGuides",style:"min-width: 300x"},{name:"drivers",align:"left",label:"Drivers",field:"drivers",unique:"drivers",style:"min-width: 300x"},{name:"leaders",align:"left",label:"Leaders",field:"leaders",unique:"leaders",style:"min-width: 300x"},{name:"hostesses",align:"left",label:"Hostesses",field:"hostesses",unique:"hostesses",style:"min-width: 300x"},{name:"captains",align:"left",label:"Captains",field:"captains",unique:"captains",style:"min-width: 300x"},{name:"supporters",align:"left",label:"Supporters",field:"supporters",unique:"supporters",style:"min-width: 300x"},{name:"helpers",align:"left",label:"Operation in-charge",field:"helpers",unique:"helpers",style:"min-width: 300x"},{name:"others",align:"left",label:"Others",field:"others",unique:"others",style:"min-width: 300x"},{name:"guestQuantity",label:"Guest quantity",align:"left",field:"guestQuantity",unique:"guestQuantity",style:"width: 200px"},{name:"adultNumber",label:"Adult Number",align:"left",field:"adultNumber",unique:"adultNumber",style:"width: 200px"},{name:"childNumber",label:"Child number",align:"left",field:"childNumber",unique:"childNumber",style:"width: 200px"},{name:"infantNumber",label:"Infant Number",align:"left",field:"infantNumber",unique:"infantNumber",style:"width: 200px"},{name:"youthNumber",label:"Youth Number",align:"left",field:"youthNumber",unique:"youthNumber",style:"width: 200px"},{name:"seniorNumber",label:"Senior Number",align:"left",field:"seniorNumber",unique:"seniorNumber",style:"width: 200px"}];t["a"]=a}}]);